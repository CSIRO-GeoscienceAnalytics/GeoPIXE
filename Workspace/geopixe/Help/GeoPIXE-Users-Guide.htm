<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>GeoPIXE User's Guide</title>

<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:"Tms Rmn";
	panose-1:2 2 6 3 4 5 5 2 3 4;}
@font-face
	{font-family:Helv;
	panose-1:2 11 6 4 2 2 2 3 2 4;}
@font-face
	{font-family:"New York";
	panose-1:2 4 5 3 6 5 6 2 3 4;}
@font-face
	{font-family:System;
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:Batang;
	panose-1:2 3 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimSun;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:PMingLiU;
	panose-1:2 1 6 1 0 1 1 1 1 1;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:Dotum;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:SimHei;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:MingLiU;
	panose-1:2 1 6 9 0 1 1 1 1 1;}
@font-face
	{font-family:Mincho;
	panose-1:2 2 6 9 4 3 5 8 3 5;}
@font-face
	{font-family:Gulim;
	panose-1:2 11 6 0 0 1 1 1 1 1;}
@font-face
	{font-family:Century;
	panose-1:2 4 6 4 5 5 5 2 3 4;}
@font-face
	{font-family:"Angsana New";
	panose-1:2 2 6 3 5 4 5 2 3 4;}
@font-face
	{font-family:"Cordia New";
	panose-1:2 11 3 4 2 2 2 2 2 4;}
@font-face
	{font-family:Mangal;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Latha;
	panose-1:2 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sylfaen;
	panose-1:1 10 5 2 5 3 6 3 3 3;}
@font-face
	{font-family:Vrinda;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Raavi;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Shruti;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Sendnya;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:Gautami;
	panose-1:2 0 5 0 0 0 0 0 0 0;}
@font-face
	{font-family:Tunga;
	panose-1:0 0 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Estrangelo Edessa";
	panose-1:0 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Yu Gothic";
	panose-1:2 11 4 0 0 0 0 0 0 0;}
@font-face
	{font-family:DengXian;
	panose-1:2 1 6 0 3 1 1 1 1 1;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Calibri Light";
	panose-1:2 15 3 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Palatino Linotype";
	panose-1:2 4 5 2 5 5 5 3 3 4;}
@font-face
	{font-family:Verdana;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Arial Unicode MS";
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Aptos;}
@font-face
	{font-family:"Aptos Display";}
@font-face
	{font-family:"Segoe UI Emoji";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
h1
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	line-height:14.0pt;
	font-size:14.0pt;
	font-family:"Arial",sans-serif;
	layout-grid-mode:line;}
h2
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:17.0pt;
	line-height:12.0pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	layout-grid-mode:line;
	font-style:italic;}
h3
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	line-height:12.0pt;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	layout-grid-mode:line;}
h4
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	page-break-after:avoid;
	font-size:10.0pt;
	font-family:"Arial",sans-serif;
	layout-grid-mode:line;
	font-weight:normal;
	font-style:italic;}
h5
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:42.55pt;
	font-size:13.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;
	font-style:italic;}
h6
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:42.55pt;
	font-size:11.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	text-align:center;
	page-break-after:avoid;
	font-size:25.0pt;
	font-family:"Tahoma",sans-serif;
	layout-grid-mode:line;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	font-size:12.0pt;
	font-family:"Tahoma",sans-serif;
	layout-grid-mode:line;
	font-weight:bold;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{margin-top:6.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:14.2pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{margin-top:3.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:1.0cm;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoToc4, li.MsoToc4, div.MsoToc4
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoToc5, li.MsoToc5, div.MsoToc5
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:2.0cm;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoToc6, li.MsoToc6, div.MsoToc6
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:70.9pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoToc7, li.MsoToc7, div.MsoToc7
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:3.0cm;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoToc8, li.MsoToc8, div.MsoToc8
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:70.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoToc9, li.MsoToc9, div.MsoToc9
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:80.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoListBullet, li.MsoListBullet, div.MsoListBullet
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:18.0pt;
	text-indent:-18.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoSubtitle, li.MsoSubtitle, div.MsoSubtitle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	text-align:center;
	line-height:24.0pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoBodyTextIndent2, li.MsoBodyTextIndent2, div.MsoBodyTextIndent2
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.MsoBodyTextIndent3, li.MsoBodyTextIndent3, div.MsoBodyTextIndent3
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;
	font-style:italic;}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	background:navy;
	font-size:10.0pt;
	font-family:"Tahoma",sans-serif;
	layout-grid-mode:line;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-link:"Balloon Text Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.55pt;
	font-size:8.0pt;
	font-family:"Tahoma",sans-serif;
	layout-grid-mode:line;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:54.0pt;
	text-indent:-18.0pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:54.0pt;
	text-indent:-18.0pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:54.0pt;
	text-indent:-18.0pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:54.0pt;
	text-indent:-18.0pt;
	font-size:11.0pt;
	font-family:"Calibri",sans-serif;}
p.DefaultParagraph, li.DefaultParagraph, div.DefaultParagraph
	{mso-style-name:"Default Paragraph";
	margin:0cm;
	line-height:10.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.DefaultParagraph1, li.DefaultParagraph1, div.DefaultParagraph1
	{mso-style-name:"Default Paragraph1";
	margin:0cm;
	line-height:10.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.AlphaList, li.AlphaList, div.AlphaList
	{mso-style-name:"Alpha List";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:12.0pt;
	margin-left:17.85pt;
	text-indent:-17.85pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;}
p.Numeric-List, li.Numeric-List, div.Numeric-List
	{mso-style-name:Numeric-List;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:6.0pt;
	margin-left:0cm;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.Reference, li.Reference, div.Reference
	{mso-style-name:Reference;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:33.75pt;
	text-indent:-32.9pt;
	line-height:12.0pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
p.equation, li.equation, div.equation
	{mso-style-name:equation;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:12.0pt;
	margin-left:0cm;
	text-align:justify;
	text-indent:33.75pt;
	line-height:18.0pt;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;
	font-weight:bold;
	font-style:italic;}
p.NotHeading2, li.NotHeading2, div.NotHeading2
	{mso-style-name:"Not Heading 2";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:17.0pt;
	line-height:12.0pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	layout-grid-mode:line;
	font-weight:bold;
	font-style:italic;}
p.NotHeading1, li.NotHeading1, div.NotHeading1
	{mso-style-name:"Not Heading 1";
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:0cm;
	font-size:18.0pt;
	font-family:"Arial",sans-serif;
	layout-grid-mode:line;}
p.Bulletlist, li.Bulletlist, div.Bulletlist
	{mso-style-name:"Bullet list";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:78.55pt;
	text-indent:-18.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	layout-grid-mode:line;}
span.BalloonTextChar
	{mso-style-name:"Balloon Text Char";
	mso-style-link:"Balloon Text";
	font-family:"Tahoma",sans-serif;
	layout-grid-mode:both;}
span.databold
	{mso-style-name:data_bold;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";
	layout-grid-mode:both;}
span.msoIns
	{mso-style-name:"";
	text-decoration:underline;
	color:teal;}
span.msoDel
	{mso-style-name:"";
	text-decoration:line-through;
	color:red;}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:595.4pt 843.3pt;
	margin:36.0pt 36.0pt 36.0pt 36.0pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>

</head>

<body lang=EN-AU link=blue vlink=purple style='word-wrap:break-word'>

<div class=WordSection1>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=NotHeading1 style='margin-left:36.0pt'><a name="_Toc18816515">                                              </a><span
lang=FR style='layout-grid-mode:both'><img width=325 height=207 id="Picture 44"
src="GeoPIXE-Users-Guide_files/image001.png"
alt="Logo, company name&#10;&#10;Description automatically generated"></span></p>

<h1><a name="_Toc222317309"></a><a name="_Toc18817036"></a><a
name="_Toc18817319"></a><a name="_Toc18907854"></a><a name="_Toc18929287"></a><a
name="_Toc18929474"></a><a name="_Toc19013237"></a><a name="_Toc19015506"><span
style='font-size:30.0pt'>GeoPIXE</span></a><span style='font-size:30.0pt'> </span><sup><span
style='font-size:30.0pt'>®</span></sup><span style='font-size:30.0pt'>                                    </span></h1>

<p class=NotHeading1><a name="_Toc18817037"></a><a name="_Toc18817320"></a><a
name="_Toc18907855"></a><a name="_Toc18929288"></a><a name="_Toc18816516">Quantitative
PIXE / SXRF Trace Element</a> Imaging and Analysis</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal align=right style='text-align:right'>A GUI analysis
environment for GeoPIXE ® including quantitative PIXE and SXRF analysis and
image projection using the <i>Dynamic Analysis</i> method</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoHeader align=right style='text-align:right'><span style='font-family:
"Arial",sans-serif'>C.G. Ryan, M. Jensen, B.E. Etschmann and D.R. Cousens</span></p>

<p class=MsoHeader align=right style='text-align:right'><b><span
style='font-size:12.0pt;font-family:"Arial",sans-serif'>CSIRO Mineral Resources</span></b></p>

<p class=MsoHeader align=right style='text-align:right'><span style='font-family:
"Arial",sans-serif'>Gate 5 Normanby Road, Clayton VIC 3168, Australia</span></p>

<p class=MsoHeader align=right style='text-align:right'><span style='font-family:
"Arial",sans-serif'>Email: </span><a href="mailto:GeoPIXE@csiro.au"><span
style='font-family:"Arial",sans-serif'>GeoPIXE@csiro.au</span></a></p>

<p class=MsoHeader align=right style='text-align:right'><span style='font-family:
"Arial",sans-serif'>&nbsp;</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyText align=right style='text-align:right'><span
style='font-size:10.0pt'>Building on the established methods of the GeoPIXE
software for PIXE analysis, a graphical user interface front-end has been
designed for PIXE and SXRF imaging and analysis using IDL to provide greater portability
between computer platforms.  The heavily vectorized code in GeoPIXE works
efficiently with the vector and matrix features of IDL to yield fast and
efficient operation.</span></p>

<p class=MsoBodyText align=right style='text-align:right'><span
style='font-size:10.0pt'>&nbsp;</span></p>

<p class=MsoBodyText align=right style='text-align:right'><span
style='font-size:10.0pt'>&nbsp;</span></p>

<b><i><span style='font-size:12.0pt;font-family:"Arial",sans-serif;layout-grid-mode:
line'><br clear=all style='page-break-before:always'>
</span></i></b>

<h2><a name="_Toc18817040"></a><a name="_Toc222317310">Table of Contents</a></h2>

<p class=MsoToc1><span
class=MsoHyperlink><a href="#_Toc222317309">GeoPIXE <sup>®</sup><span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317310">Table of
Contents<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>2</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317311">Notice of
Copyright<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317312">Limitation
of Liability<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>9</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc222317313">GeoPIXE<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>10</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317314">Quantitative
PIXE and SXRF Trace Element Imaging and Analysis<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>10</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc222317315">Overview<span
style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>10</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc222317316">GeoPIXE
User's Guide<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>13</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317317">File
Requester in GeoPIXE<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>13</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317318">Import and
Calibrate Raw Spectrum Data<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>15</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317319">Example<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>17</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317320">Loading
Multiple Spectra Files<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>18</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317321">Spectra
files<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>18</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317322">Extraction
from List-mode files<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>18</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317323">Spectrum
Display Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>18</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317324">Spectrum
Display Menus<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>19</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317325">File Menu:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>19</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317326">Display
Menu:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>19</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317327">Process
Menu:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317328">Analyze
Menu:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317329">Window Menu<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>20</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317330">Help Menu<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317331">Spectrum
Display Widgets<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317332">First row
below spectrum:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317333">Second row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317334">Bottom row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>21</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317335">Spectrum
Select Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>22</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317336">Array
Detector Channel Selection Window<span style='color:windowtext;display:none;
text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>23</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317337">Adjusting
the View in Spectrum Display<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>24</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317338">Context
Sensitive Help<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>25</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317339">Energy
Calibration Window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>25</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317340">X-ray
Identification Window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>26</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317341">Fitting a
PIXE or SXRF Spectrum<span style='color:windowtext;display:none;text-decoration:
none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>27</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317342">X-ray
Spectrum Fit Window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>27</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317343">Fitting
Multiple Spectra<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>29</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317344">Fit Results
Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>29</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317345">Pile-up
Models<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>30</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317346">Example<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>31</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317347">Fit Results
and Adjusting Properties<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>31</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317348">Result
Properties Window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>32</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317349">Export
Selection Requester<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>32</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317350">Advanced
Fitting Parameters<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>33</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317351">Multiphase
Loop<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>34</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317352">Adjustment
of X-ray relative-intensities<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>35</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317353">Fitting
Background User Plug-ins<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>36</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317354">Spectrum
User Plug-ins<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>37</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317355">Calculating
Thick, or Multi-layered, X-ray Yields<span style='color:windowtext;display:
none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>37</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317356">PIXE/SXRF
Yield Calculation Window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>37</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317357">Export of
Yield Results<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>39</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317358">Layer Plot
Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>40</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317359">Detector
Arrays and the Yield Calculation<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>41</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317360">3D Geometry
Viewer<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>42</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317361">Creating a
Dynamic Analysis Matrix for Image Projection<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>44</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317362">Exporting a
Dynamic Analysis Matrix for External Data Acquisition Use<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317363">Sorting
List-Mode Data using the Dynamic Analysis Matrix<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317364">Sort EVT
Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>45</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317365">Files<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>46</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317366">Device<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>47</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317367">Scan<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>48</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317368">Flux<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>50</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317369">Dynamic
Analysis, ADC Selection and Detector Arrays<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>51</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317370">Energy
Calibration – Array Detectors<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>53</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317371">Energy
Calibration – Single Detectors<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>54</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317372">Output and
Start Sort<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>55</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317373">Sort EVT
Widgets<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>55</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317374">In all XY
Scan Modes:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>55</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317375">Only in Stepping
Modes:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>55</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317376">In all XY
Scan Modes:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>56</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317377">In 3D Scan
Modes:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>56</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317378">In “Image
sub-region” scan mode:<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>56</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317379">In all XY
Scan Modes:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>56</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317380">Only in
XANES 3D mode:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>56</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317381">Only in Line
XANES (2D) mode:<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>56</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317382">Only with
Indirect Beam Flux Modes:<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>56</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317383">Bottom row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>57</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317384">Only in all
Maia Scan Modes (or for devices that enable these):<span style='color:windowtext;
display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>57</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317385">Only in all
Maia Scan Modes:<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>57</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317386">Multiphase
DA imaging (MPDA)<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>57</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317387">Automated
MPDA imaging<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>58</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317388">Batch
Processing of List-mode Files<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>59</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317389">Image
Display (main GeoPIXE window)<span style='color:windowtext;display:none;
text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>60</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317390">Image Clones<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>61</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317391">Image
Display Menus<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>62</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317392">File Menu:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>62</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317393">Display:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>63</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317394">Analyze:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>63</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317395">Process:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>63</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317396">Window:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>64</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317397">Help:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>65</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317398">Image
Display Widgets<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>65</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317399">First row
below image:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>65</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317400">Second row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>65</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317401">Third row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>65</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317402">Bottom row
(or to right for larger images):<span style='color:windowtext;display:none;
text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>65</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317403">Image Region
Selection Shapes<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>65</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317404">Image
Selection Modes<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>66</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317405">Image
Plotting and Exporting<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>67</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317406">Image
Operations<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>71</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317407">Image
Processing Window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>71</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317408">Image
Processing Operations<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>72</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317409">Interelement
Operations window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>74</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317410">Image
History<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>74</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317411">Image User
Plug-ins<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>75</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317412">Image
Regions<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>76</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317413">Image
Regions Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>76</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317414">Export
Selection Requester<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>78</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317415">Extracting
Spectra from Image Regions<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>79</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317416">Detector
Arrays<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>81</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317417">Element –
Element Associations<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>81</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317418">Associations
Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>81</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317419">Spline Tool
Shape Selection and the Image Regions Window<span style='color:windowtext;
display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>83</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317420">Editing
points selected in the Association window<span style='color:windowtext;
display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>83</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317421">Editing
pixel selection on the image<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>83</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317422">Associations
within a Sub-region<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>83</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317423">Operations
on Pixels selected by Association<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317424">Associations
Menus<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317425">File Menu:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317426">Display
Menu:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317427">Analyze
Menu:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317428">Associations
Widgets<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317429">First row
below image:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317430">Second row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>84</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317431">Third row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>85</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317432">Fourth row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>85</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317433">Bottom row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>85</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317434">RGB Three
Element Images<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>85</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317435">Image RGB
Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>85</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317436">Image RGB
Widgets<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>86</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317437">First row
below image:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>86</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317438">Second row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>86</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317439">Third row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>86</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317440">Bottom row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>86</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317441">Image RGB
Menus<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>87</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317442">Files<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>87</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317443">Learn<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>87</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317444">Image RGB
Export<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>87</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317445">Multi Image
Display Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>89</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317446">Multi Image
Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>89</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317447">Multi Image
Widgets<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>91</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317448">Left of main
window:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>91</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317449">First row,
below each image:<span style='color:windowtext;display:none;text-decoration:
none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>91</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317450">3D Image
Stack Display Window<span style='color:windowtext;display:none;text-decoration:
none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>91</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317451">3D Image
Stack Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>91</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317452">3D Image
Stack Menus<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>92</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317453">File Menu:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>92</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317454">3D Image
Stack Widgets<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>92</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317455">Second row:<span
style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>92</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317456">Linear
Traverses and Line Projections<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>92</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317457">Tailoring
Traverse Projection in More Detail<span style='color:windowtext;display:none;
text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>95</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317458">Correction
of Images for Sample Composition Effect on Yields<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>97</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317459">Correct
Yields Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>97</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317460">Projection
of Elemental Images onto End-member Proportion Images<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>98</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317461">Correction
of Images for the Effects of Differential Absorption<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>98</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317462">Correction
of Images for Pulse Pile-up Effects<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>98</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317463">Sorting
List-Mode Data using Spectrum Cuts<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>99</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317464">Setting-up
Spectrum Cuts Files<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>99</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317465">Cuts Setup
Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>99</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317466">Wizard
Plugins<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>100</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317467">Depth Wizard<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>100</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317468">Calculate a
Depth Curve<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>103</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317469">Form<b> </b>“Inner”
and “Outer” detector calibration files<span style='color:windowtext;display:
none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>104</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317470">Form “RGB”
depth images<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>105</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317471">Fit Region
spectra for particles to determine depth<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>106</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317472">Standards
Wizard<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>108</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317473">Set-up the
Wizard<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>108</span></a></span></p>

<p class=MsoToc4><span class=MsoHyperlink><a href="#_Toc222317474">Process the
data<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>110</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317475">MPDA Wizard<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>112</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc222317476">GeoPIXE
Analysis Scenarios, Data Flow and Worked Examples<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>113</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317477">Raw PIXE
Data to Elemental Images<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>113</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317478">Spectrum
Display and Selection<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>113</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317479">Fitting the
PIXE Spectrum<span style='color:windowtext;display:none;text-decoration:none'>... </span><span
style='color:windowtext;display:none;text-decoration:none'>114</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317480">Generate the
Dynamic Analysis Matrix<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>116</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317481">Sorting the
Event Data to Project Images<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>116</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317482">Notes on
Data Flow<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>116</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317483">Generating a
DA Matrix for a Detector Array and Sorting Images<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>117</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317484">Digital
Filtering of Images<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>118</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317485">Raw SXRF
Data to Elemental Images<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>118</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317486">Extract
total spectra<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>118</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317487">Fit the
X-ray spectrum and generate DA matrix<span style='color:windowtext;display:
none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>120</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317488">SXRF
Spectrum Fitting Strategy<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>121</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317489">Sort the LST
file to project images<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>123</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317490">Image
regions<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>124</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317491">Regenerate
images after adding extra elements<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>127</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317492">Summary<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>129</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317493">Verification
of Images using Regions<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>129</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317494">Extraction
of Spectra from Regions<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>129</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317495">Linked
Display of Spectra from Regions<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>129</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317496">Diagnosis of
Missing Elements<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>130</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317497">PIXE Fluid
Inclusion Analysis<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>131</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317498">Refitting
the Spectrum Keeping Geometry Parameters<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>133</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317499">Subtraction
of Scattered Beam Contributions<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>133</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317500">Subtraction
of Host Mineral Contributions<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>133</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317501">Refitting
Fluid Inclusion Spectra<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>134</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317502">Fitting
Spectra using Cuts<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>134</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317503">Types of
Spectrum Cuts<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>134</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317504">Fitting
Using Cuts<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>135</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317505">Fitting
Spectra for Images with Complex Pile-up<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>135</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317506">Correction
of Images for Complex Pile-up Effects<span style='color:windowtext;display:
none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>137</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317507">Correction
of Images for Sample Composition Effects on Yields<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>139</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317508">Correct
Yields Window<span style='color:windowtext;display:none;text-decoration:none'>.. </span><span
style='color:windowtext;display:none;text-decoration:none'>139</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317509">Projection
of Elemental Images onto End-member Proportion Images<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>140</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317510">Correction
of Images for the Effects of Differential Absorption<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>141</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317511">Correction
of Images for Charge Variation<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>142</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317512">Using the
Shape Tool for Region Selection<span style='color:windowtext;display:none;
text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>143</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317513">Exclude Mode
of Region Selection<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>143</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317514">Charge
Correction using Element Association Pixel selection<span style='color:windowtext;
display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>143</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc222317515">Notes on IDL
and GeoPIXE Installation<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>145</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317516">Installation
Notes<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>145</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317517">Preferences<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>145</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317518">Setting Up
Filter Definition Files<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>145</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317519">Filter Setup<span
style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>146</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317520">Setting Up
Detector Definition Files<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>147</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317521">Detector
Set-up<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>147</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317522">Detector
Arrays<span style='color:windowtext;display:none;text-decoration:none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>149</span></a></span></p>

<p class=MsoToc3><span class=MsoHyperlink><a href="#_Toc222317523">Detector
Array Layout File<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>151</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317524">Platforms
Supported:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>153</span></a></span></p>

<p class=MsoToc1><span class=MsoHyperlink><a href="#_Toc222317525">New Features
in Each GeoPIXE Release<span style='color:windowtext;display:none;text-decoration:
none'>. </span><span
style='color:windowtext;display:none;text-decoration:none'>155</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317526">New Features
in 8.8:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>155</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317527">New Features
in 8.6:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>155</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317528">New Features
in 7.6:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>155</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317529">New Features
in 7.5:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>155</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317530">New Features
in 7.4:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>158</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317531">New Features
in 7.3:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>159</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317532">New Features
in 7.2:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>160</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317533">New Features
in 7.1:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>161</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317534">New Features
in 7.0:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>161</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317535">New Features
in 6.6:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>162</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317536">New Features
in 6.5:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>162</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317537">New Features
in 6.4:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>163</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317538">New Features
in 6.3:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>163</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317539">New Features
in 6.2:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>164</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317540">New Features
in 6.1:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>165</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317541">New Features
in 6.0:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>165</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317542">New Features
in 5.5:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>166</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317543">New Features
in 5.2-5.4:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>166</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317544">New Features
in 5.1:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>166</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317545">New Features
in 5.0:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>167</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317546">New Features
in 4.9:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>167</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317547">New Features
in 4.8:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>167</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317548">New Features
in 4.7:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>167</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317549">New Features
in 4.6:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>167</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317550">New Features
in 4.5:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>168</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317551">New Features
in 4.4:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>168</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317552">New Features
in 4.3:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>168</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317553">New Features
in 4.2:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>168</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317554">New Features
in 4.1:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>168</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317555">New Features
in 4.0:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>169</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317556">New Features
in 3.9:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>169</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317557">New Features
in 3.8:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>170</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317558">New Features
in 3.7:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>170</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317559">New Features
in 3.6:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>170</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317560">New Features
in 3.5:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>170</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317561">New Features
in 3.4:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>171</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317562">New Features
in 3.3:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>171</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317563">New Features
in 3.2:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>171</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317564">New Features
in 3.1:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>171</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317565">New Features
in 3.0:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>172</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317566">New Features
in 2.9:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>172</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317567">New Features
in 2.8:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>172</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317568">New Features
in 2.7:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>173</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317569">New Features
in 2.6:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>173</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317570">New Features
in 2.5:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>174</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317571">New Features
in 2.4:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>174</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317572">New Features
in 2.3:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>174</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317573">New Features
in 2.2:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>175</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317574">New Features
in 2.1:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>175</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317575">New Features
in 2.0:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>175</span></a></span></p>

<p class=MsoToc2><span class=MsoHyperlink><a href="#_Toc222317576">New Features
in 1.9:<span style='color:windowtext;display:none;text-decoration:none'> </span><span
style='color:windowtext;display:none;text-decoration:none'>175</span></a></span></p>

<p class=MsoToc3>&nbsp;</p>

<b><i><span style='font-size:12.0pt;font-family:"Arial",sans-serif;layout-grid-mode:
line'><br clear=all style='page-break-before:always'>
</span></i></b>

<p class=NotHeading2><a name="_Toc18816517">Feb </a>2026</p>

<h2><a name="_Toc18816518"></a><a name="_Toc18817038"></a><a name="_Toc18817321"></a><a
name="_Toc18907856"></a><a name="_Toc18929289"></a><a name="_Toc18929475"></a><a
name="_Toc19013238"></a><a name="_Toc19015507"></a><a name="_Toc222317311">Notice
of Copyright</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><a name="_Toc18816519"></a><a name="_Toc18817039"></a><a
name="_Toc18817322"></a><a name="_Toc18907857"></a><a name="_Toc18929290"></a><a
name="_Toc18929476"></a><a name="_Toc19013239"></a><a name="_Toc19015508">Commonwealth
Scientific and Industrial Research Organisation (CSIRO) ABN 41 687 119 230 is
the owner of copyright in the Software. CSIRO grants to you a licence to the
Software on the terms of the MIT Licence.</a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Redistribution and use in source and binary forms, with or
without modification, are permitted provided that the following conditions are
met:</p>

<p class=MsoListParagraphCxSpFirst style='margin-left:60.55pt'><span
style='font-size:10.0pt;font-family:"Times New Roman",serif;layout-grid-mode:
line'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:10.0pt;font-family:"Times New Roman",serif;
layout-grid-mode:line'>Redistributions of source code must retain the above
copyright notice, this list of conditions and the following disclaimer.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:60.55pt'><span
style='font-size:10.0pt;font-family:"Times New Roman",serif'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;font-family:"Times New Roman",serif;layout-grid-mode:
line'>Redistributions in binary</span><span style='font-size:10.0pt;font-family:
"Times New Roman",serif'> form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or
other materials provided with the distribution.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:60.55pt'><span
style='font-size:10.0pt;font-family:"Times New Roman",serif'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;font-family:"Times New Roman",serif'>Neither the name
of the copyright holder nor the names of its contributors may be used to
endorse or promote products derived from this software without specific prior
written permission.</span></p>

<h2><a name="_Toc222317312">Limitation of Liability</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><a name="_Toc18816520">THE SOFTWARE IS PROVIDED “AS IS”,
WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO
THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE
FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,
TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR
THE USE OR OTHER DEALINGS IN THE SOFTWARE.</a></p>

<p class=NotHeading2>Trademarks</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>GeoPIXE is a trademark of CSIRO, registered in Australia.</p>

<p class=MsoNormal>The CSIRO name and logo are registered trademarks of CSIRO.</p>

<p class=MsoNormal>IDL is a trademark of NV5 Geospatial Solutions, Inc.</p>

<p class=MsoNormal>Windows, NT, XP, 10, PowerPoint are registered trademarks of
Microsoft Corporation.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For the avoidance of doubt, the licence granted to you to
use the Software does not grant permission or a licence to use any trademarks
or logos of CSIRO or any third party, including any trademarks or logos that
appear in or on the Software (including this user guide and any other
associated documentation). </p>

<b><span style='font-size:12.0pt;font-family:"Arial",sans-serif;layout-grid-mode:
line'><br clear=all style='page-break-before:always'>
</span></b>

<h1><a name="_Toc222317313"><span style='font-size:25.0pt'>GeoPIXE</span></a><span
style='font-size:25.0pt'>                                      </span></h1>

<h4><a name="_Toc18816522"></a><a name="_Toc18817042"></a><a name="_Toc18817324"></a><a
name="_Toc18907859"></a><a name="_Toc19015510"></a><a name="_Toc222317314">Quantitative
PIXE and SXRF Trace Element Imaging and Analysis</a> </h4>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc18816523"></a><a name="_Toc18817043"></a><a name="_Toc18817325"></a><a
name="_Toc18907860"></a><a name="_Toc18929292"></a><a name="_Toc18929478"></a><a
name="_Toc19013241"></a><a name="_Toc19015511"></a><a name="_Toc222317315">Overview</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The main first section of the manual “<b>GeoPIXE User's
Guide</b>” provides a description of the various windows of GeoPIXE in the
order in which they are typically used for building quantitative PIXE (proton
induced X-ray emission), monochromatic SXRF (synchrotron X-ray fluorescence) and
laboratory XRF images and exploring their content.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The last main section “<b>GeoPIXE Analysis Scenarios, Data
Flow and Worked Examples</b>” provides a number of worked examples using sample
PIXE and SXRF full-spectral image data-sets. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><i>A more extensive source of worked examples can be
found in the Workshop notes and <a name="_Hlk89181537">GeoPIXE Worked Examples </a>PDF
(see the “Help” directory). These provide step-by-step tutorials on various
data analysis scenarios using the Demo data available from the DAP site.</i></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><a name="_Hlk89181656">Both provide examples of the main
tasks of fitting spectra to generate the <b><i>Dynamic Analysis</i></b> (DA)
image projection matrix; using this DA matrix to process full-spectral data to
deconvolute elemental components and project separated elemental images; and
exploration and processing of the images to first verify their accuracy and
make corrections and then to explore their content.</a></p>

<p class=MsoNormal style='margin-left:22.7pt'><span style='layout-grid-mode:
both'><img width=550 height=550 id="Picture 2"
src="GeoPIXE-Users-Guide_files/image002.png" alt=Sample11-to-images></span></p>

<p class=MsoNormal>For a quick tour of main features and data-flow, using
worked examples with sample data, see the Scenarios examples “<a
href="#_Toc129528806"><b><span style='color:windowtext;text-decoration:none'>Notes
on PNC-CAT full-spectral SXRF data and imaging</span></b></a>” to illustrate
SXRF imaging, and “<a href="#_Toc129528799"><b><span style='color:windowtext;
text-decoration:none'>Raw PIXE Data to Elemental Images</span></b></a>”, which
illustrates PIXE imaging. With these as starting points, read the “<b>GeoPIXE
Users Guide</b>“ sections and pursue other worked examples.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><i>A very good starting point is to work through the
worked examples (with sample data) found in the GeoPIXE Workshop notes, located
in the Help directory.</i></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A description of the DA method of image projection can be
found in the paper “C.G. Ryan, <b><i>Quantitative Trace Element Imaging using
PIXE and the Nuclear Microprobe</i></b>, <i>International Journal of Imaging
Systems and Technology</i> (Special issue on Quantitative Imaging) 11, (2000)
219-230”. Recent refinements to the DA method for SXRF imaging can be found in
the papers “C.G. Ryan et al., 2010, ‘<b><i>Elemental X-ray imaging using the
Maia detector array: The benefits and challenges of large solid-angle</i></b>’,
<i>Nucl. Instr. Meth</i> A 619, 37-43 (DOI: 10.1016/j.nima.2009.11.035)” and  “C.G.
Ryan et al., 2010, ‘<b><i>The New Maia Detector System: Methods for High
Definition Trace Element Imaging of Natural Material</i></b>’, <span
class=databold><i>X-Ray Optics and Microanalysis, </i></span><i>AIP Conference
Proc<b>.</b></i> 1221, 9-17; doi:10.1063/1.3399266”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The basic philosophy is to use a representative spectrum
(one that contains all elemental lines likely to be encountered in a particular
series of samples and image areas) to generate a DA transform matrix.  This
enables the projection of EVT data (list-mode, event-by-event data or pixel
spectra) directly onto quantitative elemental images.  This process resolves
element overlaps, strongly rejecting artefacts from overlapping elements and
detector response effects (escape peaks, tails) and subtracts background. 
Pileups are well treated in many cases which involve a single dominant element
or majors in fixed ratios. (A more general approach that corrects for the
spatial variation of pile-up components has also been developed and can be
found in this manual.) The results are quantitative images in ppm.flux units.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Concentration variance images are also accumulated (at half
resolution to minimize memory usage), so that error estimates (which include
contributions from overlap and background subtraction) and detection limits can
be provided for all extracted concentration values and line profile
projections, etc.  The DA method is treated elsewhere (C.G. Ryan, D.N.
Jamieson, C.L. Churms and J.V. Pilcher, &quot;<b><i>A New Method for On-Line
True Elemental Imaging using PIXE and the Proton Microprobe</i></b>&quot;, <i>Nucl.
Instr. Meth</i>. B104 (1995b), 157-165; C.G. Ryan, &quot;<b><i>Quantitative
Trace Element Imaging using PIXE and the Nuclear Microprobe</i></b>&quot;, <i>International
Journal of Imaging Systems and Technology (Special issue on Quantitative
Imaging)</i> 11, (2000) 219-230; C.G. Ryan, &quot;<b><i>Developments in Dynamic
Analysis for Quantitative PIXE True Elemental Imaging</i></b>&quot;, <i>Nucl.
Instr. Meth. B</i>181 (2001) 170-179.; C.G. Ryan and D.N. Jamieson, <i>Nucl.
Instr. Meth</i>. B77 (1993) 203-214). Extension of the DA method to SXRF is
outlined in C.G. Ryan, B.E. Etschmann, S. Vogt, J. Maser, C.L. Harland, E. van
Achterbergh and D. Legnini, 2005, “<b><i>Nuclear Microprobe – Synchrotron
Synergy: Towards Integrated Quantitative Real-time Elemental Imaging using PIXE
and SXRF</i></b>”, <i>Nucl. Instr. Meth.</i> B231, 183-188 and  “C.G. Ryan et
al., 2010, ‘<b><i>The New Maia Detector System: Methods for High Definition
Trace Element Imaging of Natural Material</i></b>’, <span class=databold><i>X-Ray
Optics and Microanalysis, </i></span><i>AIP Conference Proc<b>.</b></i> 1221,
9-17; doi:10.1063/1.3399266”.</p>

<b><span style='font-size:12.0pt;font-family:"Arial",sans-serif;layout-grid-mode:
line'><br clear=all style='page-break-before:always'>
</span></b>

<h1><a name="_Toc18816537"></a><a name="_Toc18817057"></a><a name="_Toc18817339"></a><a
name="_Toc18907874"></a><a name="_Toc18929306"></a><a name="_Toc18929492"></a><a
name="_Toc19013255"></a><a name="_Toc19015525"></a><a name="_Toc222317316">GeoPIXE
User's Guide</a></h1>

<p class=MsoNormal>The following sections provide a guided tour of GeoPIXE, in
an order commonly encountered in data analysis. Following the user’s guide is a
chapter entitled “<b>GeoPIXE Analysis Scenarios, Data Flow and Worked Examples</b>”,
which aims, through the use of data analysis scenarios, to provide a working
picture of how data flows between window elements, how data is shared, and how
windows are interdependent; the actions taken in one window flow onto to affect
changes or update the contents of other windows.</p>

<h2><a name="_Toc222317317">File Requester in GeoPIXE</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The GeoPIXE <i>File Requester</i> is used for I/O of various
GeoPIXE files. It includes a tree directory display, bookmarked paths (that can
be saved), a path translation table, a preview of certain data-types, a file
list in the selected directory path, sometimes with multiple file selection,
and file filters. A check box enables the display and sorting of only files
with numeric file extensions, useful for many raw data formats.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>File Requester</i> is often called behind the scenes
in GeoPIXE to search for files needed for analysis. If files get moved on a
file system, or between computers, the paths saved in various data-files (e.g.
image DAI files) will become unresolved on the new file-system. The <i>File
Requester</i> is used to search for missing files in the local directory tree,
or in another “Config” dir tree. If the file is found, it is quietly used. If
not, the <i>File Requester</i> will open to enable you to locate it on its new
path. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=588 id="Picture 134" src="GeoPIXE-Users-Guide_files/image003.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Select a directory tree root from the Bookmarked list
(double-click to select) or type in a new root path in the “Root” text field
(and hit &lt;return&gt;). Navigate in the directory tree by opening directory
nodes (you may need to click on a node to display the “+” symbol to open a
directory and display its sub-directories). Single click a directory name to open
it in the tree and view its files in the Files list below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note: Initial paths for raw data, analysis and results and
config files can be established using the GeoPIXE config file “geopixe.conf”.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The selected path is shown in the “Path” text field. This
can be bookmarked for later use by clicking “Add”. Use “Save” to save these to
disk for a later session. Select a file from the file list. The list is sorted
in alphabetical order. Use the “Numeric extensions” check-box to display only
files with numeric extensions and sort these numerically in ascending order.
Some uses of the File Requester in GeoPIXE allow multiple file selection (e.g.
raw data sorting for certain data types), in which case use “shift” and “ctrl”
modifier keys and drag-selection to select files. Click “OK” to open the
selected file(s) or simply double click on a selected file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Entries can be added to a “Translation Table” to enable the
translation of the path roots (perhaps from another computer system) to local
paths. A hint is to set-up translations for the path root towards the top of
the directory tree. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=247 id="Picture 4" src="GeoPIXE-Users-Guide_files/image004.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Selected files are previewed in the “Preview” area for many
file types, and various details are shown under “Details”. File selection can
be modified using one or more Filters. Separate multiple filters by commas
(e.g. *-m.dai,*-x.dai” or select multiple files using control-click and drag).
Select a file and click ”OK”. Cancel file selection using “Cancel” or return a
blank file name.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>File-Requester</i> endeavours to find files provided
by searching in the local directory tree, if they are not found where expected
from their complete filename with path. Hence, if dir structure has been
changed, or files moved to a new system, the <i>File-Requester</i> (called
behind the scenes from various window, such as <i>Sort EVT</i> and <i>Image
Regions</i>) will work to find them locally on the new system. You may see a
progress bar appear when a search is underway. If it is taking too long, or
clearly wandering into unwanted parts of a dir tree, you can “Cancel” it and
navigate to the lost file.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc222317318">Import and Calibrate Raw Spectrum Data</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Start GeoPIXE by double clicking on GeoPIXE.sav (or a
shortcut to it; see the Installation Notes below).  Select &quot;Spectrum
Display&quot; from the Windows menu to open the <i>Spectrum Display</i> window
(a <i>Spectrum Display</i> window may be open already, if selected for start-up
in config file “geopixe.conf”).  To import a raw spectrum, use the
&quot;Import&quot; menu under the File menu of <i>Spectrum Display</i>.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Select data groups between “particle beam” and
“synchrotron”, and select a category of data file, usually by source laboratory
or data device. The bottom panel will list various data format options for that
group. Select one and click “OK”. This will overwrite the spectra in <i>Spectrum
Display</i>. To append to the existing spectra, check the option “append
spectra to display”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “extract” options will scan list-mode data files and
extract total energy spectra for each detector (E), the total projection of
each onto the X axis (X), the Y axis (Y), and for Maia format data the total
time-over-threshold spectra for each detector (T). Use the “select” button in<i>
Spectrum Display</i> to display the list of detectors and E, X, Y and T spectra
found for each.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=264
height=445 id="Picture 135" src="GeoPIXE-Users-Guide_files/image005.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=264 height=445
id="Picture 136" src="GeoPIXE-Users-Guide_files/image006.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Import file types are provided by Object Oriented device
driver plugins. Plugins for the following devices have been written, and new
ones can be created using these as templates:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Histogram
files (.HIST) generated by the Lund Sparrow Kmax data acquisition system, and
written on a MAC.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>XSYS
spectrum files (.DAT) generated by the XSYS data acquisition system at NAC, and
written under VAX/VMS.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MPsys
raw spectrum files (.IMG) generated by the MARC MPsys data acquisition
software, and written under PC/Linux.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MPsys
raw spectrum files (.IMG) generated by the MARC MPsys data acquisition
software, and written under Unix.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>PIXE,
PIGE and RBS RPT spectrum files generated at ANSTO.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Rontec
ASCII format spectrum files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3MCA
spectra files generated at the APS.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MCA
spectra files generated at the NSLS.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><span
lang=FR>9)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Simple ASCII formats.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Total spectra
extracted from Lund Kmax list-mode files, and written on a MAC.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Total spectra
extracted from XSYS list-mode files (.EVT) generated by the XSYS data
acquisition system at NAC, and written under VAX/VMS.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Total spectra
extracted from MPsys list-mode files (.EVT) generated by the MARC MPsys data
acquisition software, and written under PC/Linux.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Total spectra
extracted from MPsys list-mode files (.EVT) generated by the MARC MPsys data
acquisition software, and written under Unix.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>14)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
files extracted from OM DAQ list-mode files (.LMF) generated by Oxford
Microbeams OM DAQ data acquisition software, and written under PC Windows.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>15)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
files extracted from Sandia data-cube files (.EVT) generated at Sandia, and
written under PC Windows.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>16)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
files extracted from MPAWIN and MPA3 list-mode files (.LST) generated by
Fastcom Tec data acquisition software, and written under PC Windows.<i> </i></p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>17)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
files extracted from BDA12 list-mode files (.BD12) generated by Rontec data
acquisition software, and written under PC Windows.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>18)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
files extracted from Primecore list-mode files (.pixieU48) generated by the
Primecore data acquisition software for the Rontec BD12 detector, and written
under PC Windows<i>.</i></p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>19)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
(E,X,Y) extracted from APS Data Cube files reformatted to LST format.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>20)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra (E,X,Y)
extracted from NSLS MED/MCA pixel spectra files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>21)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
files extracted from Labo list-mode files (.LST) generated by <span lang=EN-US
style='layout-grid-mode:both'>Laboratory Equipment Co.</span> multiparameter
data acquisition software, and written under PC Windows.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>22)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>APS and NSLS MCA
spectrum files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>23)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total ‘traverse
like’ spectra extracted from 1D PNC-CAT full-spectral scan files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>24)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
files extracted from LIBI Zagreb list-mode files (.LST).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>25)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
extracted from the Maia 96 data acquisition system files, with and without
pileup extracted and/or gain linearization. Select the pileup limits file for
pileup rejection and/or the linearization function parameters and lookup table
for gain linearization.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>26)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
extracted from the HDF format NSLS image scan files (.HDF).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>27)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Ortec Maestro SPE
spectra from Wakasa Wan Energy Research Centre, Japan (.SPE).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>28)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
extracted from Wakasa Wan ACC UniDAQ list-mode data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>29)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
extracted from MCA image files from the SLS (preliminary support).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>30)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Hasylab FIO
spectra files (basic support).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>31)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
extracted from Hasylab FIO image spectra files (basic support).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>32)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>Total spectra
(E,X,Y,T) extracted from CSIRO Maia detector event mode data streams.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>33)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i>New formats are
added regularly ...</p>

<p class=MsoBodyTextIndent2 style='margin-left:0cm'>&nbsp;</p>

<p class=MsoBodyTextIndent2>In the case of general ASCII spectra, various
formats are handled.  One reads spectra, one from each column, into consecutive
spectra (“File<span style='font-family:Wingdings'>à</span>Import” – “Generic
ASCII” – “ASCII Spectrum (data only)”).  Another reads ASCII spectra files that
contain channel energy as the first column  (e.g. as produced by the “File<span
style='font-family:Wingdings'>à</span>Export<span style='font-family:Wingdings'>à</span>CSV
Table” menu) and one or more spectra channel counts as the subsequent columns
(“File<span style='font-family:Wingdings'>à</span>Import” – “Generic ASCII” –
“ASCII Spectrum (Energy, data)”).  These files can be white space, comma or tab
delimited, or a combination of these.  For files that contain an energy column,
it is assumed that all spectra have the same linear energy calibration, which
is deduced from this energy column.  The first row of the file is assumed to
contain column labels.  In energy mode, the first label gives the energy units.</p>

<h3><a name="_Toc18816539"></a><a name="_Toc18817059"></a><a name="_Toc18817341"></a><a
name="_Toc18907876"></a><a name="_Toc18929308"></a><a name="_Toc18929494"></a><a
name="_Toc19013257"></a><a name="_Toc19015527"></a><a name="_Toc222317319">Example</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>  keV,  CAL_T2.02</p>

<p class=MsoNormal>    -0.02425769,      0.0000000</p>

<p class=MsoNormal>    0.008927912,      0.0000000</p>

<p class=MsoNormal>     0.04211353,      0.0000000</p>

<p class=MsoNormal>     0.07529914,      0.0000000</p>

<p class=MsoNormal>      0.1084847,      0.0000000</p>

<p class=MsoNormal>      0.1748559,      0.0000000</p>

<p class=MsoNormal>             .                               .</p>

<p class=MsoNormal>             .                               .</p>

<p class=MsoNormal>             .                               .</p>

<p class=MsoNormal>       3.792087,       386.0000</p>

<p class=MsoNormal>       3.825273,       597.0000</p>

<p class=MsoNormal>       3.858459,       1552.000</p>

<p class=MsoNormal>       3.891644,       4614.000</p>

<p class=MsoNormal>       3.924830,       11969.00</p>

<p class=MsoNormal>       3.958015,       24700.00</p>

<p class=MsoNormal>       3.991201,       39311.00</p>

<p class=MsoNormal>       4.024386,       47487.00</p>

<p class=MsoNormal>             .                               .</p>

<p class=MsoNormal>             .                               .</p>

<p class=MsoNormal>             .                               .</p>

<h3><a name="_Toc222317320">Loading Multiple Spectra Files</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent2>Multiple files can be selected from the file
requester to load multiple files into consecutive spectra regions in memory.
The behaviour depends on whether spectra are extracted from a list-mode file
and whether the list-mode data is in a file sequence as opposed to a single
list-mode file.</p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<h4><a name="_Toc222317321">Spectra files</a></h4>

<p class=MsoBodyTextIndent2>Use multiple file selection using the control or
shift keys to select multiple files in the file requester. </p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<p class=MsoBodyTextIndent2>A sub-set of files in a directory can be viewed in
the file requester by typing a file-name with a wild-card character (or many)
and hitting “return” or “enter”.  The file requester then only shows these
files. To select all of them, click on the first one, and then hold down
“shift” and click on the last one.</p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<p class=MsoBodyTextIndent2>If a spectrum file contains multiple spectra, then
all spectra will be loaded. Spectra files created using the “EVT” button in the
Image Regions window, for example, will contain multiple spectra in general.</p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<p class=MsoBodyTextIndent2>To append the loaded files to the ones currently in
memory, use the “File<span style='font-family:Wingdings'>à</span>Import” pop-up
and check the “Append spectra to display” check-box.</p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<h4><a name="_Toc222317322">Extraction from List-mode files</a></h4>

<p class=MsoBodyTextIndent2>For list-mode data stored in a single file,
multiple file selection will cause a number of list-mode files to be scanned
for E,X,Y [,T] data. These will be accumulated into a single set of E,X,Y [,T] spectra
one for each ADC or detector channel in an array. </p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<p class=MsoBodyTextIndent2>Some list-mode formats use a sequence of files to
hold the list-mode data (or a series of pixel spectra). In this case, it is
normal to select the First file and be prompted to select the Last file; all
files in the sequence (files with the same file-name root) will to processed
between the First and Last file, in numerical order. </p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<p class=MsoBodyTextIndent2>You can use multiple file selection to select files
in a sequence for a single list-mode set or select files that include other
list-mode sequences. The E,X,Y [,T] spectra data from the specific files
selected will be accumulated into a single set of E,X,Y [,T] spectra, one for
each ADC.</p>

<p class=MsoBodyTextIndent2 style='margin-left:0cm'>&nbsp;</p>

<h3><a name="_Toc19013258"></a><a name="_Toc19015528"></a><a
name="_Toc222317323">Spectrum Display Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>On import, all spectra contained in the file will be
displayed by <i>Spectrum Display</i>, using an energy horizontal scale for the
first spectrum (if calibrated, else channels).  You may need to scroll to see
the spectrum or click on “Full”. The <i>Spectrum Display</i> window can be
resized or made full-screen.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=331 id="Picture 7" src="GeoPIXE-Users-Guide_files/image007.jpg"></span></p>

<p class=DefaultParagraph style='line-height:normal'><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal>Alternatively, you can sort through the list-mode data file
and extract the full energy spectra for all ADCs/ detector array channels, and
their corresponding X,Y [,T] spectra, using the <i>Import</i> &quot; Extract
from ... &quot; formats items. This will also automatically create a SPEC file
with the same name as the list-mode file, but with “i.spec” appended. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note that for some formats, this may be missing an energy
calibration read from other files (e.g. mp files in MARC format data). Once the
spectra are read and calibrated, save the spectra to a new SPEC file using the
“File</i><span style='font-family:Wingdings'>à</span><i>Save” menu.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013259"></a><a name="_Toc19015529"></a><a
name="_Toc222317324">Spectrum Display Menus</a></h3>

<h4><a name="_Toc19015530"></a><a name="_Toc222317325">File Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Load SPEC                              Load spectra from GeoPIXE
format binary files. Spectra in memory are lost.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Append SPEC                        Load spectra and append these
to existing spectra in memory.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Import<span style='font-family:Wingdings'>à</span>Spectra                   Import
spectra in various formats from various platforms, with options to clear memory
first, or to append loaded spectra to those already in memory.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Import<span style='font-family:Wingdings'>à</span>Energies                  Scan
raw data files for beam energies (for XANES).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Load DA Matrix                    Load a Dynamic Analysis matrix
to examine rows as spectra.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Load TRAV                            Load traverse data for
multiple elements as spectra.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Save SPEC                              Save spectra to a .SPEC
file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Save TRAV                             Save traverse data to a
.TRAV file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>CSV Table             Export
spectra as columns in a comma separated CSV text file</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>CSV Table w/
overlays   Export spectra as columns including the spectra overlays</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>CGM Plots              Plot
selected spectra in Computer Graphics Metafile format.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>WMF Plots             Plot
selected spectra in Windows Metafile format.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Convert<span style='font-family:Wingdings'>à</span> …                          File
format conversion programs.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Print Plot                                 Plot selected spectra
to the default printer.</p>

<h4><a name="_Toc19015531"></a><a name="_Toc222317326">Display Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Spectrum Select                     Open the Spectrum Select
window (or use button on bottom left of window).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Calibrate Energy                    Open the energy calibration
window, and select the Cal 0,1 markers.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Get ALL Energy Cals from SPEC    Get energy Cals for all stations
or detectors in an array from a selected spectrum file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Get ALL Energy Cals from DAI      Get energy Cals for all
stations or detectors in an array from a selected image file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear ALL Energy Cals        Set all energy Cals to display
“channels” only.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Identify X-rays                       Open the X-ray
identification window, and select the Identify marker.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Mark<span style='font-family:Wingdings'>à</span>…                               Select
various marker groups, as an alternative to the drop-list at the bottom-left of
the window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear All Markers                 Clears all markers, even those
that are not displayed at present.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Pileup<span style='font-family:Wingdings'>à</span>from Single
Spec   Calculate a pileup spectrum using the first displayed spectrum.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Pileup<span style='font-family:Wingdings'>à</span>using Image
products       Calculate a pileup spectrum using the full image products.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Ge Escapes                             Calculate and overlay the
Ge escape spectrum.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Si Escapes                               Calculate the Si escapes
spectrum.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Show Negative                       Display negative channel
values. Use this to examine DA matrix rows.</p>

<h4><a name="_Toc19015532"></a><a name="_Toc222317327">Process Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Smooth                                    Perform a simple 2
channel boxcar smooth operation on all selected spectra.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Median Filter                          Perform a 3 channel Median
digital filter on spectrum.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Compress                                Combine channels in
pairs.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add                                          Add all selected
spectra and store results in the first.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Add (re-map cal)                   Add all spectra, but re-map
energy calibrations to match first.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Fold  (bit #12)                        Merge two halves of a
spectrum when a most-significant toggle bit has been used (bit #12), i.e.
‘fold’ it over on itself to half length, adding channel counts.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Fold  (bits #11,12)                 Merge two halves of a
spectrum when two toggle bits has been used (bit #11,12), i.e. ‘fold’ it over
on itself to half length, adding channel counts.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct Throttle                     Remove “Throttle” statistics
reduction.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>User Plugins<span style='font-family:Wingdings'>à</span>…                   Execute
one of the available spectrum processing user plug-ins.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Reload user plugins               Force a reload of all plugins,
if a new one is added or recompiled.</p>

<h4><a name="_Toc19015533"></a><a name="_Toc222317328">Analyze Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Analyze Cut                           Integrate peak counts using
the currently selected Cut. View results in the Cuts Setup window. Can also use
Cut markers and the “&#61523;” button. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X-ray Spectrum…                 Opens the X-ray Spectrum Fit
window for fitting PIXE or SXRF spectra. You can also use the menu “Window<span
style='font-family:Wingdings'>à</span>X-ray Spectrum Fit”.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Fit Curve                                 Select a curve fitting function
or perform the fit using X markers to define channel ranges to constrain
parameters (e.g. X0-X1 for left background, X2-X3 for central peak or slope,
X4-X5 for right background).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Throttle                                    Using the current
spectrum as a model, develop a Throttling factor spectrum to be used to
selectively reduce Maia data acquisition system data-rates.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>“Throttle” uses
a pop-up panel of parameters to derive a ‘factor’ by which the count-rate must
be reduced, while minimising loss of image quality and trace element
statistics. Once this ‘factor’ is derived interactively, the routine uses the
current spectrum as a model to calculate a spectrum of factors to reduce each
channel count-rate by. This is saved to a TXT file for use with the Maia data
acquisition system and also for replay and correction of Throttled event file
collected in this way. (See also the <i>Image Display</i> “Analyze<span
style='font-family:Wingdings'>à</span>Throttle” menu for a better method, and <i>Sort
EVT</i> for the use of Throttle files on play-back.)</p>

<h4><a name="_Toc19015534"></a><a name="_Toc222317329">Window Menu</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Spectrum Select                     Another way of opening the <i>Spectrum
Select</i> window, equivalent to the “Select” button.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Spectrum Properties              Displays details from the
spectrum header.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Calibrate Energy                    Open the <i>Energy Calibration</i>
window and select the Cal 0,1 markers.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Identify X-rays                       Open the <i>X-ray
identification</i> window and select the Identify marker. Can also use the “?”
button below the spectrum.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Cuts Setup                              Open the <i>Cuts setup</i>
window to view/manipulate energy cuts.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X-ray Spectrum Fit                Open the <i>X-ray Spectrum Fit</i>
window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Fit Results                               Open the <i>Fit Results</i>
window, which shows results from X-ray Spectrum Fit.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Yield Calculation                  Open window to perform <i>PIXE/SXRF
yield modelling</i>.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Depth profile                          Plot ratio of inner/outer
detectors in a Maia array (better to use Depth Wizard)</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Time Amplitude Display      Display <i>Time-Amplitude</i> for
Maia detector records.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>PIGE Fit                                  Open <i>PIGE fit</i>
window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Edit Filters                               Open the <i>Filter
Setup</i> window to edit and create X-ray absorber filter files. X-ray Spectrum
Fit will need to be closed and reopened to use new filters.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Edit Detector                          Open the <i>Detector Setup</i>
window to edit and create detector files. X-ray Spectrum Fit will need to be
closed and reopened to use new detectors.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Blog Browser                          Open the Maia event stream
raw data browser<i> Blog Browser</i>.</p>

<h4><a name="_Toc222317330">Help Menu</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>GeoPIXE Users Guide          Advice on accessing the GeoPIXE
Users guide and other PDF guides.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Query IDL Environment      Probe the IDL installation.</p>

<p class=Bulletlist style='margin-left:0cm;text-indent:0cm'>&nbsp;</p>

<h3><a name="_Toc222317331">Spectrum Display Widgets</a></h3>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>This list
summarises the functions of all widgets on the <i>Spectrum Display</i> window,
including buttons, sliders, drop-lists and text entry widgets. These are listed
from left to right, top to bottom.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<h4><a name="_Toc222317332">First row below spectrum:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Scroll Bar                           Control to scroll spectrum
in X to show areas off screen.</p>

<h4><a name="_Toc222317333">Second row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Select” Button                     Open the <i>Spectrum Select</i>
window to select spectra to display.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Marker Drop-list                    Select which marker set is
active on the display.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span> “&#8721;” Button                            Analyze between the
current markers. When used with Cut and X markers, results appear in the <i>Cuts
Setup</i> window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“?” Button                              Opens the <i>X-ray
Identification</i> window and sets the marker to “Identify”.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Full” Button                         Display the full spectrum
range.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Shrink” Button                    Shrink the spectrum in energy;
increase the energy range visible.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Expand” Button                  Expand the spectrum in energy;
decrease the energy range visible.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Widen” Button                    Expand to display the range
between the View 0,1 markers.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span> Scale Drop-list                       Set the Y scale display
mode.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Up” Button                           Expand the spectrum up;
reduce the Y maximum value displayed. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Down” Button                     Compress the spectrum down;
increase the Y maximum value displayed.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span> “Log/Lin” Button                 Toggle between log and linear
display on the Y axis.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Show errors” option            A check-box to display spectra as
points with error bars.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Errors” select                        Display curve with error
bars given by error array.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Diff” select                            Overlay the difference
between data and fit.</p>

<h4><a name="_Toc222317334">Bottom row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Help Text                                Context-sensitive help
area, shows help prompts for widgets as the mouse pointer moves over them.</p>

<p class=Bulletlist style='margin-left:191.35pt;text-indent:-130.7pt'>&nbsp;</p>

<p class=MsoNormal>Markers are set by first selecting the marker-set type using
the “Marker” drop-list and then clicking on the spectrum to position these,
starting with the right-most marker for a group. For example, to set View
markers select the “View” markers in the drop-list. If no View markers are set,
click to the right of the spectrum to position the V1 marker. Click to the left
to position the V0 marker. Either can be moved by clicking on them and
dragging. If markers are already positioned, then click and drag them to
re-position. Markers may be out of view. In this case scroll the spectrum to
find them or click on “Full” to show the entire spectrum.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The Scale mode drop-list selects between: (i) Fixed – Fixed
vertical scale, adjusted with Up, Down buttons, (ii) Auto – Vertical scale set
to make all spectra visible, (iii) Norm – Scale is set for first spectrum, as
for “Auto”, and then all other spectra are scaled to this Y range, (iv) and,
Cut – like “Norm”, but uses the sum integrated over the Cut range, between the
C0 and C1 markers. Re-apply this drop-list to recalculate the normalizations
for re-display, if needed.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=543
height=376 id="Picture 8" src="GeoPIXE-Users-Guide_files/image008.jpg"></span></p>

<p class=MsoNormal><i>Spectrum Display showing data displayed with points and
error bars, using “Error bars” option.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013260"></a><a name="_Toc19015535"></a><a
name="_Toc222317335">Spectrum Select Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To select (or hide) spectra open the <i>Spectrum Select</i>
window using the &quot;Select&quot; button beneath the spectrum (or “Spectrum
Select” in the Windows menu).  This shows a list of spectra loaded along with
parameters for each in a table. All spectra that are visible (all to start
with) are marked with &quot;*&quot; in the row labels on the left of the table.
To hide a range of spectra, select them by clicking and dragging a range within
the table. Then click &quot;Display&quot; to toggle their visibility.  Similarly,
the visibility of overlays can be toggled using the “Overlay” button (they are
labelled with “F” when on).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Alternatively, while all spectra are visible (all with
&quot;*” initially, or after using “All” button) use &quot;Prev&quot; as a
shortcut to display just the first one. Then &quot;Next&quot; to move to the
next one, etc. Alternatively, select a row by clicking in it, and then click on
“One” to select and display just that row. This window can be resized and
scrolled in X and Y. Click on “All” to display all spectra. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Normally <i>Spectrum Display</i> colours each spectrum and
overlay differently. The colour legend is shown in the “Sample” column of the
table. Alternatively, you can select “Highlight” mode, using the left drop-list
at the bottom of the <i>Spectrum Select</i> window.  This highlights or draws
in green, the spectrum selected in <i>Spectrum Select</i>.  To select a
spectrum, simply click on that row label. All other spectra are displayed in
grey.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=541
height=163 src="GeoPIXE-Users-Guide_files/image009.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Spectra can be deleted using the “Delete:” buttons, which
deletes spectra based on the selection of the Drop-list to the right. To delete
spectra, first select a row (or a range of rows by clicking and dragging) and select
“Selected range” and then the “Delete” button. To delete all XY spectra, select
“all XY spectra” on the drop-list and delete use the “Delete:” button.
Similarly, E and T spectra can be deleted as well as all Odd or Even detector
channel spectra using the appropriate drop-list selection. These options ignore
the current row selection. The “Displayed spectra” drop-list option selects all
spectra currently displayed (and showing a “*” in the row title on the left of
the table). The “Fit overlays” option deletes successive overlays (e.g. fit,
background, escape peaks, pileup overlays, etc.) of selected rows, starting
with the last one added. A special case is the “Charge values” option, which
zeroes all charge for all spectra in the table. There are also drop-list items
to delete all Not selected or Not Displayed spectra or spectra with No Valid
Energy Calibration.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Values in the <i>Spectrum Select</i> window can be edited.
“Cal A” and “Cal B” change the energy calibration and “Charge” affects the
selected charge. “DT Corr” is the relative dead-time (and pileup) correction
factor between detector channels, as the Charge is generally already dead-time
corrected. It reflects any differences in dead-time/pileup correction applied
between detector spectra in a detector array. “Y Low” and “Y High” affect the
displayed Y scale and “Y Log” selects between Log (1) and Linear (0) scales.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Array…” button brings up a new <i>Array Detector
Channel Selection</i> window designed for spectra selection based on detector
channels in an array. </p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317336">Array Detector Channel Selection Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>First select the appropriate detector array using the drop-list
at the top of the window. Only detector setups are listed that specify a
detector array (see the <i>Detector Setup</i> window description later in the
manual). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=536
height=657 id="Picture 137" src="GeoPIXE-Users-Guide_files/image010.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on a detector pad to toggle its selection state
(green=On, grey=Off, violet=not found in <i>Spectrum Select </i>table), as well
as other members of the selected class. Class is selected using the “Selection
Class” drop-list. This allows groups of detectors to be selected or deselected
based on column, row radial position, odd and even detector channels. Relevant
to the Maia detector, it also allows selection based on the custom chips (12
for Maia 384) and detector quadrant (4 for Maia 384). Use the buttons “Save”
and “Get” to save or load detector channel selections to/from a file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Once the desired detectors are selected, use “Apply” to
apply them to the <i>Spectrum Select </i>table and <i>Spectrum Display</i>.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317337">Adjusting the View in Spectrum Display</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To adjust the viewed energy range in the <i>Spectrum Display</i>
window, use the horizontal scroll bar to slide the spectrum, or the
&quot;Expand&quot; and &quot;Shrink&quot; buttons. The vertical scale can be
controlled using &quot;Up&quot;, &quot;Down&quot; or &quot;Log/Linear&quot;.  Leave
this on “Auto” normally. You can also use the View markers. These can be
selected by using the Marker drop-list below the spectrum and to the left. 
Select &quot;View 0,1&quot;, then click first to set the HIGH end of the
desired view range, and then click again to set the LOW end of the view range
(or click and drag these, if they are present already). Then click on the
&quot;Widen&quot; button to expand this view.  The vertical scale can be
optimized using the vertical scale drop-list. Set this to “Auto” to
automatically rescale the vertical scale and suppress zero on log scales. The
full spectrum can be displayed using &quot;Full&quot;.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All markers in <i>Spectrum Display</i> are set from HIGH to
LOW energy (i.e. for View markers, set the high V1 markers first and then click
away from it to the left to set the V0 low View marker).  If they are on the
spectrum already, move them using the mouse and the left mouse button to click
and drag them.  If they are out of sight, try scrolling the spectrum view or
using “Full” to display the entire spectrum. If you lose track of the markers,
you can clear them using the “Display<span style='font-family:Wingdings'>à</span>Clear
All Markers” menu.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317338">Context Sensitive Help</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>Note that you can get help on buttons and
drop-lists, etc. in many GeoPIXE windows by moving the mouse over the widget. 
Context-sensitive help then appears in the text area at the bottom of the
window (if present).  </p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013261"></a><a name="_Toc19015536"></a><a
name="_Toc222317339">Energy Calibration Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The imported spectrum data are often without energy
calibrations or integrated charge (except for some formats, e.g. Maia, MPsys,
Lund, NAC and OM DAQ formats).  To calibrate the spectrum, open the <i>Energy
Calibration</i> window using &quot;Calibrate Energy&quot; under the Display or
Windows menus. This automatically selects the two Cal markers used to select
two peaks to determine a linear calibration. Click in the spectrum to first set
the HIGH energy marker, then click again to set the LOW energy marker. These
can be dragged by selecting them with the left mouse button. To select the Cal
markers again at any time, use the drop-list on the left below the spectrum and
select &quot;Cal 0,1&quot;. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=541
height=357 id="Picture 11" src="GeoPIXE-Users-Guide_files/image011.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>The bottom field in the Cal window provides
context-sensitive help on any widget the cursor is over. Simply move the cursor
around to get help/reminders on the functions of each widget. </i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>There are two ways to specify the energy of each marker
using the groups of three widgets in the <i>Cal</i> window on the top-left. 
Firstly, you could simply type the energy of a line in the lower of these three
widgets (use the context-sensitive help to verify what each does).<b> </b>Secondly,
for PIXE or SXRF you can enter the element mnemonic and select an X-ray line
using the widgets on the top row. Repeat this for the high marker and enter
units for the energy (e.g. keV) in the units field (or use the “keV” button to
set the units to “keV”).  If you select a line mnemonic, then “keV” will be set
for you. For PIXE and SXRF, always use &quot;keV&quot; for energy units in
GeoPIXE.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=346
height=138 id="Picture 12" src="GeoPIXE-Users-Guide_files/image012.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The A and B calibration coefficients are dynamically updated
on the right. Hit &lt;return&gt; after each typed in entry to update A and B. 
Now select &quot;Apply One&quot; (click on the “One” button) to have this cal
transferred to the displayed spectrum to calibrate the currently viewed
spectrum (only).  Click on “All” to set the energy calibration for all spectra.
</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>“RA” or ‘Re-Assign’ is similar, setting the calibration of
the first spectrum, but then sets the calibration of all others maintaining the
current relative calibration between spectra. Use this for a detector array if
you find that you want to globally adjust existing calibrations for spectra for
the array.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>You can also type in A and B coefficients directly. In this
case, also remember to click on “keV” and enter A and B in “keV” units, or type
in other units in the text widget (e.g. “MeV”).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>You can also retrieve an existing energy calibration from a
SPEC file using the “Get” button.  This will retrieve the Cal A,B coefficients
from the file for the ADC # specified in the drop-list to the right of “Get”. 
If the drop-list is set to “Any”, “Get” will just return the first Cal
in the SPEC file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>Note: It is a good idea to save the spectrum to
disk after calibration. Use the Spectrum Display menu “File<span
style='font-family:Wingdings'>à</span>Save SPEC” for this.</p>

<p class=MsoNormal><i>&nbsp;</i></p>

<h3><a name="_Toc19013262"></a><a name="_Toc19015537"></a><a
name="_Toc222317340">X-ray Identification Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>X-ray lines can be identified using the <i>Identify</i>
popup window.  Click on the &quot;?&quot; button in the <i>Spectrum Display</i>
window to bring up <i>Identify</i> (or select “Identify X-rays” in the Display
or Windows menus).  This switches to the &quot;Identify&quot; marker. Now you
can click and drag within the spectrum to identify the closest match in energy
for any feature or peak.  The scrolling list in <i>Identify</i> shows the
closest match and those nearby. You can tailor the relative intensity threshold
of lines that are displayed using the scroll bar at the bottom.  View the
context-sensitive help to get information about each widget in <i>Identify</i>.
You can also click on a line to set the marker to that energy. In this case,
all lines for the corresponding element will be highlighted in yellow in the
line list table.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=182
height=313 id="Picture 13" src="GeoPIXE-Users-Guide_files/image013.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=323 height=218 id="Picture 14"
src="GeoPIXE-Users-Guide_files/image014.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All lines for selected elements can be marked by switching <i>Identify</i>
into “Mark Element” mode, using the radio buttons at the top.  This brings up a
periodic table. Click on any element to show the lines for that element, or use
the scroll bar at the bottom, which controls atomic number. X-ray lines are
marked in orange and the sub-shell edges are marked in dashed light blue. The
relative intensities of the marked lines can be modified by the choice of
filters and detector. These can be selected from the drop-lists at the bottom
of the window.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i><u>Tip</u>: You can open two copies of the X-ray
Identification window and set one in “Identify” mode and the other in “Mark
Element” mode. To identify a line, click in the “Identify” mode window list
(which will set the Identify marker), and then click and drag the cursor on the
spectrum, or click a line to mark. To mark an element, click its symbol in the
periodic table in the “Mark Element” mode window.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Once the spectrum is calibrated, save it to a GeoPIXE native
spectrum file (.SPEC) using the &quot;File<span style='font-family:Wingdings'>à</span>Save
SPEC&quot; menu in <i>Spectrum Display</i>.  This saves the calibration, all
spectra, and any fit overlays.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816540"></a><a name="_Toc18817060"></a><a
name="_Toc18817342"></a><a name="_Toc18907877"></a><a name="_Toc18929309"></a><a
name="_Toc18929495"></a><a name="_Toc19013263"></a><a name="_Toc19015538"></a><a
name="_Ref203894980"></a><a name="_Ref203894999"></a><a name="_Toc222317341">Fitting
a PIXE or SXRF Spectrum</a></h2>

<h3><a name="_Toc19013264"></a><a name="_Toc19015539"></a><a
name="_Toc222317342">X-ray Spectrum Fit Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the <i>X-ray Spectrum Fit</i> window using the
&quot;Windows<span style='font-family:Wingdings'>à</span>X-ray Spectrum
Fit&quot; menu of <i>Spectrum Display</i>.  This shows a periodic table of
elements to select for the fit, and entry for filters, detector calibration
parameters and PIXE/SXRF yield calculation.  Initially, the fit energy range is
set to 4 to 38 keV and uses the SNIP background algorithm. This appears on the
spectrum as a violet overlay. (NOTE: For clarity, use the <i>Spectrum Select</i>
window to hide all other spectra in the file, except the one you're interested
in fitting; e.g. using “Prev”.)  Use the View markers in the spectrum to select
a fitting range.  Back in the <i>X-ray Spectrum Fit</i> window, select
&quot;Use View&quot; to set the fit range to this view range.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=331
height=296 id="Picture 15" src="GeoPIXE-Users-Guide_files/image015.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The background shown is affected by the selection of
detector, filter and yields. These should now be set-up.  See below for
information on calculating yields and setting up detector and filter files. 
Use the drop-lists for detector and filter to select the correct ones for your
experimental set-up.  To calculate yields, use the &quot;New&quot; button
beside &quot;Yields:&quot; (see below), or &quot;Load&quot; to load an existing
yield set.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><i>Follow worked examples in GeoPIXE Worked Examples PDF
in the Help dir using demo data from the FTP site.</i></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>New detector and filter specifications can be assembled
using the Edit Detectors and Edit Filters window (see the later section in this
manual) accessed via the “Windows” menu. The detector drop-list may be ghosted
out and desensitized if a full detector array has been used in the yield
calculation (see the discussion below under Yield Calculation and Detector
Arrays).</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If your spectrum does not already contain integrated charge
(<span style='font-family:Symbol'>m</span>C) data, then enter this in the
&quot;Q&quot; field. For SXRF “charge” is the photon fluence in units of
6.242.10<sup>12</sup> photons. See the scenarios chapter for a discussion of
setting the conversion from ion chamber counts to flux in these units (using
the “?” button).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now you can select elements to fit.  (Use the <i>Identify </i>features
mentioned above to identify lines in the spectrum.)  One click on an element in
the periodic table selects K X-ray lines only (the button is now green).  One
more click selects L lines (yellow button). Successive clicks select: M lines
(red), both K and L lines (pale blue) and both L and M lines (orange).  (See
the legend at the top of the periodic table in <i>X-ray Spectrum Fit</i>.)  You
can disable an element by right-mouse clicking on it.  Left-click it to enable
it again.  Shift-left-mouse click (left mouse click while holding down
&quot;shift&quot; key) will clear an element setting completely.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>As each element is selected, an initial estimate for it is
displayed on the spectrum as a guide, using the default detector resolution
set-up in the detector file.  This is not a fit yet.  With all elements
selected, click &quot;Fit One” to perform the fit. The fit to the spectrum is
overlaid on the data (in red) in <i>Spectrum Display</i>, along with the
background estimate (in violet).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Two background options exist at present: SNIP, with or
without Boost, and the Bauer algorithm (or a combination of both, which is good
for lab XRF).  SNIP uses the SNIP non-linear iterative peak-clipping
algorithm.  SNIP is appropriate for most spectra involving fairly strong
filters.  Boost is a modified SNIP where absorption effects are removed before
application of SNIP.  This is recommended for spectra with strong absorption
features, such as a strongly rolling-over bremsstrahlung peak at low energy in PIXE.
See details below under “Advanced Fitting Parameters”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This overlay can be hidden by selecting the spectrum in <i>Spectrum
Select</i> and hitting the “Fit/Overlays” button to toggle its visibility.  The
“F” in the row label indicates the visibility of the overlay.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Advanced fitting parameters that may need to be adjusted
from time to time for added control on fitting are discussed below.</i></p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=544
height=332 id="Picture 16" src="GeoPIXE-Users-Guide_files/image016.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317343">Fitting Multiple Spectra</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note that the operation of the “Fit All” button of X-ray
Spectrum Fit has changed in GeoPIXE 3.3.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To fit multiple spectra using the “Fit: All” button in <i>X-ray
Spectrum Fit</i>, start by removing any undesired spectra if necessary. Cycle
through the spectra using the “Next” button of the <i>Spectrum Select</i>
window (“Prev” to begin with to display just the first spectrum). Any undesired
spectra can be deleted using the “Delete Spec” button. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To delete all XY spectra (e.g. that may be there if the
spectra have come from an Extract from list-mode operation) using the “No XY”
button. Similarly, you might want to delete all spectra with “No Valid Energy
Calibration”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If it is not already present, set the charge/flux for a
spectrum in the Q box in <i>X-ray Spectrum Fit</i>. If all the spectra do not
initially contain Q information, then the “Fit All” operation will use the same
Q for all spectra. If spectra have individual charge values, then these will be
used in each fit.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Then click the “Fit: All” button in <i>X-ray Spectrum Fit</i>.
The results of fitting all spectra will be appended to the <i>Fit Results</i>
table.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013265"></a><a name="_Toc19015540"></a><a
name="_Toc222317344">Fit Results Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If any misfits indicate a missing element, add this element
and perform the fit again. You can also use the &quot;Refit&quot; button for
this.  However, in order to use &quot;Refit&quot; you need the<i> Fit Results</i>
window open, and you need to make sure a row of <i>Fit Results</i> is selected
first (see <i>Fit Results</i> below).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Fit Results</i> shows the results of fits to spectra and
displays various result quantities given by the drop-list on the left (default
is “conc” for concentration).  The second drop-list allow the units of “conc”
to be selected. The default is “ppm (wt)” for ppm by weight. “mmol/l” requires
a valid density to be specified for the unknown layer of the sample (see <i>Yield
Calculation</i> set-up elsewhere). “ng/cm<sup>2</sup>” is appropriate for a
layered target and gives the mass density for the unknown layer.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Properties” button brings up a pop-up panel to refine
parameters used in the Yield calculation and to specify fluid inclusions
parameters for modelling yields from a buried fluid inclusion. See the section
later on Fluid Inclusions for details.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=466
height=176 id="Picture 17" src="GeoPIXE-Users-Guide_files/image017.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Calibration parameters, peak width parameters, and tails can
be enabled or disabled in the fit using the checkmarks to the right in <i>X-ray
Spectrum Fit</i>.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If there are problematic detector artefacts in the spectrum
that need to be ignored during fitting, specify the regions of the spectrum to
excise using Cuts.  Setting up Cuts is discussed below.  Input these into <i>X-ray
Spectrum Fit</i> using the &quot;load&quot; buttons beside &quot;Cuts:&quot; on
the “Advanced/General” tab. These cuts will define ranges of energy in the
spectrum that will be ignored by the fitting procedure.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>As each fit is performed, the results (as well as all
parameters) are added to the <i>Fit Results</i> table.  This can be viewed via
the &quot;Windows<span style='font-family:Wingdings'>à</span>Fit Results&quot;
menu in <i>Spectrum Display</i>.  The <i>Fit Results</i> window is described
below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The present <i>X-ray Spectrum Fit</i> parameters and element
selection should be saved to a file (.PCM) using the &quot;Save&quot; button at
the top of X-ray Spectrum Fit.  New ones can be loaded with &quot;Load&quot;.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Use the context-sensitive help field at the bottom to learn
about each widget in <i>X-ray Spectrum Fit</i>. </p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317345">Pile-up Models</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The type of pile-up modelling can be selected using the
“Pileup” drop-list. Normally, a “pile-up element” is used in PIXE or SXRF
spectrum fitting; select this with the “from Spectrum” option. In this mode,
the relative intensities of the pile-up element lines are calculated
automatically from the intense lines in the spectrum being fitted, which will
normally be from a selected region or the total PIXE/SXRF spectrum for the
entire image area. Use this option for relatively uniform regions, or for
images where a single element dominates the spectrum over all pixels. GeoPIXE
calculates pile-up lines to second order (3 pulses pile-up) with up to 50
lines. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>However, if the PIXE/SXRF spectrum corresponds to a whole scanned
image area with spatially changing major elements then the nature of the
pile-up will have changed with position across the image. In other words, the
major intense X-ray lines and the resulting pile-up relative intensities will
have changed with pixel. A better approach in this case is to calculate pile-up
relative intensities using direct products of image pixel counts. This can be
done using the “Display<span style='font-family:Wingdings'>à</span>Pileup<span
style='font-family:Wingdings'>à</span>using Image products” menu in <i>Spectrum
Display</i>; remember to load the corresponding images into the <i>Image
Display</i> window first.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note: Use the calculation “Display</i><i><span
style='font-family:Wingdings'>à</span>Pileup</i><i><span style='font-family:
Wingdings'>à</span>using Image products” for a spectrum corresponding to the
whole scan area.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note: Don’t confuse pileup modelling in X-ray Spectrum
Fit, as discussed here, with pileup correction used during sorting of Maia
list-mode data formats (see Sort EVT window and the section “</i>Correction of
Images for Pulse Pile-up Effects<i>” below).</i></p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=466
height=328 id="Picture 18" src="GeoPIXE-Users-Guide_files/image018.jpg"
alt=Spectrum-Display-Image-Pileup-Fit></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>X-ray Spectrum Fit</i> can make use of this prior
calculation of ‘Image Pileup’ by selecting the “Image pixel product pileup”
option in the “Pileup” drop-list on the “Advanced/General” tab. Make sure to
calculate this pile-up first before trying to fit, and it may be helpful to
save the spectrum with this pile-up simulation for later reference. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>Note that this routine requires that images have
been projected already, and makes use of products of elemental images, on a
pixel-by-pixel basis. You will need to complete the stages given below on
building a DA matrix and sorting elemental images first. Also, take care in
fitting to make sure that cuts are not used that remove a major element line
that is important for pile-up simulation. This is illustrated with worked
examples in the GeoPIXE Scenarios and Data Flow section.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc18816541"></a><a name="_Toc18817061"></a><a name="_Toc18817343"></a><a
name="_Toc18907878"></a><a name="_Toc18929310"></a><a name="_Toc18929496"></a><a
name="_Toc19013266"></a><a name="_Toc19015541"></a><a name="_Toc222317346">Example</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Load the sample spectrum “25-223-6a.spec” from the
“data\csiro\cooke-6a” directory.   Select the View markers (normally set when
window is opened) and click on the HIGH and LOW ends of the main part of the
spectrum. Click on “Widen” to expand between these markers.  Open the Spectrum
Select window (click on “Select”) and click on “Prev”, to display just the PIXE
energy spectrum.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the fitting window using the “Window<span
style='font-family:Wingdings'>à</span>X-ray Spectrum Fit” menu.  In <i>X-ray
Spectrum Fit</i>, click on “Load” at the top to load fitting parameters from a
saved PCM file (“25-223-6a.pcm” in the same directory). This will display the
SNIP background (in Boost mode in this case) and the initial estimate of the
spectrum.  To fit the spectrum click on “Fit One”.  The results of the fit can
be viewed in the <i>Fit Results</i> window (“Window<span style='font-family:
Wingdings'>à</span>Fit Results” menu).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>There are also examples in the <i>GeoPIXE Scenarios and Data
Flow</i> section and in the <i>GeoPIXE Worked Examples</i> PDF.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816542"></a><a name="_Toc18817062"></a><a
name="_Toc18817344"></a><a name="_Toc18907879"></a><a name="_Toc18929311"></a><a
name="_Toc18929497"></a><a name="_Toc19013267"></a><a name="_Toc19015542"></a><a
name="_Toc222317347">Fit Results and Adjusting Properties</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>Fit Results</i> table can be opened using the
&quot;Windows<span style='font-family:Wingdings'>à</span>Fit Results&quot; menu
in <i>Spectrum Display</i>.  The results show concentration calculated using
the yields and parameters set-up in <i>X-ray Spectrum Fit</i>.  The various
parameters can be viewed using the drop-list at the bottom-left of <i>Fit
Results</i>.  These include concentrations, error estimates, minimum detection
limits and all fitting, experimental and yield parameters.  The <i>Fit Results</i>
window can be resized and scrolled. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Buttons on the <i>Fit Results</i> window provide these
functions: “Load” load previous results (stored in files with extension “.pfr”)
and append them to the table; “Save” save results to a PFR file; “Export” to
export selected data and parameters to a CSV file for import into a spreadsheet
program; “Properties” to make adjustments to various sample properties (see
below); “Veto” to veto selected element results columns; “Delete” to delete
selected rows; and “Clear” to clear the entire table.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To correct a row of <i>Fit Results</i>, to add an extra
element to the fit, for example, use the &quot;Refit&quot; button in <i>X-ray
Spectrum Fit</i>.  This will replace/update the first row selected in <i>Fit
Results</i>.  But the row must be selected first for this to work. To select a
row, click in the left row label, or click and drag a range of rows within the
table. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><i>Note that a row of the table must be selected for
“Refit” to work.</i></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Selected rows can be deleted with the &quot;Delete&quot;
button, or the whole table can be cleared with &quot;Clear&quot;. </p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013268"></a><a name="_Toc19015543"></a><a
name="_Toc222317348">Result Properties Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Specific properties of each analysis can be adjusted using
the &quot;Properties&quot; button, which opens the <i>Results Properties</i>
window.  For thick targets this enables filters, detector and yields to be
changed or an overall scaling factor to be applied.  Select a row, or range of
rows, to effect.  After making a change, hit &quot;Apply&quot; in <i>Results
Properties</i> to apply the change.  This will apply just the changes you made
to all rows selected.  Coming soon will be a &quot;Tie&quot; feature similar to
the original GeoPIXE.  For fluid inclusions, a number of parameters can be set
governing the 3D modelling of the geometry of a fluid inclusion and subtraction
of blank contributions (see the Scenarios section on fluid inclusion analysis).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=233
height=387 id="Picture 19" src="GeoPIXE-Users-Guide_files/image019.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=233 height=387 id="Picture 20"
src="GeoPIXE-Users-Guide_files/image020.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Fit results</i> can be loaded or saved to a file (.PFR)
using &quot;Load&quot; and &quot;Save&quot;.  The currently displayed results
or parameters can be exported to a comma-separated ASCII file (.CSV) using
&quot;Export&quot;.  This brings up a pop-up panel to select which categories
of parameters and results to export, and to select elements.  These files can
be loaded into a spreadsheet program.  </p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013269"></a><a name="_Toc19015544"></a><a
name="_Toc222317349">Export Selection Requester</a></h3>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'>To export fitting results
from <i>Fit Results</i> use the “Export” button. The following requester
gathers information for the export. The top area selects the elements to
export. This selection can be loaded from a SELECT file or saved for later use.
The button section selects what to export from the tables available (see drop-list
on left in <i>Fit Results</i>). The selection “Veto light shallow elements”
selects a criterion to veto the export of error-prone light element results
from fluid inclusions where the lines have suffered excessive self-absorption
in the sample matrix. These selections can also be loaded or saved to a file.</p>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=290
height=393 id="Picture 21" src="GeoPIXE-Users-Guide_files/image021.jpg"
alt=Fit-Export></span></p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816543"></a><a name="_Toc18817063"></a><a
name="_Toc18817345"></a><a name="_Toc18907880"></a><a name="_Toc18929312"></a><a
name="_Toc18929498"></a><a name="_Toc19013270"></a><a name="_Toc19015545"></a><a
name="_Toc222317350">Advanced Fitting Parameters</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Advanced” tab on the X-ray Spectrum Fit window contains
a number of parameters and options for refining the treatment of background,
peak-tailing and detector parameters for spectrum fitting under the following
tabs:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>General</b>: 
</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Cuts:</b>  A file of spectrum CUTs or regions-of-interest (ROI) can
be loaded to specify regions of the spectrum to <u>exclude</u> ranges of
spectrum channels from the fit.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Pileup:</b>  Enables selection of the pileup calculation mode,
selecting between normal calculation of pileup based on line intensities in the
spectrum being fitted, and advanced pileup based on pixel-by-pixel products of
elemental images.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Deficit(%):</b>  Sets the % loss in the sum peak amplitude for a
pile-up peak due to the finite timing resolution of the system and the shaping
time of the amplifier.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Back1</b>: 
</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Background algorithm: </b> Chose the algorithm used for background
estimation between the built-in “SNIP” and “Bauer” background algorithms and
background plug-ins.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Passes:</b>  Select the number of passes through the background
algorithm. SNIP uses 8 passes by default.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Boost mode enable:</b>  Enables “Boost” mode, which removes strong
absorption related curvature in the background before applying the background
algorithm. This is useful with PIXE spectra collected using filters that
produce a strong roll-off towards low energies in the spectrum.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Back2</b>: 
</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Multiple Background mode: </b> Off uses a single selected background
component, while “Split Back” will split this background into two components,
with a smooth transition from one to the other at the “Split Energy”. </p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Split Energy:</b> Define the energy (keV) of the transition from one
Back component to the other. This is use for lab XRF spectra to separate light
element background from the broad continuum of a filtered lab XRF source
spectrum.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Cal:</b></p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Cal fit parameters</b>: Free or fix Cal parameters (reflects radio
button on “Setup” tab.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Free Gain term</b>: Optionally fix or free (default) the gain energy
calibration term alone.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Widths</b>: 
</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Width Parameters: </b> Controls peak width fitting parameters, to be
“Free” or “Fixed” in the fit, or return them to defaults. Only the Noise
parameter is varied in the fit.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Free Fano factor:</b>  Occasionally, for ultimate fitting accuracy,
you may need to free the Fano factor, which controls the energy dependence of
fitted peak widths. The default works well in most cases.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Mn K FWHM: </b> Text entry and slider to manually change peak width
noise parameter, when width parameters are fixed in the fit. This parameter is
refined when “Free” in the fit.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Tails
1</b>:  </p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Tail Fit Parameters: </b> Controls peak tail fitting parameters, to
be “Free” or “Fixed” in the fit, or return them to defaults or disable tails
altogether.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Tail Amplitude: </b> Text entry and slider to manually change tail
amplitudes, when tail parameters are fixed in the fit. This parameter is
refined when “Free” in the fit.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Write detector parameters:</b>  Write the modified detector
parameters (tail amplitude on this panel, and the parameters on the “Tail 2”
panel) to a selected detector file.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Tails
2</b>:  </p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><b><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b>Amplitude: F, B: </b> Thickness (µm) of regions of incomplete
charge collection at the front (F) and back (B) of the detector crystal. These
parameters help to shape the dependence of tail strength on X-ray energy.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><b><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></b><b>Length: L, S:</b>  Parameterization of the X-ray energy
dependence of the exponential tail lengths (lengths = L + S*(energy-6.4)).</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>PIXE</b>: 
</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Curvature:  </b>Parameter to fine-adjust the curvature of the
background, particularly at lower X-ray energies in PIXE spectra (&lt;7 keV),
which is useful to refine curved background when Boost is active.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Secondary electron bremsstrahlung removal:</b>  An alternate approach
to shaping low-energy background (superseded by “curvature” and “boost”
options).</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>XRF</b>: 
</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>i.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Compton</b><b> Tail: </b>  Amplitude of the exponential tail on the Compton inelastic scattering peak (and also high-energy tailing). This parameter is
refined when “Free” in the fit (see 3(i) above). This term approximates the
strength or amplitude of the multiple scattering tail of the scattering peak.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>ii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Tail Length:</b>  Length of the Compton tail. This parameter is
refined when “Free” in the fit (see 3(i) above). This term approximates the
slope or length of the multiple scattering tail of the scattering peak.</p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iii.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Shift:</b>  Slider and text entry field to adjust the energy of the
Compton peak(s), to account for matrix effects and changing mean electron
momentum. </p>

<p class=Numeric-List style='margin-left:108.0pt;text-indent:-108.0pt'><span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>iv.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span><b>Spread:</b>  Slider and text entry field to adjust the width of the
Compton peak(s), to account for multiple-scattering effects, sample layout,
detector solid-angle and electron momentum distribution.</p>

<h2><a name="_Toc222317351">Multiphase Loop</a></h2>

<p class=MsoNormal>In the same way as the Correct Yields method can be used to
perform a pixel-by-pixel sample composition correction of images (see “Correction of Images for Sample Composition Effect on Yields” section), the fit can
be iterated to converge on the major element composition with the sample
expressed as a mixture of end-member terms plus a remainder component. The
results of a fitting iteration determines the end-member components, which is
used to form a weighted average of the (inverse) X-ray yields and line
intensities for a further iteration. This converges on an improved estimate of
sample composition and uses better X-ray relative intensities that reflect the
major element composition.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=331
height=296 id="Picture 22" src="GeoPIXE-Users-Guide_files/image022.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>First, select “Multiphase Fit” in the drop-list and the
number of iterations (3 is usually ample). The end-member matrix needs to be
defined in the <i>Define Composition Correction Matrix</i> window (open it
using the “New” button opposite “Multiphase”). Identify the main end-member
components (phases) in the sample and perform a yield calculation for each.
Then identify elements that are observed well in the spectrum and provide some
distinction between phases. Then define a mixing matrix, which defines the
concentration of each of these distinguishing elements in each phase and select
the pre-calculated yields files for each phase. The remainder, not accounted
for by these components, uses a “Remainder” yield model. Save this to a COMAT
file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=428
height=187 id="Picture 23" src="GeoPIXE-Users-Guide_files/image023.jpg"></span></p>

<p class=MsoNormal><i>A simple matrix defined to assume a mixture of a
carbonate (largely identified by Sr concentration) and an Fe-silicate
(characterized by Fe)</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the <i>X-ray Spectrum Fit</i> window, select one of the
“Multiphase fit, Loop N=n” modes for selected number of composition iterations.
Seldom will you need more than N=2,3 iterations. Then click “Fit: One”, which
will do the fit and iterate on major element composition and the inferred
end-member phase mixture. The final concentrations should better correspond to
the actual composition as sampled by the spectrum.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>NOTE: The model assumes uniform mixing of end-member
component phases. If the region contains dramatically different areas in terms
of composition, then the full MPDA imaging approach may be more appropriate.</i></p>

<h2 style='line-height:normal'><a name="_Toc222317352">Adjustment of X-ray
relative-intensities</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Adjust” tab on the X-ray Spectrum Fit window opens a
panel to allow adjustment of the X-ray relative-intensities for a selected
element. For a single element, the intensities of selected lines and groups of
lines can be freed in the fit to help refine their relative intensities. This
is intended for database refinement and to adjust minor line intensities that
are known to be sensitive to chemical effects and atomic environment.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Select the element of interest with the top drop-list. Then
select the lines to be adjusted. Always leave at least the alpha(1) peak fixed
(“off”). Use the drop-list beside each line to select a free parameter to be
used to scale this line intensity in the fit. Lines close in energy should be
grouped and associated with the same free parameter number. In the example
below, just the L<span style='font-family:Symbol'>g</span>4 and L<span
style='font-family:Symbol'>g</span>5 lines of Au are being adjusted to account
for chemical effects.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=372
height=416 id="Picture 24" src="GeoPIXE-Users-Guide_files/image024.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Once line intensities have been adjusted, the new values can
be updated, which updates the yield calculation results in memory, using the
“Update relative intensities” button. Once updated, these refinements could be
used in general fitting using the current yield and relative intensity data in
memory (select adjust element to “off”). To save these to disk, use the “Save
Yields” button and give the new file a distinctive name that says that this
element has been adjusted.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>N.B.  These changes do not change the X-ray database
values for relative intensities, or the fundamental parameters on which they
are based. It only makes local changes, which are saved to the specified yield
file.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc222317353">Fitting Background User
Plug-ins</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>X-ray Spectrum Fit</i> window has a user plug-in
facility to cater for user derived background estimation.  You can write
background operations in IDL.  These are loaded when GeoPIXE runs, and appear
on the Background selection drop-list (on the “Advanced/Background” tab)  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>You need IDLDE to be able to compile your own plug-in
procedures.  However, once you have built the SAV file, you can run them
through GeoPIXE using IDL run-time.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>User plug-ins are designed at present for operations that
change the spectrum data or add an overlay (e.g. background), for the currently
selected spectra, but do not change the spectra names, the number of spectra,
or their sizes.  Extension in these areas may come later.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent2>The file “template_back_plugin” is provided with
the GeoPIXE distribution.  It provides a template for writing spectrum
background plug-ins.  It performs a simple median smooth as an example, with
the option of removing absorption using Boost.  See the file for a description
of the arguments.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All Background template routines MUST be named with
&quot;_back_plugin.pro&quot; at the end of the file name.  For a new
&quot;Fred&quot; plug-in, copy and rename the template file to
&quot;fred_back_plugin.pro&quot; and edit the first line to the new name.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Plug-ins should be compiled in IDLDE and saved as a SAV
file.  Only compile routines for ONE plug-in and save it using the command:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>SAVE, /routines, filename='fred_back_plugin.sav'</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>for a &quot;fred_back_plugin&quot; plug-in.  To ensure this,
exit IDLDE and start it again to compile and save another plug-in (or use the
command .FULL_RESET_SESSION, “.f” for short, in IDLDE).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>NOTE: It is very important to ensure that ONLY routines for
ONE plug-in are saved in each SAV file.  Otherwise, unexpected results may
result when the SAV files are restored at run-time.  The plug-in SAV files will
then be loaded automatically when GeoPIXE.sav runs, if the plug-in SAV files
are located in the “plugins” sub-directory of GeoPIXE.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816544"></a><a name="_Toc18817064"></a><a
name="_Toc18817346"></a><a name="_Toc18907881"></a><a name="_Toc18929313"></a><a
name="_Toc18929499"></a><a name="_Toc19013271"></a><a name="_Toc19015546"></a><a
name="_Toc222317354">Spectrum User Plug-ins</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>Spectrum Display</i> window has a user plug-in
facility.  You can write spectrum processing and other user spectrum operations
in IDL.  These are loaded when GeoPIXE runs, and appear on the “Process<span
style='font-family:Wingdings'>à</span>User Plug-ins” menu.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>You need IDLDE to be able to compile your own plug-in
procedures.  However, once you have built the SAV file, you can run them
through GeoPIXE using IDL run-time.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>User plug-ins are designed at present for operations that
change the spectrum data or add an overlay (e.g. fit), for the currently
selected spectra, but do not change the spectra names, the number of spectra,
or their sizes.  Extension in these areas may come later.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The file “template_spectrum_plugin.pro” is provided with the
GeoPIXE distribution.  It provides a template for writing spectrum processing
plug-ins.  It performs a simple smooth as an example.  See the file for a
description of the arguments.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All Spectrum template routines MUST be named with
&quot;_spectrum_plugin.pro&quot; at the end of the file name.  For a new
&quot;Fred&quot; plug-in, copy and rename the template file to
&quot;fred_spectrum_plugin.pro&quot; and edit the first line to:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>pro
fred_spectrum_plugin, p, i, title=title, history=history</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Plug-ins should be compiled in IDLDE and saved as a SAV
file.  Only compile routines for ONE plug-in and save it using the command:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>SAVE, /routines, filename='fred_spectrum_plugin.sav'</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>for a &quot;fred_spectrum_plugin&quot; plug-in.  To ensure
this, exit IDLDE and start it again to compile and save another plug-in (or use
the command .FULL_RESET_SESSION, “.f” for short, in IDLDE).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>NOTE: It is very important to ensure that ONLY routines for
ONE plug-in are saved in each SAV file.  Otherwise, unexpected results may
result when the SAV files are restored at run-time.  The plug-in SAV files will
then be loaded automatically when GeoPIXE.sav runs, if the plug-in SAV files
are located in the “plugins” sub-directory of GeoPIXE.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816545"></a><a name="_Toc18817065"></a><a
name="_Toc18817347"></a><a name="_Toc18907882"></a><a name="_Toc18929314"></a><a
name="_Toc18929500"></a><a name="_Toc19013272"></a><a name="_Toc19015547"></a><a
name="_Toc222317355">Calculating Thick, or Multi-layered, X-ray Yields</a></h2>

<h3><a name="_Toc19013273"></a><a name="_Toc19015548"></a><a
name="_Toc222317356">PIXE/SXRF Yield Calculation Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>From the <i>X-ray Spectrum Fit</i> window, select
&quot;New&quot; beside &quot;Yields:&quot; to open the <i>PIXE/SXRF Yield
Calculation </i>window for multi-layered X-ray yield calculation.  The groups
of parameter fields include beam species, detector geometry and target tilt,
X-ray line energy range, the number of layers in the target and the set-up for
each layer.  The target can be thin, multi-layered or thick.  With parameters
set-up, use &quot;Calculate Yields&quot; to perform the calculation and open a
file requester for the destination YIELD file name.  The yields for all X-rays
lines (K, L and M) within the energy range (E<sub>min</sub>, E<sub>max</sub>)
will be integrated throughout the layered structure, including secondary
fluorescence contributions.  Relative intensities determined this way are used
in fitting the spectrum.  In this way, we have accurate relative intensities
for all lines, even from a layered structure.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=283
height=461 id="Picture 25" src="GeoPIXE-Users-Guide_files/image025.jpg"
alt=Layer-setup2></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Detector angle is specified in terms of &quot;Theta&quot;
relative to the forward direction (i.e. back-angles are greater than 90º), and
&quot;Phi&quot; which is the orthogonal out-of-plane angle.  Theta angles less
than 90º correspond to a transmission geometry, which is supported (in this
case the target thickness is important to model the transmission absorption of
fluoresced lines).  Target angles are &quot;Alpha&quot; - a rotation about a
vertical axis through the target (use Alpha= 0 for normal incidence); and
&quot;Beta&quot; - a tilt about a horizontal axis across the face of the target
(use Beta= 0 for normal incidence).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>For detector angles around 90º degrees or more, if the
target is facing the detector, then Alpha must be negative (e.g. Theta = 90º
and Alpha = -45º is a typical synchrotron geometry). <b>Use the “?” button to
bring up the 3D geometry viewer to check the layout in detail</b>. Click and
drag in this window to rotate the model view.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=360
height=421 id="Picture 26" src="GeoPIXE-Users-Guide_files/image026.jpg"
alt=geometry-simple></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Beam species are selected with the drop-list in the top-left
of <i>PIXE/SXRF Yield Calculation</i>.  These include protons, molecular
hydrogen, photons, helium and heavy ions (general), as well as monochromatic
X-rays and a continuum lab source (with the continuum plugin).  At present, all
ions use ECPSSR proton cross-sections at an equivalent velocity and scaling. 
This is accurate for protons and molecular hydrogen, but increasingly
approximate for heavier species.  (Helium cross-sections will be added soon.)
Photons use the recent compilations of Ebel <i>el al</i>., 2002.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The number of layers in the target is set with &quot;#
Layers&quot;, and the layer in the editor below is selected using the
&quot;Define Layer&quot; drop-list.  A further drop-list selects the
&quot;Unknown Layer&quot;.  This the layer in which detected elements,
unaccounted for in the composition of any layer, are assumed to reside.  The
returned concentrations reflect their location in this layer.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For each layer, you can specify thickness (in mg/cm<sup>2</sup>
or microns) and chemical formula.  For micron thickness you need to enter
density (unless it's a pure element layer; then density is extracted for you
from the database). Formulae can be entered as text, or using a table of
oxides, selected using the &quot;Formula Mode&quot; drop-list.  For formulae,
the action of any weighting factors (outside of brackets &quot;()&quot;) can be
set using the drop-list on the right.   Formulae can take various forms (e.g.
&quot;Al&quot;, &quot;Al2O3&quot;, &quot;C2H6O2&quot;,
&quot;(CH2)4(NH2)2&quot;, &quot;(Al2O3)70(SiO2)30&quot;).  When brackets are
used &quot;()&quot;, then the function of the multipliers outside the brackets
is set with the drop-list on the right. It selects between &quot;Atomic
Fractions&quot; for atomic weighing (e.g. &quot;(CH2)4(NH2)2&quot;) and
&quot;Weight %&quot; for weight % proportions (e.g.
&quot;(Al2O3)70(SiO2)30&quot;). This also defines what the numbers in an oxide
table represent if used.  See the context-sensitive help for details and
examples.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>With all parameters set-up, enter a title for this yield
calculation and hit &quot;Calculate Yields&quot; to perform the integration.  A
file requester will prompt you for a file-name, which defaults to the
&quot;Output&quot; (.YIELD) file specified in the set-up.  You should also save
all these set-up parameters to a file (.LCM) using the &quot;Save&quot; button
at the top of the window.  &quot;Load&quot; will load parameters from an
existing .LCM file. </p>

<h3><a name="_Toc222317357">Export of Yield Results</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>“Export” outputs selected results for relative-intensities
and yields to a CSV file. A pop-up window enables the selection of elements and
output options.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=293
height=477 id="Picture 27" src="GeoPIXE-Users-Guide_files/image027.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>See the context-sensitive help information on each widget
for more details and tips.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013274"></a><a name="_Toc19015549"></a><a
name="_Toc222317358">Layer Plot Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The variation of many calculated parameters and results,
versus depth into a sample or versus the slowing down beam energy, can be
displayed via the “Plot Yields” button, which brings up the <i>Layer Plot</i>
window.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=517
height=420 id="Picture 138" src="GeoPIXE-Users-Guide_files/image028.jpg"></span> </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>Layer Plot</i> window selects parameters for the X
and Y axes. Some also require the selection of elements to plot. This is done
via the green and orange buttons, and drop-lists to select between K, L and M
shell results (if present within the <i>Layer Setup</i> energy range). Clicking
on a coloured button brings up a periodic table to select up to 2 elements,
plotted in green and orange. The steps in target layers are shown in violet. To
select the green element, click on the element in the table with the <b>LEFT</b>
mouse button. To select the orange one, click using the <b>RIGHT</b> mouse
button.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=368
height=170 id="Picture 29" src="GeoPIXE-Users-Guide_files/image029.jpg"
alt=Periodic-select></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317359">Detector Arrays and the Yield Calculation</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Detector arrays come in two flavours in GeoPIXE: (i) simple
arrays, where all detector elements are regarded as identical and span a small
range of take-off angle at the target, and (ii) full arrays, where the take-off
angles cover a significant range, which effects self-absorption and the
calculation of yields across the array. See the discussion in the section on
Editing Detector Files later in this manual.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Simple arrays have been supported for some time in GeoPIXE.
For this mode, leave the “Array” check-mark unchecked. In this mode the yield
calculation is quite decoupled from the choice of detector (single or simple
array) and produces ‘generic’ yields that can be combined with any choice of
detector. If this detector is an array, then all detector elements are regarded
as identical and contribute equally to the generation of images. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Full arrays require the yield calculation to calculate the
take-off angles to each element in the array, as these change enough to affect
the yields. This breaks the simple ‘generic’ yield model, and now the <i>PIXE/SXRF
Yield Calculation</i> must consider the detailed layout and distance to the
detector. When these yields are transferred to the <i>X-ray Spectrum fit</i>
window, the detector drop-list will become ghosted and desensitized, as the
detector has been specified in the yield calculation and cannot be changed in
the fit window.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=284
height=435 id="Picture 30" src="GeoPIXE-Users-Guide_files/image030.jpg"></span> </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Checking the “Array” check-box brings-up another drop-list
for selecting an array detector. Only full array detectors are listed. The “?”
button opens a window to provide a full 3D view of the detector array in the
beam-target-detector geometry as specified here. This is useful to check that
the detector is positioned as desired (see below).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In full array mode, the calculation of yields has two
passes: (i) The first pass calculates yields as for a generic detector, placing
an ideal detector in the centre of the array at the specified Theta and Phi
angles. (ii) The second pass calculates yields relative to the “central” one,
for every element, target layer and detector pad, but without secondary
fluorescence. Secondary fluorescence enhancement is calculated once for the
‘generic’ set and applied to all subsequent calculations. The result is a set
of relative yields relating the sensitivity of each detector element to the
‘central’ one.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>These relative yields are stored in the yield file and used
to correct images (and fits to spectra that combine several detector spectra)
for the actual detector elements enabled to project the images (or included in
a sum spectrum).</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317360">3D Geometry Viewer</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “?” button on the<i> Yield Calculation</i> window opens
a window to provide a full 3D view of the detector array in the
beam-target-detector geometry as specified here. This is useful to check that
the detector is positioned as desired (you can zoom in on the detector to read
the detector  number labels; see below).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=463
height=521 id="Picture 140" src="GeoPIXE-Users-Guide_files/image031.jpg"></span></p>

<p class=MsoNormal><i>Geometry display for Theta=85º, Alpha=-45 º, and a
7-element array detector. </i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal>Note that the front of the sample is labelled “Front” and
should be facing the beam and normally angled towards the detector (unless a
transmission geometry is sought with fluoresced X-rays passing back through the
sample to the detector, which is seldom used).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=422
height=474 id="Picture 141" src="GeoPIXE-Users-Guide_files/image032.jpg"></span></p>

<p class=MsoNormal><i>Example showing a close-geometry 7-element detector array
with detector angles: Theta=85º (in plane detector angle), Phi=10º
(out-of-plane, azimuthal detector angle), target tilt angles: Alpha=-45º
(rotation of target about Y axis), Beta=20º (tilt of target about a horizontal
axis across the face of the target). </i></p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816546"></a><a name="_Toc18817066"></a><a
name="_Toc18817348"></a><a name="_Toc18907883"></a><a name="_Toc18929315"></a><a
name="_Toc18929501"></a><a name="_Toc19013275"></a><a name="_Toc19015550"></a><a
name="_Toc222317361">Creating a Dynamic Analysis Matrix for Image Projection</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Immediately after performing the fit in <i>X-ray Spectrum
Fit</i>, click on &quot;Generate DA Matrix&quot; to calculate the Dynamic
Analysis matrix, and write it to a file (.DAM for PIXE or .DAMX for XRF).  This
matrix contains all the information necessary to project a PIXE or SXRF
list-mode data-file to quantitative elemental images, including a complete list
of all observed elements identified in the spectrum during fitting.  See
details about sorting list-mode data below. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>After clicking on the “Generate DA Matrix” button, a pop-up
enables selection between “Normal “Simple single energy DA matrix”, “Single DA
matrix (w/ Master Weights)” and “XANES energy series DA matrix”. The former
calculates a single DA matrix for normal PIXE/SXRF imaging applications. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Master Weights” spectrum is an optional spectrum that
is more representative of the average spectral data for a sample/region. It
improves DA matrix construction for simple regions that focus on compositions
approaching end-member phases. Use this for building DA matrices for Yield
Correction or MPDA image analysis.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The latter is used to calculate a series of DA matrices, one
for each energy in the XANES spectrum. A new “Energies” file field appears
allowing you to load the name of your XANES energies file. There is also a
field to select when to merge Compton and elastic peaks and treat them as a
single “Scatter” peak. This is best done for energies below about 10 keV. XANES
energy files can be (i) extracted from raw list-mode data using the <i>Spectrum
Display</i> “File<span style='font-family:Wingdings'>à</span>Import<span
style='font-family:Wingdings'>à</span>Energies from list-mode” menu or exported
from an existing XANES image stack using the “File<span style='font-family:
Wingdings'>à</span>Export<span style='font-family:Wingdings'>à</span>XANES
energy list” menu from the <i>XANES Image </i>window.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc222317362">Exporting a Dynamic
Analysis Matrix for External Data Acquisition Use</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Immediately after performing the fit in <i>X-ray Spectrum
Fit</i>, and saving the Dynamic Analysis matrix using &quot;Generate DA
Matrix&quot;, hit the button “Export” to export a binary or ASCII format matrix
file for use in an external data acquisition system. The binary export mode at
present defaults to IEEE floating-point and is Big-Endian, and hence has a
different byte order to PCs, but the same as Unix and VME processors. See
further information in the Help directory.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Note that “Export” is not needed for Maia data acquisition
as the associated <i>Maia Control </i>program utilizes normal GeoPIXE DA matrix
files directly.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Export brings up a pop-up window with some options. Select
between binary and ASCII formats. In binary mode, you can select “big endian” format,
or uncheck this option for PC platforms. There are fields to select the pileup
limits file, linearization and throttle factors files, as used with the Maia
data acquisition system. These data files are incorporated into the ASCII
output export file only at present.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816547"></a><a name="_Toc18817067"></a><a
name="_Toc18817349"></a><a name="_Toc18907884"></a><a name="_Toc18929316"></a><a
name="_Toc18929502"></a><a name="_Toc19013276"></a><a name="_Toc19015551"></a><a
name="_Toc222317363">Sorting List-Mode Data using the Dynamic Analysis Matrix</a></h2>

<h3><a name="_Toc19013277"></a><a name="_Toc19015552"></a><a
name="_Toc222317364">Sort EVT Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To open the <i>Sort EVT</i> window for sorting list-mode
data-files, use the &quot;Windows<span style='font-family:Wingdings'>à</span>Sort
EVT&quot; menu in the <i>Image Display</i> window (main <i>GeoPIXE</i>
window).  Here we need to specify the format of list-mode data, the type and
dimensions of scanning used, the ADC number to sort and the Dynamic Analysis
matrix to use for PIXE imaging (for other data, see Sorting using Spectrum Cuts
below).  For sorting images, make sure the radio button at the top is set to
&quot;Image&quot;.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>To have Sort EVT open each time GeoPIXE is run, make sure
it is enabled in the config file “geopixe.conf”. The default device for the
device drop-list can also be set in the config file.</i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal><b><i>TIP: Often the Sort EVT window is setup initially by
loading a previous DA image file (.DAI), which contains all set-up parameters
discussed here. Then simply change the ones you need to (e.g. raw data input
files).</i></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent2>Near the top of the window there is a drop-list for
selection of the list-mode data device. These devices vary in terms of
event-data format, byte-ordering and floating-point format.  GeoPIXE internal
design means that a number of list-mode formats from various computer platforms
can be processed and will aid migration of GeoPIXE to other platforms in
future. All devices are set-up using Device Object SAV files in the “interface”
directory. Current devices include:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>MARC
MPsys  Linux Data Acquisition</b>:  List-mode files (.EVT) collected using the
new Linux/PC based MicroDAS data acquisition system and MPsys (MARC) software
for PC.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Lund</b><b> Kmax  MAC Data Acquisition</b>:  Multiple list-mode files collected using
the Lund Kmax (Sparrow) CAMAC data acquisition system on Macintosh.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>iThemba
XSYS  VAX Data Acquisition</b>:  List-mode files (.EVT) collected using the
XSYS VAX-based data acquisition system at iThemba Labs.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>MARC
MPsys  Unix Data Acquisition</b>:  List-mode files (.EVT) collected using the
older Unix/workstation based data acquisition system and MPsys (MARC) software
for Unix.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>OM</b><b> DAQ Data Acquisition for PC</b>:  List-mode files (.LMF) collected using the
PC based OM DAQ data acquisition system of Oxford Microbeams.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Sandia
EVT Data Acquisition for PC</b>:  The original data-cube files at Sandia
National Labs.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Sandia
MPAWIN Data Acquisition for PC</b>:  Older Fastcom list-mode files at Sandia.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Fastcom
MPA3 Data Acquisition for PC</b>:  Fastcom Tec MPA3 format list-mode files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></i><b>APS
Data Cube</b>: APS SXRF data cube files, reformatted to LST format on a PC.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><i>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span></i><b>Sandia BD12
Data Acquisition for PC</b><i>: </i>Local list-mode to support the Rontec BD12
12 element Si-drift detector array.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>NSLS MCA VME Data
Acquisition</b>: MED/MCA image pixel spectra files from the NSLS.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Tohoku Labo Data
Acquisition for PC</b>:  Labo list-mode files (.LST) generated by <span
lang=EN-US style='layout-grid-mode:both'>Laboratory Equipment Co.</span>
multiparameter data acquisition software.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Sandia Primecore
U48 </b>– Support by Primecore for the Rontec BD12 12 element Si-drift detector
array.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>14)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>LIBI Data
Acquisition for PC:</b> List-mode data collected by the LIBI group of the Ruder
Boškovi&#263; Institute, Zagreb.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>15)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>GSE-CARS Unix data
Acquisition</b>: Image pixel spectra files (Epics generated ASCII files) from
GSE-CARS, APS.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>16)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Hasylab FIO data
acquisition</b>: ASCII pixel spectra files, generated at Hasylab.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>17)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Maia-384 data
acquisition</b>: Event files generated by the CSIRO Blog event server for the Maia
32, 96 and 384 detector arrays.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>18)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>CSIRO MicroDAQ and
MDAQ2 listmode data</b>.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>19)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>NSLS HDF format
SXRF image files</b>: Scan full-spectral data files in HDF format.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>20)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>SLS MCA data
acquisition</b>: Pixel spectra files in MCA format collected at the Swiss Light
Source (preliminary support).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>21)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>ESRF EDF files</b>:
ESRF EDF format image spectra files (preliminary support).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>22)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Wakasa UniDAQ data
acquisition</b>: List-mode data from the Wakasa Wan Energy Research Centre.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>23)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Horiba Raw</b>:
Horiba bench-top XRF raw full-spectral image files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>24)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>NSLS Net CDF line
format</b>: Line oriented NSLS NetCDF format full-spectral image data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>25)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>FalconX</b>:
initial support for the new FalconX list-mode data from XIA-Southern
Innovation.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>26)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>iThemba Midas</b>:
initial support for the new Midas list-mode data at iThemba Labs.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>27)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Ruder Boskovic</b>:
Support for list-mode data acquired at the Ruder Boskovic Insitute, Zagreb.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>28)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>CSIRO Maia detector
array</b>: Blog event mode data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>29)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Fastcom MPA4 Data
Acquisition for PC</b>: Fastcom Tec MPA4 format list-mode files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>30)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Spring8 37U</b>:
Image raw data from beamline 37U at the Spring8 synchrotron.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>31)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>UQ iXRF</b>:
List-mode data from the Atlas iXRF mapper at UQ.</p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<p class=MsoBodyTextIndent2>Next to the device drop-list is a “Batch” button,
which accesses Batch Mode operation of <i>Sort EVT</i>.</p>

<p class=MsoBodyTextIndent2>&nbsp;</p>

<p class=MsoNormal>The Sort EVT window is divided into several panels for
setting up necessary parameters and selecting input files.</p>

<h4><a name="_Toc222317365">Files</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The files tab allows selection of the source list-mode file
to process. The file types (and the name on the button on the left) will change
with the device type selected on the drop-list above. For most devices, only a
single list-mode file is used. In the case of the Lund Kmax system and the NSLS
MED, GSE-CARS, Hasylab and Maia files, for example, a range of list-mode
spectra is used. In this case two file entry fields appear, one for the first
file, one for the last file to sort.  <i>You can leave the last file field
blank in order to sort all files numerically after the first one.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>The working directory tree for input of raw list-mode
data can be different to the output images and other files. If you want to
output images into a different directory tree, then you will need to select the
new output directory by clicking on the “Output:” button.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=264
height=418 id="Picture 33" src="GeoPIXE-Users-Guide_files/image033.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=264 height=353 id="Picture 34"
src="GeoPIXE-Users-Guide_files/image034.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For Maia event files, three more fields appear. One allows
the selection of a <b>Throttle</b> file that contains the throttle factors used
to tame intense peak input data rates during data acquisition. Select the file
here in order to correct for throttle losses during sorting. A second selects a
<b>Pileup</b> file for pile-up rejection, which contains the
time-over-threshold limits for each pulse-height. These files are generated
from the <i>Time Amplitude Display</i>, which can be accessed via the <i>Spectrum
Display</i> Windows menu. A third selects a <b>Linearize</b> file for
linearization of gain corrections during processing of list-mode data. This
option is only used to apply a second order correction when needed or for older
data that was not corrected in real-time by the HYMOD processor in Maia
(pre-2010 data).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>The “<b>cluster</b>” check-box enables parallel
processing of certain types of data where the raw event data is contained in a
series of files with numeric file extensions. These files can then be dispersed
to a number of parallel IDL sessions to processes parts of the image, which is
reconstructed after processing. This option works well for Maia data, which can
amount to &gt;100 Gb per image. An IDL run-time license is needed in this case.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Flatten” option enables normalization images to flux
per pixel. All images are normalized, as well as the Flux map itself. The
original flux map is also stored as “Raw Flux’. A plugin is available to view
this.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When the list-mode file is selected, any associated header
information is read, and many of the Sort EVT widgets are updated (e.g. X
range, Y range, energy calibration coefficients, and perhaps X size and Y
size). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Below this are fields for sample details and a comment area.</p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317366">Device</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This panel controls device specific parameters, with the GUI
elements set-up and drawn from the device object plugin. Device parameters are
internal to the drivers and defined in the device object plugins.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A typical control for some device drivers (e.g. Maia) is to
allow a level of re-direction between encoder input channels (motor axis
indices: denoted 0, 1, 2, …) and the X, Y and Z axes used by GeoPIXE. The
“slowest axis” (e.g. used for the Y lookup table and cluster processing mode)
can be selected as well. For cluster mode processing, this must be the same as
for the Y axis for now. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=265
height=351 id="Picture 35" src="GeoPIXE-Users-Guide_files/image035.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Some Device Objects will add some controls specific to
the device driver. For the Maia detector array (as illustrated above right),
there are various scan corrections, the option to clear borders and the
dead-time calibration coefficients DTcalA (slope) and DTcalB (offset).</i></p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317367">Scan</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This panel has a drop-list selecting the type of &quot;XY
Scan Mode&quot; used.  Choices currently include (see also the context help
window):</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Beam
Scan in X and Y</b>:  Normal raster, triangle or random scan in both X and Y,
with both X and Y data in each event. All devices support this mode; PIXE data
uses beam-scanning and SXRF data uses stage scanning/stepping.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Stage
Stepping in X</b>:  Raster scanning in Y only, with X advanced using the sample
stage. X moves are encoded into the list-mode data using various approaches
(see below).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Linear
Traverse in XY</b>:  Both X and Y are not scanned but moved using the stage
along a line (this uses the same stepping options as for X stepping).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Stage
Stepping in Y</b>:  Raster scanning in X only, with Y advanced using the sample
stage. Y moves are encoded into the list-mode data using various approaches
(see below).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Scan
in XY and Energy (Z)</b>: 3D scan where 3 axes define X,Y and E (Z axis), where
the Z axis is used for monochromator angle, which is related to energy using
the table loaded on the DA/E.Cal tab. The 3D modes display further controls for
the Z axis. The mapping from axes to X, Y and Z can often be controlled on the
Device tab.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Scan
in XY and Tomo angle (Z)</b>: 3D scan where 3 axes define X,Y and Tomo angle (Z
axis), where the Z axis is used for tomography rotation angle. The 3D modes
display further controls for the Z axis. The mapping from axes to X, Y and Z
can often be controlled on the Device tab.</p>

<p class=Numeric-List style='margin-left:42.55pt'>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=265
height=404 id="Picture 36" src="GeoPIXE-Users-Guide_files/image036.jpg"></span>  <span
style='layout-grid-mode:both'><img border=0 width=265 height=351
src="GeoPIXE-Users-Guide_files/image037.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=265
height=351 id="Picture 38" src="GeoPIXE-Users-Guide_files/image038.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=265 height=351 id="Picture 39"
src="GeoPIXE-Users-Guide_files/image039.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the case of stepping mode, there are additional fields to
set-up how the stepping advance is encoded into the event stream. This is
set-up using another drop-list under &quot;Step Advance Parameters&quot;.
Options include:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Advance
by Toggle Bit</b>:  Fields appear to specify which bit of which ADC encodes the
step advance.  This bit is assumed to be toggled at each step. Bit 12 on
Station/ADC 1 is used with old CSIRO NMP data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Advance
by ADC count</b>:  In this case, a specified ADC is used solely to register
step advance events.  Any event on this ADC is used to advance the position.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Advance
by Event Count</b>:  A specified count accumulated in a specified ADC indicates
advance of the stage.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In each mode, a drop-list selects the number of steps and
distance moved in each step.  This is used to set the stepping axis micron
scale.  There is a fixed pitch per step at present (this will be updated on
demand).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The next group of fields set the size of the X and Y data in
pixel units (X Range and Y Range) and provides the option of compressing X
and/or Y data, by integral factors, into smaller images during sorting of the
list-mode data.  On the right, the full X and Y size of the scan area can be
entered in microns. Some devices may supply these values when the EVT file is
selected. The 3D modes add details for the Z axis.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “image mode” allows selection of full image sorting or a
sub-region with options:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>Image full area</b>:
Process the full XY pixel range selected above under X and Y range and using
selected X,Y compress..</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span><b>Image selected sub-region</b>:
Form the image of only a sub-region specified by the X,Y offset and X,Y
sub-range sizes, both specified in non-compressed units. Note this mode forces
X,Y compress = 1 on the output image.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=265
height=351 id="Picture 40" src="GeoPIXE-Users-Guide_files/image040.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317368">Flux</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Ion beam systems commonly measure beam flux directly by
integrating beam current. Synchrotron X-ray beams are monitored indirectly
using current recorded in an ion chamber (IC), which produces a current
proportional to the absorbed fraction of the beam passing through it. In many
systems this signal is converted to a pulse train using a voltage to frequency
converter and integrated as a pulse count. In this case we need to establish a
conversion factor from IC count to equivalence beam charge (µC; 6.242 10<sup>12</sup>
photons). This is done by selecting one of the “Indirect” flux measurement
options, with or without specification of Epics/ Tango PVs for encoding IC
count and preamplifier sensitivity and range (unit selector).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=252
height=308 id="Picture 41" src="GeoPIXE-Users-Guide_files/image041.jpg"></span>  <span
style='layout-grid-mode:both'><img border=0 width=254 height=350 id="Picture 42"
src="GeoPIXE-Users-Guide_files/image042.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For indirect with the availability of Epics/ Tango PVs for
IC count in the list-mode data stream (or header file), a button appears (“Scan
data for PVs”) that allows the data to be scanned to collect PV information.
This populates the PV drop-list allowing selection of the desired PV for IC
count. Other drop-lists allow selection of the sensitivity. Once selected, this
data will be saved in the Image DAI file header.</p>

<h4><a name="_Toc222317369">Dynamic Analysis, ADC Selection and Detector Arrays</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “DA / E.Cal” panel allows selection of the sorting mode.
Normally, for PIXE and SXRF analysis and imaging, the Dynamic Analysis (DA)
method is used for spectral deconvolution and image projection.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The first widget (“Channel”) is a drop-list widget to select
which ADC to consider. The next widget selects between sorting data for a
single detector or an array of detectors. For “Single detectors”, the Channel
widgets select the ADC to sort data for.  Images reflecting the data from this
ADC only will be produced.  The parameters for this ADC are displayed and can
be selected in the area below. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In “Detector Array” mode, the Channel widgets select which
ADC’s parameters are displayed and edited in the frame below, but the ADCs
included in the sort are selected using the “Enable” check marks, one on each
ADC panel. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Note: Detector array parameters (cal and enable)<i> can be
set all at once using the “Get” function described below, and indirectly from
the Detector-Layout window.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=252
height=308 src="GeoPIXE-Users-Guide_files/image043.jpg"></span>  <span
style='layout-grid-mode:both'><img border=0 width=255 height=362 id="Picture 31"
src="GeoPIXE-Users-Guide_files/image044.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For each ADC, there is a set of parameters, which specify
the projection mode, spectrum energy calibration and the file-name of the
Dynamic Analysis matrix or Cuts file. There are fields to enter the data type
(&quot;PIXE&quot;, &quot;RBS&quot;, &quot;PIGE&quot;, “SXRF”, etc.), energy
calibration, projection method and associated projection data file.  Each of
these relate to the selected ADC channel. Projection methods currently
supported include:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Dynamic
Analysis</b>:  Use the DA method to project quantitative PIXE/SXRF elemental
images.  The associated file is the DA matrix file (.DAM or .DAMX).  The DAM
file contains the list of element images to project and all PIXE/SXRF yield
data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Spectrum
Cuts</b>:  Use spectrum energy cuts to define the windows for each image.  The
associated file is a cuts file (.CUTS) containing energy window definitions or
regions-of interest (ROIs).  Cuts are discussed more below under sorting using
cuts.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>CUT
Mean Energy (STIM)</b>:  Use a spectrum cut to define a region of the spectrum
to average to determine the mean energy of a transmitted beam in STIM.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Multiphase
DA (MPDA)</b>:  Use the new Multiphase extension to DA (MPDA) specified in the
associated file (.MPDAM).  The MPDAM file contains pointers to the phase map
and yield correction files (see “Multiphase DA imaging (MPDA)” below).</p>

<p class=MsoBodyTextIndent2>In “Detector Array” mode, the data type and
projection method and file are set globally, once for all detectors in the
array.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The energy calibration corresponds to the ADC being
displayed.  It is used to map energy of each event onto the correct column of
the DA matrix, or to correct energy for cuts.  It can be loaded from an
existing SPEC file (e.g. saved after fitting the spectrum) using the
&quot;Get&quot; button.  In “Single Detector” mode, “Get” will retrieve the
calibration from a SPEC file for the selected ADC #.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the case of Line XANES (2D scan mode), where one of XY is
a spatial axis along a scan line and the other provides an index that tracks
changing beam energy, we select the “energy proxy axis” using a new droplist,
else use “None” for normal XY spatial axes. This example shows the case of stage
scanning along the X axis with the Y axis pixel value (the “energy proxy axis”)
providing an index into a table of energies, one for each Y value.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=265
height=376 src="GeoPIXE-Users-Guide_files/image045.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the case of the 3D XANES imaging mode, extra controls are
provided to select the XANES Element (corresponding to the edge being scanned
over) and the XANES energy table corresponding to each monochromator angle Z
pixel.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=264
height=353 id="Picture 45" src="GeoPIXE-Users-Guide_files/image046.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317370">Energy Calibration – Array Detectors</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In “Detector Array” mode, the “Get” button will retrieve the
energy calibrations for all ADCs/ detector channels from the SPEC file. To make
best use of this feature, construct a file of all good detectors in the array
in <i>Spectrum Display</i>. Use the “Delete” and “No XY”, “No T” buttons in <i>Spectrum
Select</i> to remove any bad detector channels, and the X, Y, T spectra. Then
fit all good spectra using the <i>X-ray Spectrum Fit</i> “Fit All” button to
generate accurate energy calibrations for all detectors. Delete any bad
detector channel spectra, and save to a file tagged as “-cal.spec’.Then when
you use the “Get” button in <i>Sort EVT</i>, it will not only load all the
energy calibrations but also “Enable” only all good detectors.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on “?” to view the layout in a pop-up window.  The <i>Detector
Layout</i> window has a FWHM Threshold slider, which sets the limit of usable
detector resolution. You can slide this to reject detectors with poor
resolution (if the “Veto poor FWHM” check-box is selected). These are shown in
Yellow.  Dead detector channels can be specified in the layout file (bad=2);
these are shown in Violet and are disabled.<i> This feature is seldom used
these days.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=250
height=325 id="Picture 46" src="GeoPIXE-Users-Guide_files/image047.jpg"></span> 
<span style='layout-grid-mode:both'><img border=0 width=282 height=361
id="Picture 47" src="GeoPIXE-Users-Guide_files/image048.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This rejection can be used in <i>Sort EVT</i>  to veto poor
detectors in an array while sorting raw data to build images. FWHM values are
saved in SPEC file after a fit to all spectra (GeoPIXE v4). When the “Get”
button is used in Sort EVT (to retrieve energy calibration for all valid
detectors) the FWHM values are transferred to the <i>Detector Layout</i>
window; any missing detector spectra flags a dead channel. These can be saved
to the Layout file, using the Save button.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317371">Energy Calibration – Single Detectors</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent2>In the case of DA projection, if the DA matrix was
built using a fit to a spectrum extract from this same list-mode file, then the
DA matrix contains the fitted refined energy calibration.  In “Single Detector”
mode, you can click on the &quot;DA&quot; button to use this calibration here. 
</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>However, if the DA matrix was built from a
different data set, or on another day where the calibration may have been
different, then don't use this option. Similarly, don’t use it with detector
arrays. Instead, use the &quot;Get&quot; button to load energy calibration
information from up-to-date fitted spectra.  Alternatively, the calibration
coefficients can be typed in (A is gain, B is offset).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i><u>Note for MPsys users</u>: In the case of MPsys data,
if an MP file of the same name as the EVT file is found, then various set-up
parameters are extracted from this file to set scan size, stepping parameters,
integrated charge and scan resolution in pixels.  <u>Note</u>: This will reset
the energy calibration to the values contained in the MP file.  If using
Dynamic Analysis, then after selecting a new list-mode file you may need to
press the “DA” button to copy the fitted energy calibration from the dynamic
analysis matrix, or use “Get”.  In stepping mode, a button “Step
 Range” brings up a panel to calculate the pixel count along the stepping
direction and the integrated charge.</i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal><i><u>Note for APS users</u>: The LST files generated from
the APS MDA files do not all contain energy calibration information. In this
case, the A and B parameters will be reset to 1 and 0. You will need to load
these using the “DA” button to copy the fitted energy calibration from the
dynamic analysis matrix, or for detector arrays use “Get” to load all
calibrations from a SPEC file for good detector elements and set the Enable
flags. Use a file that only contains ‘good’ detector channels.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Similar parameters are retrieved from file headers when
using Maia, MPA3, OM DAQ, Sandia EVT and some APS format list files.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317372">Output and Start Sort</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The final field is the name of the &quot;Output&quot; file.
This will be set-up by default using the (first) list-mode file name, but can
be changed here. <b><i>In particular, make sure the output directory is
correct.</i></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Optionally, any variation in flux or beam charge across the
image can be used to normalize all images. The “Flatten” checkbox selects this
option to remove flux variation from images.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For device types that support it, the “Cluster” option will
be available, which uses parallel processing to speed up sorting of event data.
This option requires an IDL RT license at least.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Remember to view the context-sensitive help on the
various fields in this window.  Just move your pointer over widgets and view
the help at the bottom of the window.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Once all parameters are set-up, the list mode data can be
sorted by clicking on &quot;Start&quot;.  A progress bar appears to chart the
progress through the list-mode file, or the set of files.  It also shows time
remaining and some statistics regarding bad events, those clipped outside of
the DA matrix range, and the X position in stepping modes.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>After the sort finishes, <i>Sort EVT</i> writes an image
file (.DAI), as specified under Output, and sends the images to the parent <i>Image
Display</i> window (main <i>GeoPIXE</i> window).  The DAI file contains all
concentration images as well as variance images (at half the pixel resolution
to conserve memory), PIXE/SXRF yields and detection limits.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i><u>Note: </u>The header of the DAI file also contains all
the set-up parameters specified here.  Therefore, if you need to re-sort, or to
sort another ADC or another list-mode file with similar settings, load these
parameters from the DAI file using the &quot;From DAI&quot; button at the top
of the window.</i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<h3><a name="_Toc222317373">Sort EVT Widgets</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>This list
summarises the functions of all widgets on the <i>Sort EVT</i> window,
including buttons, sliders, drop-lists and text entry widgets. These are listed
from left to right, top to bottom.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<h4><a name="_Toc222317374">In all XY Scan Modes:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>From DAI Button                  Load set-up parameters from an
existing DAI image file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Mode Radio Buttons            Select between sorting “Image” data
and 1D “EXAFS” and “3D Stack” data (XANES or Tomography).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Device Drop-list                     Select data acquisition
source of the event file(s) (see details above).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Batch” Button                      Brings up the Batch
Processing window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>EVT File                                  Select event data file.
This is labelled “First File” for event file formats that use individual pixel
files; another field appears for the “Last File”.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Last File                                   Last event file to
process. Only used for pixel-file format data types.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Sample                                    Name of the sample.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Grain                                        Name for this image
area on sample.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Comment                                A free text comment
string.</p>

<h4><a name="_Toc222317375">Only in Stepping Modes:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Step Advance Mode             Select the way stage stepping is
encoded into the event data stream.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Station                                     ADC number that
contains step data.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Bit                                             ADC Bit number
that flags a step advance.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Steps                                        Number of sample
stage steps per line.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Distance                                  Width of a line in
microns.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Count                                       Advance to next line
after this number of counts in the selected ADC.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Step Range                             Pop-up an input calculator
to convert stepping total range and pre-scaler counts to pixels and integrated
charge.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Calculate Size                         Calculate image size from
step size and pixels, assuming square pixels.</p>

<h4><a name="_Toc222317376">In all XY Scan Modes:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>XY Scan Mode                      Select between scanning and
stage stepping modes (see details above).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X range                                    Number of pixels in
source data in X. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X compress                             Compress data by this
factor before mapping to image X.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X size                                       Size of image in X
in microns.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y range                                    Number of pixels in
source data in Y. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y compress                             Compress data by this
factor before mapping to image Y.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y size                                       Size of image in Y
in microns.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image mode:                          Select between full image
and a sub-region (no XY compress).</p>

<h4><a name="_Toc222317377">In 3D Scan Modes:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Z range                                    Number of pixels in
source data in X.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Z origin                                    Origin of Z axis in
device units (e.g. angle).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Z compress                             Compress data by this
factor before mapping to image Z.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Z size                                        Size of total scan
range in Z in device units (e.g. angle).</p>

<h4><a name="_Toc222317378">In “Image sub-region” scan mode:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X, Y offset                              Pixel offsets in X, Y to
start image.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X, Y sub-range                       Pixel size in X, Y for
sub-region image.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Get                                            Get offset and
size from last Box region selection on <i>Image</i></p>

<h4><a name="_Toc222317379">In all XY Scan Modes:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Charge                                     Total charge for image
in µC.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>ADC Channel/Station          Selects which ADC channel(s) to edit
or sort from.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Detector Mode                       Selects between single and
array detectors.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Layout pop-up                       “?” button to invoke the
Layout pop-up window</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Data Type                               Flags the type of
spectral data (PIXE, PIGE, RBS, SXRF, …).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Enable                                     Enable this ADC, in
detector array mode (better to use “Get”).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Cal A                                        The calibration gain
(keV) for the source data.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Cal B                                        Calibration offset
(keV).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Get Button                              Retrieve the energy
calibration(s) (and set the Enable flags in detector array mode) from a
selected SPEC file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>DA Button                              Retrieve the energy
calibration from the DA matrix selected below under Dynamic Analysis projection.
Do not use in “detector array” mode.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Projection                                Select between Dynamic
Analysis and the use of spectrum energy Cuts (with or without background
subtraction), or Cuts used for STIM, or Multiphase DA (MPDA).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>File                                            Select the DA
matrix file, Cuts file or MPDA .mpdam file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>New button                             Opens a popup to select
phase maps and yields correction file and enable the creating of a .mpdam file.</p>

<h4><a name="_Toc222317380">Only in XANES 3D mode:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>XANES Element                   Select the element name for the
edge being scanned.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Energies                                   The name of the XANES
energies lookup table.</p>

<h4><a name="_Toc222317381">Only in Line XANES (2D) mode:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Energy proxy axis                 Select the stage axis that
provides the index into an energies table.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Energies                                   The name of the XANES
energies lookup table.</p>

<h4><a name="_Toc222317382">Only with Indirect Beam Flux Modes:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>IC Scaler channel                  drop-list to select Epics PV
for flux ion chamber.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Preamp sensitivity                 select preamplifier
sensitivity multiplier</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Preamp Scale Units               select preamp sensitivity scale
range</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Dwell time (ms)                     dwell time per pixel (ms),
using when IC is a count rate and a time is needed to determine IC count per
pixel.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Scan data for PVs                  scan data (or headers) for PV
information and pop-up a selector to select Epics PV and preamp sensitivity.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Conversion (Q/IC)                 the conversion factor between
IC count and equivalent charge in µC.</p>

<h4><a name="_Toc222317383">Bottom row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Output                                     Select the image DAI
output file name (usually the default, set after using the EVT Button, is
correct).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Start                                         start processing.
Results will be stored in the Output file and displayed in the Image window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Flatten                                     optionally, correct
images for flux variation across image. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Cluster                                     enable parallel
processing on a computer cluster or multi-cores.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Update                                     write header
information back to the DAI file. Use this to update non-critical parameters
(e.g. sample name, comment, charge [can also double click on Charge details in <i>Image
Properties &amp; History</i> window] ...)</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Close                                        Close the window.
Parameters remain stored in parent window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Help Text                                Context-sensitive help
area, shows help prompts for widgets as the mouse pointer moves over them.</p>

<h4><a name="_Toc222317384">Only in all Maia Scan Modes (or for devices that
enable these):</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Throttle                                    File of throttle
factors to correct throttle losses. Only used with Maia format event files.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Pileup                                       File of pileup
rejection limits for each pulse-height. Only used with Maia format event files.
</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Linearize                                 File of gain
linearization function parameters and lookup table. Only used with Maia format
event files.</p>

<h4><a name="_Toc222317385">Only in all Maia Scan Modes:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Encoder XY correction         A drop-list to select between: (i)
enable an algorithm to correct noisy Y encoder effects. It deduces an advance
in Y only when X is within a margin width on the left and right of the scan.
Normally, this is not needed. (ii) Filter out spurious XY position glitches
that produce shifts of small portions of the image by 16 pixels).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X margin                                 selects the width of the
margin for use with Encoder Y correction.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear X borders                      clear the X border pixels
(2).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear Y borders                      clear the Y border pixels
(1).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>DTcalA, B                              dead-time calibration
parameters, which depend on Maia shaping times.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Ref463962888"></a><a name="_Toc222317386">Multiphase DA imaging
(MPDA)</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>MPDA is a new approach to quantitative imaging that solves:
(i) quantitative per pixel concentrations (equivalent to the older
&quot;Correct Yields&quot; matrix method), (ii) better X-ray relative
intensities that evolve spatially with composition (which enable better
spectral deconvolution), and (iii) improved background  shapes that adapt with
composition changes.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>It is triggered by selecting the “Multiphase DA (MPDA)” mode
and supplying a new .mpdam file on the <i>Sort EVT</i> window DA/Cal tab.  The
.mpdam file is created by clicking “New” and selecting in the popup window:</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>path
to a 'phase map' .dai file  (specific to this image area)</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>path
to the &quot;Correct Yields&quot; setup (.correct) file  (more general phase
description)</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To use it, you need the following (later we'll have a Wizard
to orchestrate these steps):</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><b>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></b><b>Identify
end-members</b></p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Identify end-members components, and elements that provide a
measure of each.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Fit regions that sample the end-members as much as possible,
using a yield calculation with composition for the end-member, and make a DA
matrix for each.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Also fit a region that samples a background component that will
be used as a remainder component called &quot;Rest&quot;.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><b>Correct
images using the &quot;Correct Yields&quot; method</b></p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Open the &quot;Correct Yields&quot; window and select components,
elements that distinguish each end-member component or phase and their matching
DA matrices from above and fill in the composition matrix that relates
end-members to their elements.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Also select the DA matrix to be used as the remainder
&quot;Rest&quot; component.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Open the .dai image for your sample, and click
&quot;Correct&quot; to correct concentrations based on the end-member (phase)
proportions. Typically, this correction needs 2-3 iterations (press button
again).</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Save the setup as a .correct file (this path will be referenced
from the .mpdam file).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><b>Project
end-member or phase maps</b></p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Click in &quot;Mineral&quot; to project the end-member or phase
maps.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Save this as your 'phase map' .dai file (this path will be
referenced from the .mpdam file).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><b>Load
an existing .mpdam file using “Load”</b></p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>If you have an .mpdam file for this image data-set/scan, load it
here.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>If GeoPIXE detects that the .mpdam file, and the referenced phase
maps, are for a different run/data-set, it will endeavour to generate new phase
maps for this data. This may entail the following steps:</p>

<p class=Numeric-List style='margin-left:114.4pt;text-indent:-18.0pt'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Perform and normal DA analysis</p>

<p class=Numeric-List style='margin-left:114.4pt;text-indent:-18.0pt'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Correct yields for spatially varying composition.</p>

<p class=Numeric-List style='margin-left:114.4pt;text-indent:-18.0pt'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Project end-member phase maps and save these to a file.</p>

<p class=Numeric-List style='margin-left:114.4pt;text-indent:-18.0pt'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Generate a new .mpdam file referencing these new phase maps and
the Correct file.</p>

<p class=Numeric-List style='margin-left:114.4pt;text-indent:-18.0pt'><span
style='font-family:"Courier New"'>o<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span>Perform the MPDA analysis.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><b>Create
your .mpdam file from the “New” button.</b></p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Select the 'phase map' and 'Correct setup' file paths from above.
Note that the .mpdam file is specific to this data-set/scan area as it contains
the specific phase maps.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><b>Select
this .mpdam file in the <i>Sort EVT</i> window (DA/Cal tab)</b></p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>This will happen automatically if you use “New”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'><b>Start
the sort (you can use &quot;cluster&quot; mode for parallel processing when
available)</b></p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Normal GeoPIXE functions work the same from there, but you should
see better concentrations in images, and better region spectra reconstruction overlays.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Warnings:</b></p>

<p class=Numeric-List style='margin-left:78.25pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Phase
maps only work if the data is quantitative so you get realistic phase
proportions for each component. There fore take care with standards and
refinement of the detector settings and calibration of the Conversion factor
(for SXRF).</p>

<p class=Numeric-List style='margin-left:78.25pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
component compositions that produce good separation between phases and elements
that dominantly point to each phase.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317387">Automated MPDA imaging</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>MPDA requires phase maps for a particular data-set or run.
To project phase maps requires processing Normal DA maps first and then using
the <i>Correct Yields</i> process to correct for composition effects on yields
in these images and project phase maps. These steps are now automated.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Hence, if an MPDAM file, used to process one data-set using
MPDA, is selected to process some new image data-set &quot;xxxx&quot;, it is
checked to see if the MPDAM file contains the correct phase maps for the new
data. Normally, it won't, as the MPDAM file was for an earlier run. In this
case, a few automated steps are performed:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A Normal DA sort is done first, using the original DA matrix used
for the earlier data-set to generate the images &quot;xxxx.dai&quot;.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>These images are corrected using the <i>Correct Yields</i>
method, using the CORRECT file referenced in the MPDAM file. Three iterations
of the yield correction are performed.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The corrected images are projected onto end-member proportion
phase maps and saved with the name &quot;xxxx-phases.dai&quot;.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>A new MPDAM file &quot;xxxx.mpdam&quot; is created that points to
the original CORRECT file and the new phase maps.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The MPDA processing begins using the new MPDAM file and generates
MPDA images file &quot;xxxx-MPDA.dai&quot;.</p>

<p class=MsoNormal>Hence, the method to process a series of new data-sets is to
simply select the new raw data files, answer &quot;no&quot; to the questions
about E.cal and Pileup/Throttle, which probably will not change between runs in
a series like this, and click &quot;Start&quot;. This should also work within
the Batch Sort process.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317388">Batch Processing of List-mode Files</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>NOTE: <i>Batch Sort</i> has been largely superseded by
the <i>Batch Wizard</i>.</b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Batch” button adjacent to the “EVT File:” button in the
<i>Sort EVT</i> window brings up the <i>Batch Sort EVT</i> window for editing
parameters and controlling batch sorting of entire directory trees of list-mode
files. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><i>NOTE: Before opening Batch Sort, load Sort EVT with
the settings for the first image to sort. Typically, the first in a series is
processed first. Then the Batch Sort window is opened to continue processing
more data with the same method.</i></b></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=243 src="GeoPIXE-Users-Guide_files/image049.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Select the root directory using the “Dir:” button. A pop-up
allows a restricted range of run numbers to be selected, for device types that
use numeric run-number based file-names.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Batch Sort</i> will then scan this directory for all
list-mode files (select the device type first in <i>Sort EVT</i>). Any
information on each list-mode that can be found (in headers or parameter files)
will be included in the table along with each file name. Edit these parameters
by clicking in a cell and hitting &lt;return&gt; to get into edit mode. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Before starting sorting of all these files, valid global
parameters (those not changed between list-mode files) must be set-up in <i>Sort
EVT</i>. The best way to do this is to sort the first file normally in <i>Sort
EVT</i>. <b><i>This is also the only way to establish different directory tree
paths for input raw data and output image data, if that is desired. </i></b>Note
that if a new output path is selected, then a pop-up will give you the option
to apply this new remapping to all files in the table.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now make sure there are valid entries for Xrange, Yrange
(pixel size), Xsize, Ysize (micron size) and Charge for each run (if a fixed
charge is appropriate). Some device will collect the charge/flux as the data
are processed, and the charge is only known after processing. Alternatively
disable these using row selections and the “Toggle Enable” button. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Use “Fill” to duplicate an entry down a set of selected
rows, over the range of selected columns. Use “First” to select which run is
sorted first. For indirect charge devices, such as many synchrotron devices,
the Charge is set automatically during processing based on the “conv”
calibration factor (set this on the “Flux” tab in the <i>Sort EVT </i>window)
and the total flux extracted from the raw data.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>After each sort is completed, the images are automatically
sent to <i>Image Display</i> and saved to disk as DAI files. Optionally,
digital filtering can be applied to these images according to history
information in a prior filtered image file. <i>Batch Sort</i> will prompt you
for an appropriate selection of file name and element selection after the first
sort in the table. To enable digital filters, check the option below the table.
By default, after filtering the file will be saved with an amended file name with
“-m.DAI” or “-x.DAI” appended. This can be vetoed to save disk space by
checking the “Overwrite initial DAI file” option.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Other options enable the generation of PNG images, HTML
files of thumbnail images, in colour and/or black and white and the output of
RGB image sets based on the RGB list generated using ”Learn” in the<i> RGB
Image</i> window.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This table, directory details and options parameters can be
saved, or restored, from a SBATCH file with the “Load” and “Save” buttons,
respectively.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal;page-break-after:avoid'><a name="_Toc18816548"></a><a
name="_Toc18817068"></a><a name="_Toc18817350"></a><a name="_Toc18907885"></a><a
name="_Toc18929317"></a><a name="_Toc18929503"></a><a name="_Toc19013278"></a><a
name="_Toc19015553"></a><a name="_Toc222317389">Image Display (main GeoPIXE
window)</a></h2>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal>The <i>Image Display</i> window displays elemental images,
sent from the <i>Sort EVT</i> window, or loaded from a DAI file using the
&quot;File<span style='font-family:Wingdings'>à</span>Load Image&quot; menu. 
The element displayed is set using the drop-list on the left below the image.  <i>Use
the context-sensitive help to view help information about each control widget. 
</i>Next to the element drop-list is a series of zoom buttons labelled
&quot;0&quot;, &quot;+&quot; and &quot;-&quot;.  These set full resolution
display, zoom in and out, respectively.  Next comes two drop-lists which select
region selection shapes and include/exclude mode, and finally a &quot;<span
style='font-family:Symbol'>S</span>&quot; button.  These are discussed below.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=362
height=387 id="Picture 49" src="GeoPIXE-Users-Guide_files/image050.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>On the next row is another drop-list, which selects between
concentration display (&quot;Conc&quot;) and variance images (&quot;Var&quot;)
Next to it is a small check-box that enables bilinear interpolation of images
when zoomed in. Then there are two sliders, which control the minimum and
maximum values (as % of the maximum image pixel value) that map onto the bottom
and top of the colour map.  All concentrations between these values are mapped
onto the current colour map, using a linear scale by default. Use the small drop-list
between the bottom and top sliders to select between Linear (L), Log (G) and
Sqrt (S) scales for the Z axis. The Sqrt and Log scales have the effect of
compressing dynamic range, which can be useful for images with strong hot-spots
and low-level traces.  (Colour maps can be selected under the &quot;Display<span
style='font-family:Wingdings'>à</span>Colours&quot; menu.)  The maximum
displayed value (usually in ppm) is shown in the help window (when not used for
context-sensitive information).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=257
height=566 id="Picture 50" src="GeoPIXE-Users-Guide_files/image051.jpg"></span>  
<span style='layout-grid-mode:both'><img border=0 width=257 height=566
id="Picture 51" src="GeoPIXE-Users-Guide_files/image052.jpg"></span></p>

<p class=MsoNormal><i>Image window zoomed in on a small image area with
Interpolation (left) on and (right) off.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using the zoom buttons, you can repeatedly zoom further in
and out on an image.  When zoomed in, the image is displayed using linear
interpolation between pixels.  Particularly when zoomed in, you can resize the
window and use the scroll bars to move smoothly throughout the image.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Elemental images can be exported to PNG files, referenced by
a HTML file using the “File<span style='font-family:Wingdings'>à</span>Save ALL
as HTML (PNG)” menu.  This creates a HTML file that can be opened, or printed,
from a browser.  Each image appears as a thumbnail scaled down to 200x200
pixels with an element label and any shape overlaid in green.  These are
hyperlinked to the full version of each image.  (Your browser may need a
plug-in to view PNG images.)   (Note: Under IDL 5.3, GIF images will be
produced.  However, GIF is not supported beyond version 5.3.1).</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<h3><a name="_Toc18816549"></a><a name="_Toc18817069"></a><a name="_Toc18817351"></a><a
name="_Toc18907886"></a><a name="_Toc18929318"></a><a name="_Toc18929504"></a><a
name="_Toc19013282"></a><a name="_Toc19015557"></a><a name="_Toc222317390">Image
Clones</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Clones of the current <i>Image Display</i> window can be
created using the &quot;Display<span style='font-family:Wingdings'>à</span>Clone
...&quot; menus. You can create from 1 to 11 clones in a regular grid using the
“Display<span style='font-family:Wingdings'>à</span>Clone<span
style='font-family:Wingdings'>à</span>…” menu.  The clones act in unison.  When
you move a region on one Clone, it is redrawn moved on all related clones (i.e.
all clones from the same parent <i>Image Display</i> window).  Similarly, you
can hit &quot;<span style='font-family:Symbol'>S</span>&quot; in any clone and
the results will be sent to the related <i>Image Regions</i> window.  Each row
of results in the <i>Image Regions</i> table are labelled by the <u>name of the
element</u> image displayed when the &quot;<span style='font-family:Symbol'>S</span>&quot;
button was pressed.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=201
height=294 id="Picture 56" src="GeoPIXE-Users-Guide_files/image053.jpg"
alt=Image-ellipse-Cl></span>    <span style='layout-grid-mode:both'><img
border=0 width=201 height=294 id="Picture 57"
src="GeoPIXE-Users-Guide_files/image054.jpg" alt=Image-ellipse-Fe></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i><u>Note</u>: To open an independent Image Display window,
to display unrelated image data without affecting the current images or the
default path, use the menu “Window</i><span style='font-family:Wingdings'>à</span><i>Image
Display (<b>unlinked</b>)”.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19015558"></a><a name="_Toc222317391">Image Display Menus</a></h3>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317392">File Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Load                                        Load images from a
GeoPIXE native DAI image file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Save                                         Save images to a DAI
file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear                                        Clear image memory.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Load (ignore null)                  Loads some old corrupt images
with null matrix data.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Save All as HTML                Save all images as PNG and imbed
them in a HTML web page.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Black and White HTML      Save all as HTML, but in black and
white format images.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Import<span style='font-family:Wingdings'>à</span> …                            Import
image grey-scale files for limited manipulation and display.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Convert<span style='font-family:Wingdings'>à</span> …                          File
format conversion programs.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>Simple Images      Exports
the image as a simple PNG or TIFF file (including the shape), or the current
pixels selected, using a shape or Association highlights, as a transparent PNG
image file. TIFF export uses either (i) ppm, (ii) counts (all detectors), or
(iii) ng/cm2 units.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>Image Plot              Export
selected images in a plot saved in various image formats (typically use JPEG).
Formats supported include: Computer Graphics Metafile (CGM) and Windows
Metafile. Opens the <i>Plot Image Select</i> pop-up panel to select various
options for creating an output plot.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>Image Data            Export
selected images as CSV (comma or tab separated) text files, one for each
element selected (filename contains element name) for either the whole image or
the currently selected region. Optionally, export selected images in Chimage
native format (Chimage is the CSIRO electron microprobe image analysis
package).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Retry cluster image …          If the reconstruction of a cluster
mode parallel processing <i>Sort EVT</i> run is interrupted, often the
reconstruction can be continued here. The results from each process have names
ending in .dai.0, .dai.1, …</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Print                                          Opens the <i>Plot
Image Select</i> pop-up panel to select various options for printing the
current image to the default printer.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Print All                                   As above, but prints
all images, two to a page.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image Properties                    Open the <i>Image History</i>
window to show and edit (some) image properties.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image Properties &amp; Stats     Open the <i>Image History</i> as
above but includes some per pixel statistics (may take some time on images
above 10M pixels).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Exit                                           Close this
instance of the Image Display window (if this is the main parent window for
GeoPIXE, then close all child windows and exit GeoPIXE).</p>

<p class=Bulletlist>&nbsp;</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>Export of
regions of type “ProjectX” or “ProjectY” in XY format first collapses the
region onto the central axis, averaging across the region width, and then
exports this average along the projection line.</p>

<h4><a name="_Toc222317393">Display:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clone<span style='font-family:Wingdings'>à</span>…                               Clone
various numbers of copies of this <i>Image Display</i> windows in a grid.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Multi Image                           Display a simple grid of
element images.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>3D Stack Image                     Opens the 3D Image (XANES,
tomography, …) window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colours<span style='font-family:Wingdings'>à</span>Colour Table        Opens
the colour table requester to change the colour table used for images. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colours<span style='font-family:Wingdings'>à</span>Default                  Sets
the default colour table, Standard Gamma II.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colours<span style='font-family:Wingdings'>à</span>10 Step                  A
ten colour step table, based on Standard Gamma II.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colours<span style='font-family:Wingdings'>à</span>Grey Scale            Sets
the colour table to grey scale, with black as zero. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colours<span style='font-family:Wingdings'>à</span>Invert Table         Inverts
the order of the colour table. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colours<span style='font-family:Wingdings'>à</span>Linear
Luminance         Remaps the colour table onto a linearly increasing luminance.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear All Shapes                   Clears any shape displayed on
the image. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear Assoc. Highlights        Clears any highlighted areas set
from the <i>Associations</i> window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Reset display min/max        Re-calculate the min and max values
for display of each element. The min and max controls are relative to these in
%. May be needed after some processing or plugins.</p>

<h4><a name="_Toc222317394">Analyze:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Mode<span style='font-family:Wingdings'>à</span>Include                     Set
the shape or regions mode to “Include”, just like “+” on the drop-list. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Mode<span style='font-family:Wingdings'>à</span>Exclude                    Set
the shape or regions mode to “Exclude”, just like “-” on the drop-list.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Type<span style='font-family:Wingdings'>à</span>…                                Sets
the current region shape, like the shape drop-list.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Region                                     Analyze the contents
of the current selected region; like using the “&#8721;” button.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Throttle                                    Use the current
images to derive a spectrum of Throttle factors to be used to reduce Maia data
acquisition data-rates with minimal loss of quality.</p>

<p class=Bulletlist style='margin-left:191.35pt;text-indent:-130.7pt'>&nbsp;</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>“Throttle” uses
a pop-up panel of parameters to derive a ‘factor’ by which the count-rate must
be reduced, while minimising loss of image quality and trace element
statistics. Once this factor is derived interactively, the routine uses the
current set of images to sample the variation in elemental intensity in order
to construct a model spectrum to calculate a spectrum of factors to reduce each
channel count-rate by. This derived model spectrum replaces the current
spectrum displayed in <i>Spectrum Display</i>. The throttle factors spectrum is
saved to a TXT file for use with the Maia data acquisition system and also for
replay and correction of Throttled event file collected in this way. (See also
the <i>Spectrum Display</i> Analyze<span style='font-family:Wingdings'>à</span>Throttle
menu for a simpler method, and <i>Sort EVT</i> for the use of Throttle files on
play-back.)</p>

<h4><a name="_Toc222317395">Process:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear<span style='font-family:Wingdings'>à</span>Border                        Clear
a selected range of pixels on the image border.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear<span style='font-family:Wingdings'>à</span>Kill Region               Zeros
image data for selected element within region.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear<span style='font-family:Wingdings'>à</span>Kill Region all
planes                        Zeros image data for all element planes within
region.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear<span style='font-family:Wingdings'>à</span>Kill all Regions
all planes                Zeros image data for all element planes within all
regions.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Filter<span style='font-family:Wingdings'>à</span>Smooth<span
style='font-family:Wingdings'>à</span>…              Apply a smoothing digital
filter to the current image, in various strengths (pixel widths), using Boxcar
or Gaussian kernel weights or a Median filter.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Filter<span style='font-family:Wingdings'>à</span>Edge Enhance<span
style='font-family:Wingdings'>à</span>… Apply a Sobel or Roberts edge
enhancement digital filter.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Filter<span style='font-family:Wingdings'>à</span>Erode                          Apply
the erosion operator to this image in various widths.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Filter<span style='font-family:Wingdings'>à</span>Dilate                          Apply
the dilation image operator.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Scale                                        Scale ALL images by
various factors</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Rotate                                      Rotate ALL images by
90 degree increments, or mirror them.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Shift                                         Shift either odd or
all image rows by selected pixels left or right.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clip<span style='font-family:Wingdings'>à</span> …                                 Clip
all images to either Right or Top.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Xstep Current       Correct
all images for current integration problems in X-step mode (see examples in the
next chapter). </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Ystep Current       Correct
all images for current integration problems in Y-step mode.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Suppress
Region  Attenuates image data for selected element within region or Association
highlighted area.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Image Pileup         Subtract
pileup artefacts from Images making use of Image Pileup simulation loaded in Spectrum
Display (see Spectrum Display “Display<span style='font-family:Wingdings'>à</span>Pileup<span
style='font-family:Wingdings'>à</span>using Images” menu).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Missing rows        Eliminates
missing row data, selected using a Box shape, replacing it with the average on
either side.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Double-counted
rows     Row portions, selected using a Box shape, that contain double-counted
data are corrected (halved).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Missing
columns Eliminates missing column data, selected using a Box shape, replacing
it with the average on either side.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Double-counted
columns              Column portions, selected using a Box shape, that contain
double-counted data are corrected (halved).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Zero pixels            Eliminate
isolated zero pixels in all images. “Zero” pixels are defined as those that are
surrounded by at least 6 non-zero pixels. It uses a threshold of 3% of the
display maximum of the currently displayed element to determine which pixels
contain anomalous zero data. GeoPIXE then replaces these zero pixels in all
element images with the average of surrounding non-zero pixel data.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct<span style='font-family:Wingdings'>à</span>Ghost                      Eliminate
a “ghost” or “echo” feature in an image, corresponding to second displaced beam
at a fixed offset. The menu offers relative intensities of the ghost feature in
10% and 1% increments. Use these in combination to correct ghost features; the
operation is applied to all images. Beforehand, use the “Distance” shape tool
to drag out a vector giving the offset to the ghost or echo features.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Undo Operation                     Undo the last operation
(except for rotation, scale, clip).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>User Plugins<span style='font-family:Wingdings'>à</span>…                   Apply
one of the loaded user plug-ins for user-defined image processing.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Reload user plugins               Reload all plugin SAV files
(e.g. if any have been added).</p>

<h4><a name="_Toc222317396">Window:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image Regions                       Open the Image Regions window
to display region integration results. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image Operations                  Open the Image Operations
window for single click image processing steps. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image History                        Open the Image History
window to display a history of all image processing steps on the current image
and to edit selected image properties (double click to edit). </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Element Associations           Open the Associations window to
display 2-element associations in the current image. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>PCA, Cluster                          Use for PCA and cluster
analysis of XANES 3D stacks.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>3 Element RGB Images       Open the Image RGB window to overlay 3
elements as Red, Green and Blue components. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Spectrum Display                  Open the Spectrum Display
window for spectra display and fitting. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Sort EVT                                 Open the Sort EVT window
to sort event files to project images. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>XANES Image                      Opens the 3D Stack image window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct Yields (N=6)            Open the Correct Yields window
for correction of spatial variation of yields, up to 6 components. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Correct Yields (N=16)          Open the Correct Yields window for
correction of spatial variation of yields, up to 16 components. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Project Minerals                     Open the Correct Yields
window as well, to project onto end-member mineral components. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Edit Filters                               Open the Filter Setup
&amp; Edit window to create of edit X-ray absorber files. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Edit Detectors                        Open the Detector Setup
&amp; Edit window to create or edit detector specification files.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Image (unlinked)                   Open a new Image Display
window that is independent and not linked to the parent image window and its
progeny. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Spectrum (unlinked)             Open the Spectrum Display window
that is independent and not linked to the parent image window and its progeny.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>PIXE/SXRF Simulator         Open the PIXE/SXRF Simulator window
to simulate anticipated count-rates for specified beam, sample, and detector
arrangements.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Blog Browser                          Open the Maia blog raw
list-mode data browser.</p>

<h4><a name="_Toc222317397">Help:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>GeoPIXE User’s Guide        Points to documentation and
diagnostics. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Maia Users Guide                  Points to the Maia users guide
*.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Query IDL Environment      Displays details of the current IDL
operating environment.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Update GeoPIXE                   Run “geopixe_update” to connect
to the CSIRO FTP site to update the software. NOTE: This does not update the
Maia specific extensions of GeoPIXE for run-time operation of a Maia detector
(use “maia_update”).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>About GeoPIXE                     Shows GeoPIXE version.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:0cm'>&nbsp;</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'><b><i>NOTE:
There are PDF versions of the manuals in the GeoPIXE Help directory.</i></b></p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'><b><i>&nbsp;</i></b></p>

<h3><a name="_Toc222317398">Image Display Widgets</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>This list
summarises the functions of all widgets on the <i>Image Display</i> window,
including buttons, sliders, drop-lists and text entry widgets. These are listed
from left to right, top to bottom.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<h4><a name="_Toc222317399">First row below image:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Scroll Bar                           Control to scroll image in
X, similar one for Y on the right side of the image.</p>

<h4><a name="_Toc222317400">Second row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Element Drop-list                   Select element image to
display.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span> “0” Button                             Return to no zoom (full
resolution) display.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“+” Button                              Zoom in by a factor of 2.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“-“ Button                               Zoom out by 2.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Shape Drop-list                       Select the region shape to
be used to select or integrate various regions of the image area.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Region Mode Drop-list         Select between “+” for inclusive
selection (default) and “-“ to exclude selections from the currently selected
region.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“<b>&#931;</b>”                                           Analyze
the current region; results appear in the <i>Image Regions</i> window.</p>

<h4><a name="_Toc222317401">Third row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Quantity Drop-list                  Selects between the
concentration image and the variance image.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Interpolate check-box          Enables bilinear interpolation of
image data when zoomed in.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Low Limit Slider                    Sets the lowest concentration
visible, as a percentage of the maximum. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Z axis display scale               Select the Z axis (colour
axis) display scale between L (linear), G (log) and S (sqrt).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>High Limit Slider                   Sets the highest
concentration visible, as a percentage of the maximum.</p>

<h4><a name="_Toc222317402">Bottom row (or to right for larger images):</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Help                                         Context-sensitive
help area, shows help prompts for widgets as the mouse pointer moves over them.</p>

<h3><a name="_Toc19013279"></a><a name="_Toc19015554"></a><a name="_Toc19013280"></a><a
name="_Toc19015555"></a><a name="_Toc222317403">Image Region Selection Shapes</a></h3>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'>The region selection
drop-list selects between the following shapes. Apart from the first, used to
measure distance only, these shapes are used to define an area of the image. 
Clicking on &quot;<span style='font-family:Symbol'>S</span>&quot; will then
measure the average concentrations of all elements in this region.  The results
can be viewed using the <i>Image Regions</i> window (&quot;Windows<span
style='font-family:Wingdings'>à</span>Image Regions&quot; menu).  More on this
below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Distance</b>: 
Used simply to draw and measure distance between selected points on an image. 
(This will show in microns if the X and Y scan sizes were entered into the Sort
EVT set-up.)  Simply left-click on a point and hold and drag to the second
point and release.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Box</b>: 
With this you can click and drag out a box to surround a feature.  The box has
handles in the corner that can be used to resize the box.  There is also an
extra handle on a short diagonal line that can be used to rotate the box.  A
final control point in the centre can be used to move the box.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Circle</b>: 
Click and drag a circle based on control points on a diameter. There is also a
central control point used to move the circle.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Ellipse</b>:  
Like circle, but with control points on the minor axis as well to set the width
of the ellipse.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Traverse</b>:  
This drags out a line projection area.  It is used to form a line profile or
traverse across a selected rectangular area of the image.  Handles at each end
set the projection line.  Handles on the sides of the rectangle set the
projection width (left mouse button) or the shear (right mouse button); all
points are projected back onto the central line.  (Traverses and line
projections are discussed later.)</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Curve
8</b>:    A spline curve shape to define traverses along non-linear paths.
Click and drag out the line as usual for Traverse. Adjust width using side
handles and adjust the shape using spline control points. To move the spline
curve <i>en masse</i>, click on the central spline control point using the
right mouse button.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Spline
10</b>:   Initially, this drags out a circle with 10 control points, and
central move handle.  Each point on the circle is a spline control point.  Move
them independently to form arbitrary shapes.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Spine
32</b>:  Like Spline 10, but with 32 control points for greater control.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Spine
100</b>:  Like Spline 10, but with 100 control points for greater control.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>ProjectX</b>: Like
Traverse, but the (long) projection axis is constrained to lie in the
horizontal X axis only.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>ProjectY</b>: Like
Traverse, but the (long) projection axis is constrained to lie in the vertical
Y axis only.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>S Pixel</b>:
Selects a single pixel only (shown as a small box).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To view the results of the &quot;<span style='font-family:
Symbol'>S</span>&quot; operation using regions you need to have the <i>Image
Regions</i> window open.  This is discussed below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>An alternative approach to selecting regions of pixels on
images is to use the Associations window. This selects pixels based on value
and the correlations between elements.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=201
height=294 id="Picture 54" src="GeoPIXE-Users-Guide_files/image053.jpg"
alt=Image-ellipse-Cl></span>        <span style='layout-grid-mode:both'><img
border=0 width=201 height=294 src="GeoPIXE-Users-Guide_files/image055.jpg"
alt=Image-ellipse-Cl-exclude></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013281"></a><a name="_Toc19015556"></a><a
name="_Toc222317404">Image Selection Modes</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If the include/exclude drop-list (to the right of the
regions/shape drop-list) is set to include &quot;+&quot;, then the operation
includes all pixels within the region in the concentration average.  The
exclude mode &quot;-&quot; can be used to exclude shapes from a previous
include area.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>As an example, use include mode &quot;+&quot; and an ellipse
region to select an area of an image (as shown above) and hit &quot;<span
style='font-family:Symbol'>S</span>&quot;.  The <i>Image Regions</i> window
shows the average concentrations within this ellipse region.  Now, select
exclude &quot;-&quot;.  The ellipse changes to a shaded area showing all pixels
included in the average (if no shading appears, you may not have clicked on
&quot;<span style='font-family:Symbol'>S</span>&quot; first).  Now, select a
box exclude shape.  Drag out a small box within (or partly within) the shaded
ellipse area; move handles or rotate as needed.  Now when you hit &quot;<span
style='font-family:Symbol'>S</span>&quot;, this box is excluded or removed from
the shaded area.  The row in <i>Image Regions</i> window now shows the average
concentrations within the ellipse, excluding the box area.  This exclude
operation can be repeated with more boxes or different exclude shapes to remove
unwanted cracks, pits, inclusions, etc. from a desired area.  Exclude works
with all shape types, including traverses/line projections.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>If a region is selected and highlighted based on element
Associations, then the exclude operation can be used to remove pixels from the
Association highlighted area.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317405">Image Plotting and Exporting</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Other format output, which includes optional distance scales
and a Z axis concentration legend, can be exported using the “File<span
style='font-family:Wingdings'>à</span>Export” menu. This brings up a pop-up
panel that enables various plotting parameters to be selected.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:72.0pt'><span style='layout-grid-mode:
both'><img border=0 width=262 height=525 id="Picture 133"
src="GeoPIXE-Users-Guide_files/image056.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Plotting parameters that can be controlled include:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Output
format:</b>  Select between Computer Graphics Metafile (CGM), Windows Metafile
(WMF), Encapsulated PostScript (EPS) and Printer output.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Char
Thick:</b>  Character line thickness (default 1.6).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Char
Size:</b>  Character Size (default 2.0).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Line
Thick:</b>  Line thickness for axes, etc. (default 1.6).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Background:</b> 
Background colour  (default is black).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Label
XY Axes:</b>  Label X and Y axes and draw distance tick-marks in “mm” or
“microns”, if the image was sorted with a known size specified, or “pixels”
otherwise.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Z
Axis Legend:</b>  Add a colour bar legend with a concentration scale.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Distance
Legend:</b>  Add a scale bar on the plot.  The position is specified with the
“Distance Legend Position” drop-list.  Note that you probably don’t need this
as well as axis tick marks.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Show
Shape:</b>  Overlay the current region selection shape in green.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>ppm Only:</b>  Use
only ppm values in the concentration legend.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Crop Images:</b>  
Use the current shape on the image to crop the image for output.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Plot Title:</b> 
Add a title to the top of the plot, in addition to the element name label.  The
choice of title options is selected on the right, between using the source
list-mode file name, the sample and grain codes, or user supplied text in the
text box.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Absolute:</b>  Show
the absolute stage coordinates for the scan area, based on the stored scan
origin.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>14)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Centroids:</b> 
Enabled the use of XY centroids for the presently loaded <i>Image Regions</i>.
This uses the XY centroids for each region for the element selected under
“Centroid Element” and plots a circle around each centroid. This is intended to
help locate small hot-spots.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>15)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Distance Legend
Position:</b>  Choose the position of the scale bar between top and bottom of
the image.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>16)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Distance Legend
Colour:</b>   Choose the colour of the distance bar to normal (same as the axes
and text) or reversed.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>17)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Element Label
Position:</b>  Choose between outside the image on the bottom right, or inside
the image area in the various corners.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>18)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Element Label
Colour:</b>   Choose the colour of the element label text to normal (same as
the axes and text) or reversed.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>19)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Conc Scale Max:</b>  
Choose the mode for selecting the concentration legend range: “Auto” means
select the maximum concentration range automatically, “Nice” means use only
ranges based on a logarithmic 1-2-5 sequence, and “Manual” to enter a
concentration maximum manually.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>20)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Manual Scale Max:</b>  
If “Manual” is selected for Conc Scale Max, then enter the maximum value here.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>These selections can be saved and restored (.PLOT files)
using “Save” and “Load” or set to default values using the “Defaults” button. 
Once parameters are selected, click “OK” to complete the export.  The CGM and
WMF formats can be imported into PowerPoint as Pictures.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=461
height=325 id="Picture 53" src="GeoPIXE-Users-Guide_files/image057.png"
alt=c4-x-3-Cu></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The export panel (from “Export<span style='font-family:Wingdings'>à</span>Image
Plot “ menu) is used to produce figures in CGM, WMF, EPS formats or in very
large format, high resolution JPEG image files or to output to your default
printer device. It provides options to set background colour, character size
and line widths and options for the placement of distance and Z axis (e.g.
concentration) legends. Further options can be used to crop the image to the
current shape in the <i>Image</i> window, show the axes in “absolute”
coordinates, which are the stage coordinates used for the scan and to show the
location of “hot-spots”. The latter show the pixels selected in the current
region selected in the <i>Image Region</i> window in green, with enclosing
circles to show where they are located. Hover the mouse pointer over each
option and widget to get more help on each.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=292 id="Picture 151" src="GeoPIXE-Users-Guide_files/image058.jpg"></span></p>

<p class=MsoNormal><i>Image window (demo example MM/925) showing a Box region
shape selected</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=248
height=496 id="Picture 149" src="GeoPIXE-Users-Guide_files/image059.jpg"> </span></p>

<p class=MsoNormal><i><span style='layout-grid-mode:both'>Image Export pop-up
selecting JPEG plot output, crop to shape and overlay of hot-spots circled</span></i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=Bulletlist style='margin-left:17.0pt;text-indent:0cm'><span
style='layout-grid-mode:both'><img border=0 width=698 height=415
id="Picture 154" src="GeoPIXE-Users-Guide_files/image060.jpg"></span></p>

<p class=Bulletlist style='margin-left:17.0pt;text-indent:0cm'><i>Image Export
to a JPEG file, cropped to shape bounds, plotted in absolute stage coordinates
and showing hot-spots in green, enclosed in circles</i></p>

<p class=Bulletlist style='margin-left:17.0pt;text-indent:0cm'><i>&nbsp;</i></p>

<h2 style='line-height:normal'><a name="_Toc18816550"></a><a name="_Toc18817070"></a><a
name="_Toc18817352"></a><a name="_Toc18907887"></a><a name="_Toc18929319"></a><a
name="_Toc18929505"></a><a name="_Toc19013283"></a><a name="_Toc19015559"></a><a
name="_Toc222317406">Image Operations</a></h2>

<h3><a name="_Toc19013284"></a><a name="_Toc19015560"></a><a
name="_Toc222317407">Image Processing Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Low statistics images can suffer from large statistical
fluctuations within individual pixels.  These can be averaged or smoothed using
various operations under the &quot;Process<span style='font-family:Wingdings'>à</span>Filter<span
style='font-family:Wingdings'>à</span> ...&quot; menus.  There are also
functions for edge enhancement and other image processing operations. 
Alternatively, open the <i>Image Operations</i> window using the &quot;Windows<span
style='font-family:Wingdings'>à</span>Image Operations&quot; menu.  Now a
single click on a selected digital filter in the <i>Image Operations</i> list
will perform that operation on the currently displayed elemental image.  If the
image is a &quot;Conc&quot; image, then the &quot;Var&quot; image is filtered
as well.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Existing Image Plugins are also added to the Operations
window list.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Simple, single element operations can be undone using the
“Undo Last” button on the <i>Image Operations</i> window, or using the
&quot;Process<span style='font-family:Wingdings'>à</span>Undo Operation&quot;
menu on the <i>Image Display</i> window.  Only a single level of undo on the
current element is supported. Operations that apply to all elements (e.g.
Scale, Clip, Y charge correct) cannot be undone; save the images first to
enable a restore.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=165
height=197 src="GeoPIXE-Users-Guide_files/image061.jpg" alt=Image-Operations></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Get” button permits another image file to be read and
the image-processing operations used for that image, and stored in the history
records in its image header, to be applied selectively to the current image(s).
The Get button pops-up the following requester:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=241
height=236 id="Picture 59" src="GeoPIXE-Users-Guide_files/image062.jpg"
alt=Image-Processing-Select></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Select which elements to apply operations to. These
selection options can be restored from a file using the “Load” button and saved
with the “Save” button. This selection and the image file-name remain as the
defaults for further invocations of the “Get” button.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Use this feature to apply standard image processing steps,
such as various smoothing passes and also user plug-in operations, to a series
of image data sets. View processing history records in the <i>Image History</i>
window.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013285"></a><a name="_Toc19015561"></a><a
name="_Toc222317408">Image Processing Operations</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The digital filters and operations currently available
include the following.  These are available on the <i>Image Display</i>
“Process” menu, and many (that apply to a single element image) can be accessed
at a single click in the <i>Image Operations</i> window.  The current Image
Plugins are also available in the window list. Operations that apply to a
single element can be undone.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Most operations relate to the entire image displayed (e.g.
Boxcar smooth), or all element images (e.g. Scale). Some operate on a selected
region of an image (e.g. Correct Current, Kill Region). In these cases the
function will use the current region shape selection for the operation. If one
is not set, then it will use an Association highlighted region, if set. Use the
<i>Associations</i> window to establish these pixel selections. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Simple operations, that do not require the use of a
selection Region, are logged to the Image History window and can be “re-played”
from existing modified image DAI files (e.g. to apply the same operations to a
new image file), using the “Get” button on the Image Operations window.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
lang=FR>Boxcar n</span></b><span lang=FR>:   Simple 'n' x 'n' pixel average.  </span>Quite
a severe smoothing effect.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Gaussian
n</b>:  Uses a rotated Gaussian digital filter kernel with a FWHM equal to
'n'.  These are softer smoothing filters.  The Gaussian 1.0 is a very subtle
filter with a FWHM of just 1 pixel.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Median
n</b>:   A median filter using an 'n' x 'n' pixel area.  It is best to use one
of the other smoothing filters first to avoid loss of counts or biasing
concentration.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Roberts
n</b>:   Applies the Roberts edge enhancement digital filter.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Sobel
n</b>:  Applies the Sobel edge enhancement digital filter.  Works better for
noisy data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Erode
n</b>:  Thins or erodes features using a ‘n’x’n’ structure element.  Uses the
middle of the intensity scale as a threshold, so adjust the maximum display
concentration slider to adjust the desired effect.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Dilate
n</b>:   Opposite of the Erode operation.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Scale</b>:  
Applies various scaling factors to ALL elemental images (this cannot be
undone).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>*Rotate</b>:   
Rotates or mirrors ALL elemental images (can not be undone).  Note that you
cannot extract spectra from regions applied to rotated images.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Clip</b>:  Clip all
element images to either Right or Top (to preserve origin for Region validity).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Step
Current</b>:   Corrects for fluctuations in current integration during X or Y
step scanning.  By using a region selection, using the include and exclude
features of regions to exclude cracks, etc., include what should be areas of
constant composition in a selected element, that span the image from one side
to the other.  Then use this feature to flatten this distribution, thereby
correcting for current fluctuation in ALL elements. If a region shape is not
selected, then this function will use an Association highlight if set. (This
cannot be undone.) </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Image
Pile-up:</b>  Correct the images for the effects of complex pile-up, using the
current spectrum, complete with modelled pile-up and fitted intensity
parameters. See the description of pile-up correction below.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Missing
Rows:</b> Correct all images for a missing scan line or part of one. Select the
missing row portion by dragging a Box shape around the missing area and then
use this menu, or its equivalent in the <i>Image Operations</i> Window. (This
cannot be undone.)</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>14)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Double
Rows:</b> Correct all images for a scan line or part of one that is double
counted. Select the missing row portion by dragging a Box shape around the
missing area and then use this menu, or its equivalent in the <i>Image
Operations</i> Window. (This cannot be undone.)</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>15)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Missing
Columns:</b> Correct all images for a missing vertical scan line or part of
one. Select the missing row portion by dragging a Box shape around the missing
area and then use this menu, or its equivalent in the <i>Image Operations</i>
Window. (This cannot be undone.)</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>16)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Double
Columns:</b> Correct all images for a vertical scan line or part of one that is
double counted. Select the missing row portion by dragging a Box shape around
the missing area and then use this menu, or its equivalent in the <i>Image
Operations</i> Window. (This cannot be undone.)</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>17)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Suppress Region:</b>  
Attenuates image for selected element within the current region area. If a
region shape is not selected, then this function will use an Association
highlight if set.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>18)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Kill Region:</b>  
Zeroes the image for selected element within the current region area. If a
region shape is not selected, then this function will use an Association
highlight if set.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>19)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Zero pixels</b>:
Eliminate isolated zero pixels in all images. “Zero” pixels are defined as
those that are surrounded by at least 6 non-zero pixels. It uses a threshold of
3% of the display maximum of the currently displayed element to determine which
pixels contain anomalous zero data. GeoPIXE then replaces these zero pixels in
all element images with the average of surrounding non-zero pixel data. (This
cannot be undone.)</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>20)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Correct Ghosts</b>:
Eliminate a “ghost” or “echo” feature in an image, corresponding to a second
displaced beam at a fixed offset. The menu offers relative intensities of the
ghost feature in 10% and 1% increments. Use these in combination to correct
ghost features; the operation is applied to all images. Beforehand, use the
“Distance” shape tool to drag out a vector giving the offset to the ghost or
echo features. (This cannot be undone.)</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>21)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span><b>Undo Operation:</b> 
Any single element operation (e.g. Smooth) can be undone.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The scaling and clipping operations will change the size of
all element images.  Information is saved in the image header that still
enables the position of any regions set on this scaled image to be related back
to the original XY coordinates in the EVT file.  This means that you can still
use the “EVT” button in the <i>Image Regions</i> window to extract spectra from
within regions, even if the images have been scaled. However, some other
operations (e.g. Rotate) will render the regions invalid.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317409">Interelement Operations window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>While the DA method does target good spectral decomposition
and the removal of the effects of spectral overlap in images, some
contamination of a strong element can still be present in another element
image. The<i> Interelement Operations </i>tool allows some pragmatic correction
for these residual effects. Use the context-sensitive help by moving the mouse
over widgets to get brief help on them.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The window fields allow selection of:</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Target</i> – the image “element” to be corrected.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Operation</i> on <i>Source</i> image to apply to <i>Target</i>
image. Typically, this is “Subtract”.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Source</i> image – the cause of the artefact in the <i>Target</i>
image.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Auto</i> – will automatically <i>Scale</i> the <i>Source</i>
image to just have the desired effect.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Scale </i>– the current value of this scaling.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Filter </i>– optionally, pre-filter the Source before applying
it to Target (or select “None”).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Strength </i>– a multiplier to <i>Scale</i> to
increase/decrease the correction.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><i>Apply </i>– Make the change permanent after adjustments have
been done.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The approach is to identify where there is a potential
overlap artefact. These typically appear where a strong element (Source)
overlaps with a weaker element (Target) and may induce an artefact in the
weaker element image. Hence, start by using the <i>Association</i> window to
plot the <i>Source</i> (X axis) versus <i>Target</i> (Y axis). If you identify
a clear diagonal trend, with few counts below this line, it may indicate this
kind of overlap effect. See the <i>GeoPIXE Worked Examples</i> for some
examples of this correction.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In thus case, the <i>Target</i> is the trace element Se and
the <i>Source</i> is major element Cu and the <i>operation</i> is “Subtract”. <i>Auto</i>
has produced an initial scaling of 0.00031. Show the <i>Target</i> element in
the main <i>Image</i> window. While observing the Se versus Cu plot in <i>Association</i>,
adjust the <i>Strength</i> until a good subtraction of the artefact trend has
been achieved. The diagonal in <i>Association</i> should fall onto the X axis
and you may also see the cancellation of some artefacts in the <i>Image</i>
window. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=314
height=113 src="GeoPIXE-Users-Guide_files/image063.png"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When you are happy with the result, hit <i>Apply</i> to make
the correction permanent. A note will be added to the History for the <i>Target</i>
element image. To back out of the correction, with no changes to the <i>Target</i>
image, simply close the <i>Interelement Operations</i> window or select “Off”
for the operation.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013286"></a><a name="_Toc19015562"></a><a
name="_Toc222317410">Image History</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All operations, such as this one, add history information to
each image.  This information is saved with the image file.  An<i> Image
History</i> window invoked using the “Windows<span style='font-family:Wingdings'>à</span>Image
Properties and History” menu in <i>Image Display</i>, allows viewing of this
information and basic information about the image. A variant of the menu also
displays per pixel statistics, such as mean and standard deviation for dwell
time per pixel, count rates, dead-time and pile-up. This can be slow for images
beyond ~10M pixels and take a few seconds to appear.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=485
height=571 id="Picture 60" src="GeoPIXE-Users-Guide_files/image064.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Some parameters can be changed in the <i>Image History</i>
window, such as the Sample, Grain and Comments fields and the Charge and flux
conversion factor fields. Double click on active rows to make changes.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If you open the window using the “Windows<span
style='font-family:Wingdings'>à</span>Image Properties and Pixel Statistics”
menu in <i>Image Display</i>, extra rows will be added providing various per
pixel statistics. Note: this may take some time to compute (and each time the
element drop-list is changed) for massive images of 10’s M pixels, such as from
the Maia detector array.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816551"></a><a name="_Toc18817071"></a><a
name="_Toc18817353"></a><a name="_Toc18907888"></a><a name="_Toc18929320"></a><a
name="_Toc18929506"></a><a name="_Toc19013287"></a><a name="_Toc19015563"></a><a
name="_Toc222317411">Image User Plug-ins</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>Image Display</i> window has a user plug-in
facility.  You can write image processing and other user image operations in
IDL.  These are loaded when GeoPIXE runs, and appear on the “Process<span
style='font-family:Wingdings'>à</span>User Plug-ins” menu.  They are also
appended to the bottom of the image operations list in the Image <i>Operations
Window</i>. As with other image operations, these add an information line to
the image history record.  The “Undo” menu (or button on the <i>Image
Operations</i> window) can be used to undo this user plug-in operation.</p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoNormal>You need IDLDE to be able to compile your own plug-in
procedures.  However, once you have built the SAV file, you can run them
through GeoPIXE using IDL run-time.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>User plug-ins are designed at present for operations that
change the image data, for the single, currently selected element, but do not
change the element names, the number of elements, or the sizes of images. 
Extension in these areas may come later.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The file “template_image_plugin.pro” is provided with the
GeoPIXE distribution.  It provides a template for writing image processing
plug-ins.  It performs a simple smooth as an example.  See the file for a
description of the arguments.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All Image template routines MUST be named with
&quot;_image_plugin.pro&quot; at the end of the file name.  For a new
&quot;Fred&quot; plug-in, copy and rename the template file to
&quot;fred_image_plugin.pro&quot; and edit the first line to:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='font-size:9.0pt;font-family:"Courier New"'>pro
fred_image_plugin, p, i, title=title, history=history</span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Plug-ins should be compiled in IDLDE and saved as a SAV
file.  Only compile routines for ONE plug-in and save it using the command:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>SAVE, /routines, filename='fred_image_plugin.sav'</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>for a &quot;fred_image_plugin&quot; plug-in.  To ensure
this, exit IDLDE and start it again to compile and save another plug-in.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>NOTE: It is very important to ensure that ONLY
routines for ONE plug-in are saved in each SAV file.  Otherwise, unexpected
results may result when the SAV files are restored at run-time.  The plug-in
SAV files will then be loaded automatically when GeoPIXE.sav runs, if the
plug-in SAV files are located in the “plugins” sub-directory of GeoPIXE.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816552"></a><a name="_Toc18817072"></a><a
name="_Toc18817354"></a><a name="_Toc18907889"></a><a name="_Toc18929321"></a><a
name="_Toc18929507"></a><a name="_Toc19013288"></a><a name="_Toc19015564"></a><a
name="_Toc222317412">Image Regions</a></h2>

<h3><a name="_Toc19013289"></a><a name="_Toc19015565"></a><a
name="_Toc222317413">Image Regions Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Regions are selected by dragging a Shape on the image window
draw area. The Shape is selected using the Shape, or select area analyze type drop-list
below the image. The shapes are listed above in the description of the <i>Image</i>
<i>Display</i> window.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Each click on &quot;<span style='font-family:Symbol'>S</span>&quot;
in <i>Image Display</i> window will produce a new row in the <i>Image Regions</i>
window table, corresponding to the average concentrations within the selected
region pixels.  Each row is labelled with the element name displayed when the
&quot;<span style='font-family:Symbol'>S</span>&quot; button was pressed, in
the &quot;Image&quot; column.  This provides a reminder of what you were
looking at when you pressed &quot;<span style='font-family:Symbol'>S</span>&quot;. 
See the discussion above under <i>Image Display</i> for details of using the
&quot;<span style='font-family:Symbol'>S</span>&quot; button, image regions and
selection modes (include and exclude).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using the Analyze menu in the <i>Associations</i> window
will also produce a results row in the <i>Image Regions</i> window
corresponding to all pixels selected using the spline shape on the selected
element-element correlation. See the discussion of the <i>Associations</i> window
below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Note” column entry can be edited to add a comment about
a region.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=510
height=226 src="GeoPIXE-Users-Guide_files/image065.png"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If you click on the row label for a row, it redraws that
shape in the parent <i>Image Display</i> window, and in all related clone <i>Image
Display</i> windows. If an image is zoomed, the regions are also enlarged/
reduced as appropriate.  If the <i>Spectrum Display</i> window is opened, and
the spectra were extracted using the “Extract Spectra” button, then the
spectrum appropriate to this region will be displayed along with the spectrum
reconstruction overlay (see below). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If you click on a Column heading, it sorts the entire table
into descending order for that column.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=513
height=235 src="GeoPIXE-Users-Guide_files/image066.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For devices that support cluster/parallel processing, the
“Cluster” option becomes available to distribute processing over multiple
cores, or members of a cluster.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Modify”, “Delete” and “Hotspots” tabs can used to access
additional operations that can be performed on regions or the regions table. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=513
height=235 id="Picture 6" src="GeoPIXE-Users-Guide_files/image067.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=513
height=235 id="Picture 28" src="GeoPIXE-Users-Guide_files/image068.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=513
height=235 id="Picture 10" src="GeoPIXE-Users-Guide_files/image069.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>These include: (i) separate hot-spot pixels selected using
the <i>Association</i> method into distinct ‘clusters’ of pixels, (ii)
selecting the pixels in the spatial neighbourhood of hot-spot pixels, (iii)
delete all regions, except #0 (used to delete separated hot-spot regions), (iv)
export the hot-spot region table, including centroid XY and number of pixels,
(v) delete the selected region, and its matching spectrum (must have <i>Spectrum
Select</i> window open). If “Keep #0” is enabled, then region #0 will be
updated to be the sum of all separated pixel regions as deletions are made
(this is used for total hotspots maintenance).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For example, using <i>Association</i> with both axes
selecting the same element can be used to threshold one element. This will
select pixels above a threshold concentration. These may be contiguous spatially
or occurring in separate ‘objects’ distributed across the image area. Use the “Hotspot
separation” button on the “Hotspots” tab, for a selected region row (created
using the <i>Association</i> threshold approach), to separate this selection of
pixels into distinct spatial objects, such as hotspots. A pop-up will warn of
how many objects have been found. Hit “Continue” to separate these into
distinct regions of pixels, one for each cluster found. Note that this is
time-consuming for object numbers beyond about 1000.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In large images, the location of a small number of pixels in
a cluster may be hard to see. Use the drop-list on the <i>Image Regions</i>
window to select “Centroid X” or “Centroid Y” to show the centroid position
(X,Y in pixels) in the table. When a region is selected, the <i>Image</i>
window will endeavour to centre the image view at the region centroid.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013290"></a><a name="_Toc19015566"></a><a
name="_Toc222317414">Export Selection Requester</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>These results can be exported to an ASCII (.CSV) file using
the “Export” button.  This brings up a panel to enable the selection of
elements to export.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=209
height=151 id="Picture 62" src="GeoPIXE-Users-Guide_files/image070.jpg"
alt=Select-Elements></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The image regions, along with the average concentrations,
etc., can be save to a file (.REGION) using the &quot;Save&quot; button, or
loaded using &quot;Load&quot;.  If the images have been updated (e.g. perhaps
resorted after the addition of a missing element), use the &quot;Update:
All&quot; button to redo the region averages to update the <i>Image Regions</i>
table, and then Save the results again.  If you need to adjust the position of
a region, then select it by clicking on the row in the <i>Image Regions</i>
window table.  Then click on “Update: One” button to update the concentrations
and region geometry for just this region.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal;page-break-after:avoid'><a name="_Toc18816553"></a><a
name="_Toc18817073"></a><a name="_Toc18817355"></a><a name="_Toc18907890"></a><a
name="_Toc18929322"></a><a name="_Toc18929508"></a><a name="_Toc19013291"></a><a
name="_Toc19015567"></a><a name="_Toc222317415">Extracting Spectra from Image
Regions</a></h2>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal>Spectra can be extracted from all the currently loaded
regions by clicking on the &quot;Extract spectra&quot; button in the <i>Image
Regions </i>window (“Extract” tab) (make sure you save the regions to a file
using the “Save” button first).  This will prompt for the name(s) of the source
list-mode file(s) and the name of a destination SPEC file.  Then the list-mode
file(s) will be sorted and the ADC/ detector selected in the drop-list next to
the Extract button will be extracted from the list-mode data.  For each region
specified, a separate spectrum will be created in the final SPEC file (with
spectrum integrated charge proportional to region area).  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The ADC/ detector drop-list also has the entries:
“individual” and “array”. Use “array” for an array detector in order to extract
a sum spectrum across all active detector elements for each region. The
individual energy calibration for each detector will be used to map the spectra
summed onto a common energy calibration. The option “individual” is used to
extract the separate spectra from each detector, but <u>only</u> for the first
region in the list. See “Detector Arrays” below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i><u>NOTE</u>: The name of the SPEC file is given by
default based on the regions file name.  For PIXE/SXRF data, it is best not to
change these filenames.  Then, when later you load a regions file into Image
Regions, the corresponding spectrum file will be loaded into Spectrum Display
automatically.  Clicking on a row in Image Regions will display the
corresponding spectrum in Spectrum Display.  </i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>However, if you want to extract non-PIXE/SXRF data from a
regions file that you set-up, as above, on PIXE images, then give the spectrum
file a new name (e.g. append “-RBS’ for RBS data).  Select the correct ADC
number for the RBS data, and hit “EVT”.  Now, when prompted for a SPEC
file-name, edit the name (append “-RBS” in the above example); this SPEC file
will not overwrite your PIXE/SXRF spectrum file extracted previously from the
same regions.</p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=493
height=582 id="Picture 63" src="GeoPIXE-Users-Guide_files/image071.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If a <i>Spectrum Display</i> window is open, it will be
loaded with the resulting spectra (in addition to a SPEC file being written). 
Now, if you select a row of the <i>Image Regions</i> window (click in the row
label at the left), the corresponding extracted spectrum will be displayed in
the S<i>pectrum Display</i> window.   </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=367 id="Picture 144" src="GeoPIXE-Users-Guide_files/image072.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If the data is of type PIXE or SXRF, and the images use the
DA method, then this spectrum will be overlaid with the spectral components
scaled by the region concentrations.  This “fit” gives a visual guide to the
quality of the images in this region.  For example, a missing element will
usually mean a poor fit to overlapping elements, or an overestimate of
background.  This often shows up as a hot spot in the &quot;Back&quot; image or
as a poor overlay on the extracted spectrum.  These can be investigated in
detail by extracting spectra from all suspicious regions in the elemental image
and background.  Any new missing elements can then be added to the fit to build
a new revised DA matrix, and the image sort repeated, and regions Updated.</p>

<h3><a name="_Toc222317416">Detector Arrays</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>Image Regions</i> window has a new feature for
sorting all detectors of an array into merged spectra for regions. The spectra
are mapped onto the energy calibration of the first spectrum before being
accumulated into single spectra, one for each region. The ADC drop-list (next
to “EVT” button) has the entry “array” which means sort all array detectors
enabled for the image in <i>Sort EVT</i> when the list-mode file was sorted
(assumes “Detector Array” type was selected in <i>Sort EVT</i>).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The option “individual” on the drop-list is used to extract
the separate spectra from each active detector for which counts were recorded
in the region, <b>but only for the first region in the list</b>. This option
might be used together with a large region across a standard foil in order to
check the relative sensitivity across an array.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>An effective <i>multiplicity</i> internally keeps track of total
collection sensitivity or the effective number of detectors merged together.
This together with charge or flux Q is used to determine concentration from
fits to these spectra. For the full array yield calculation, the relative
sensitivity of each detector is also accounted for here.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc18816554"></a><a name="_Toc18817074"></a><a name="_Toc18817356"></a><a
name="_Toc18907891"></a><a name="_Toc18929323"></a><a name="_Toc18929509"></a><a
name="_Toc19013292"></a><a name="_Toc19015568"></a><a name="_Toc222317417">Element
– Element Associations</a></h2>

<h3><a name="_Toc19013293"></a><a name="_Toc19015569"></a><a
name="_Toc222317418">Associations Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A window <i>Associations</i> is used to plot associations of
two elements in images.  In other words, each pixel in a set of elemental
images represents a data point in multi-element space. <i>Associations</i>
displays two-element projections from this space.  This can show up discrete
phases in a sample, for example, which appear as discreet blobs that may be
separated in some two-element views. Neighbouring phases will have mixed
pixels, which leads to mixing trends between these ‘blobs’.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the <i>Association</i>s window using the “Window<span
style='font-family:Wingdings'>à</span>Element Associations” menu on the <i>Image
Display</i> window.  This shows a window in which every pixel of the parent
image is treated as a data point, and one element is plotted against another
accumulated in a 2D histogram.  Select the elements for the X and Y axes using
the right and left element drop-lists, respectively.  By default, each axis is
on a Linear scale.  To toggle the log/linear behaviour, use the small check-box
below the element drop-lists (checked means log scale active, to use a log
scale showing about 5 cycles down from the maximum concentrations).  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The source element images may be noisy, which will adversely
affect your associations.  This can be remedied using a degree of
pre-smoothing, applied to the X and Y elemental images prior to association. 
The pre-smooth is controlled using the slider next to each axis element
drop-lists.  A default of 3-point smooth is preset when the window opens.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>By default the <i>Association</i>
window opens with about a 300x300 pixel size with surrounding axes.  This can
be zoomed up or down, in factors of two, using the zoom buttons in the centre
of the middle row (“+” makes bigger, “-“, smaller).  Use the “o” button to
return to normal size.  Once zoomed larger, you can either use the scroll bars
to move around in association space, or resize the window, or a combination of
both.</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>&nbsp;</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'><span style='layout-grid-mode:
both'><img border=0 width=302 height=435 id="Picture 146"
src="GeoPIXE-Users-Guide_files/image073.jpg"></span></p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>&nbsp;</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>The maximum intensity
scale of the association, which is the Z histogram count for each
element-element concentration 2D pixel, can be controlled using the two sliders
at the bottom, maximum on the right, minimum on the left. The drop-list in the
centre can select between a Linear Z histogram scale, SQRT and Log to compress the
dynamic range.</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>&nbsp;</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>The minimum and maximum
concentration displayed on each axis is controlled by the sliders in the middle
row, Y on the left (low and high) and X on the right. The check box beneath the
element drop-lists select a log scale for that axis.</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'><i>&nbsp;</i></p>

<p class=MsoBodyTextIndent3 style='line-height:10.0pt'>TIP:  Remember to use
the context-sensitive help.  Pass the cursor slowly over a widget and look at
the help text at the bottom of the window.  Many widgets in complex windows,
such as this, are not labelled to save space.  Use this help to remind you of
what each widget does. Or, click “?” in the bottom-right corner to open this
help doc.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317419">Spline Tool Shape Selection and the Image Regions
Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A spline tool is available in the <i>Associations</i> window
to select arbitrary areas in two-element space.  These selections can be used
to highlight all pixels in the element images that represent this area in
two-element composition space.   Click and drag out a circle, using the left
mouse button.  This sets the initial shape.  Click and drag each control point
to form the desired shape.  Move the spline using the centre handle.  The
concentration coordinates of the centre are shown in the help area at the
bottom while you move the spline curve around.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>You can clear the spline curve to start again by either a
‘right click’ on the mouse in the window or using the “Display</i><span
style='font-family:Wingdings'>à</span><i>Clear Spline” menu.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To highlight all pixels in the source images that have
concentration values that fall within the spline curve, use the “Analyze<span
style='font-family:Wingdings'>à</span>Include points within Spline” menu in the
<i>Associations</i> window.  All relevant pixels in the spatial images will be
highlighted in green and a new entry is added to the <i>Image Regions</i> table
for this selection.</p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317420">Editing points selected in the Association window</a></h4>

<p class=MsoNormal>To highlight all selected data points in the <i>Association</i>
window, click on the checkbox to the right of the Z scale droplist on the
bottom row. The selected data-points will display as green. If you switch to
other element axes, these points remain highlighted. You can refine the selection
in two ways, using the Analyze menu: </p>

<p class=MsoNormal>&nbsp;</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Further refine within spline” – rejects any green point <u>outside</u>
of the spline curve.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“Reject selection within spline” – rejects any green points <u>within</u>
the spline.</p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317421">Editing pixel selection on the image</a></h4>

<p class=MsoNormal>To remove pixels from the current Associations highlighted
area, back in the <i>Image</i> window use the EXCLUDE “-“ mode of region select
shape. Select exclude, drag out a shape and use the “<span style='font-family:
Symbol'>S</span>” button to remove pixels within this region from the current <i>Associations
</i>selection. Note for this to work, no include region should be set before
making a spline selection in <i>Association</i>.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3 style='line-height:10.0pt'>Tip:  To temporarily
hide the green pixel highlighting, click within the <span style='font-style:
normal'>Image Display</span> window, away from all region handles, using the
right mouse button.  The green highlighted area will hide while the right mouse
button is held down.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>These pixel selections, plus the average concentrations
within these highlighted pixels, are saved in the <i>Image Regions</i> table. 
To view these open the <i>Image Region</i> window.  The “image” column will now
show the two elements viewed in the <i>Associations</i> window.  If you click
on a row in the <i>Image Regions</i> window, then the association spline will
be displayed in the <i>Associations</i> window as well as the matching pixel
highlights in the <i>Image Display</i> windows.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>As with normal image region selections, the spectra from any
ADCs within these selected areas (all pixels highlighted green) can be
extracted.  First save the regions using the “Save” button on the <i>Image
Regions</i> window and make sure a <i>Spectrum Display</i> window is open.  Now
select the desired ADC to sort out spectra from (or “array” to combine all
detectors of an array), using the “Detectors” drop-list beside the “Extract
Spectra” button on the <i>Image Regions</i> window – “Extract” tab.  Now click
on “Extract Spectra” to select the list-mode file(s) and the output spectra
file.  The sort will start and on completion the spectra will appear in the <i>Spectrum
Display</i> window. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3 style='line-height:10.0pt'>Apart from the file
extension, the region and spectra files should have the same name for PIXE and
SXRF data (this is the default anyway), for later auto loading of the spectrum
file when a region file is loaded.  Hence, for PIXE/SXRF data, if you use the
default name for the spectrum file, then the spectra are located and loaded
automatically when the corresponding regions file is ever loaded later.  This
is recommended<b>.  However, for this to work, you must save the regions to a
file first</b>.  </p>

<p class=MsoBodyTextIndent3 style='line-height:10.0pt'>&nbsp;</p>

<p class=MsoBodyTextIndent3 style='line-height:10.0pt'>For non-PIXE/SXRF data,
it is best to give the extracted spectra file an extra label in the file name
that distinguishes it from normal PIXE/SXRF data (e.g. “Fred-RBS-q1.spec”).</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317422">Associations within a Sub-region</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If a normal image shape region is used to select a spatial
area within an image, in an <i>Image Display</i> window, then the element
associations shown in the <i>Associations</i> window only show data from within
this spatial sub-area of the image.  For example, this can be used to learn
about specific phases in a region of an image, exclude a dominant phase, or to
separate subtle intergrowth compositions.  Form a normal region in one of the <i>Image
Display</i> windows.  Click on “<span style='font-family:Symbol'>S</span>”
button.  This will add this entry to the <i>Image Regions</i> table, and also
tells the <i>Associations</i> window(s) to only consider associations between
elements within this region’s pixels. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Alternatively, if you already have regions saved in REGION
files. These can be loaded into <i>Image Regions</i> window.  Click on a row to
display the associations.  If it is a normal shape region, then you see the
associations between elements for just these selected spatial image pixels.  If
it is an association spline region (shown with two element names in the “Image”
column), then these elements are displayed on the axes of the <i>Association</i>
window(s) and the association scatter plot will cover ALL spatial image pixels
for all selected associations.  The spatial image pixels corresponding to
compositions within the spline curve will be highlighted on all <i>Image
Display</i> windows.</p>

<p class=MsoHeader>&nbsp;</p>

<h3><a name="_Toc222317423">Operations on Pixels selected by Association</a></h3>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>Several operations on images that make use of a region
selection will use regions highlighted using the Association method, if no
shape region is selected. Use this to select the pixels to operate on for
“Correct<span style='font-family:Wingdings'>à</span>Current” operations and
“Suppress” and “Kill region”. You may need to use the menu “Display<span
style='font-family:Wingdings'>à</span>Clear All shapes” to make sure the
highlighted pixels are used instead of a simple shape.</p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>The selected pixels can be edited using the Exclude “-“
region mode. Select a shape (e.g. Circle) and then select the exclude mode.
Each time you position the circle and click in “<span style='font-family:Symbol'>S</span>”,
any highlighted pixels in the circle will be removed from the highlight
selection.</p>

<p class=MsoHeader>&nbsp;</p>

<h3><a name="_Toc222317424">Associations Menus</a></h3>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317425">File Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Save as PNG                           Save 2D histogram as a PNG
file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export                                      Opens the Plot Assoc
export tool to tailor the creation of a 2D plot/image.</p>

<h4>&nbsp;</h4>

<h4><a name="_Toc222317426">Display Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clone                                       Open 1 or more clones
of the Association window.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Colours                                    Select a colour map or
invert the map.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Clear Spline                            Clears the current spline
(a right mouse click will do that too).</p>

<h4>&nbsp;</h4>

<h4><a name="_Toc222317427">Analyze Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Include points within Spline      Select all image pixels with
the 2-element association within the spline.</p>

<p class=Bulletlist style='margin-left:205.55pt;text-indent:-5.0cm'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Further refine within Spline       rejects any green point <u>outside</u>
of the new spline curve.</p>

<p class=Bulletlist style='margin-left:205.55pt;text-indent:-5.0cm'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Reject selection within spline    rejects any green points <u>within</u>
the new spline.</p>

<p class=MsoHeader>&nbsp;</p>

<h3><a name="_Toc222317428">Associations Widgets</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This list summarises the functions of all widgets on the <i>Associations</i>
window, including buttons, sliders, drop-lists and text entry widgets. These
are listed from left to right, top to bottom.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<h4><a name="_Toc222317429">First row below image:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Scroll Bar                           Control to scroll image in
X, similar one for Y on the right side of the image.</p>

<h4><a name="_Toc222317430">Second row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y Element Drop-list              Select element to display on Y
axis.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y Smooth Slider                     Controls a pre-smooth to Y
element image data before association plotting. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“0” Button                              Sets zoom back to
original size.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“+” Button                              Zoom in by 2.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“-“ Button                               Zoom out by 2.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Smooth Slider                     Controls a pre-smooth to X
element image data before association plotting.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Element Drop-list              Select element to display on Y
axis.</p>

<h4><a name="_Toc222317431">Third row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y Log Checkmark                Enables log Y axis.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y Minimum Slider                 Sets the lowest concentration
visible, relative to max.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y Maximum Slider                Sets the highest concentration
visible, relative to max.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Minimum Slider                 Sets the lowest concentration
visible, relative to max.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Maximum Slider                Sets the highest concentration
visible, relative to max.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Log Checkmark                Enables log X axis.</p>

<h4><a name="_Toc222317432">Fourth row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Low Z Slider                           Sets the lowest Z
histogram score displayed in the colour map.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Z scale drop-list                     Select a Linear, Log or
Sqrt Z histogram scale.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Green highlight                       Enable showing currently
selected points in green</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>High Z Slider                          Sets the highest Z
histogram score displayed as a colour.</p>

<h4><a name="_Toc222317433">Bottom row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Help Text                                Context-sensitive help
area, shows help prompts for widgets as the mouse pointer moves over them.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>?                                                To open the
GeoPIXE Users Guide at this window’s notes.</p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>Tabs on right:</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Association                             Show the 2-element association
2D histogram</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Histogram                           Show the X projection of
the 2D scatter</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Y Histogram                           Show the Y projection of
the 2D scatter</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:0cm'>&nbsp;</p>

<h2><a name="_Toc18816555"></a><a name="_Toc18817075"></a><a name="_Toc18817357"></a><a
name="_Toc18907892"></a><a name="_Toc18929324"></a><a name="_Toc18929510"></a><a
name="_Toc19013294"></a><a name="_Toc19015570"></a><a name="_Toc222317434">RGB
Three Element Images</a></h2>

<h3><a name="_Toc19013295"></a><a name="_Toc19015571"></a><a
name="_Toc222317435">Image RGB Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>True colour images (24/32-bit) can be generated that use
three elements as the Red, Green and Blue axes, using the <i>Image RGB</i>
window (“Windows<span style='font-family:Wingdings'>à</span>3 Element RGB
Images” menu on <i>Image Display</i>).  It has drop-lists to select the three
elements for red, green and blue.  All other controls come from the linked <i>Image
Display</i> Windows.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Control the minimum and maximum display values using the
sliders in the <i>Image Display</i> windows and clones, or select display scale
type (Linear, Sqrt, Log); any changes will be dynamically displayed on the RBS
display.  The maximum display % is also provided as a text widget below the RGB
element drop-lists to manually set the display maximum. Control of display zoom
follows the same scheme as the main Image window, using the “0”, “+” and “-“
buttons. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The result can be exported as 24-bit PNG or JPEG files,
using the current zoom level. <i>Note that the lossless PNG files are about 10x
larger than the JPEG. For JPEG, GeoPIXE uses maximum quality, and so these are
generally very good.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A “Learn” menu allows selections of elements for RGB to be
learnt, as a list, and saved to a file to be later restored and executed to
provide a standard set of RGB images saved for a particular project. These are
always saved at original (full) size (zoom=0).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=458
height=490 id="Picture 1" src="GeoPIXE-Users-Guide_files/image074.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317436">Image RGB Widgets</a></h3>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<p class=MsoNormal>This list summarises the functions of all widgets on the <i>Image
RGB</i> window, including buttons, sliders, drop-lists and text entry widgets.
These are listed from left to right, top to bottom.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<h4><a name="_Toc222317437">First row below image:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>X Scroll Bar                           Control to scroll image in
X, similar one for Y on the right side of the image.</p>

<h4><a name="_Toc222317438">Second row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>R Element Drop-list               Select element to display in
Red.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>G Element Drop-list              Select element to display in
Green.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>B Element Drop-list               Select element to display in
Blue.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“0” Button                              Sets zoom back to full
resolution.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“+” Button                              Zoom in by 2.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>“-“ Button                               Zoom out by 2.</p>

<h4><a name="_Toc222317439">Third row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>R display max                        Set the display maximum as a
% </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>G display max                       Set the display maximum as a
% </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>B display max                        Set the display maximum as a
% </p>

<h4><a name="_Toc222317440">Bottom row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Help Text                                Context-sensitive help
area, shows help prompts for widgets as the mouse pointer moves over them. By
default it shows the maximum concentration displayed for each element.</p>

<p class=Bulletlist style='text-indent:0cm'>&nbsp;</p>

<h3><a name="_Toc222317441">Image RGB Menus</a></h3>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317442">Files</a></h4>

<p class=MsoNormal>Mostly, image data is made available to <i>Image RGB</i> via
a notification from the main <i>GeoPIXE Image</i> windows when new data are
loaded. However, the “Compare Images” menu offers a way to load another
data-set (e.g. to compare PIGE with PIXE images); the new elements are added to
the <i>Image RGB</i> element drop-lists. Select any of the original elements
(as in the associated <i>Image</i> window) or the new “Compare” elements in the
drop-lists.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Compare images                    Load image .DAI file to compare
(assumed for same scan area).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export <span style='font-family:Wingdings'>à</span> Simple Image      Export
as a JPEG or PNG image file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export <span style='font-family:Wingdings'>à</span> Image Plot            Export
selected images on a plot with axes and legends in image (JPEG, PNG) or vector
formats (Computer Graphics Metafile (CGM) or Windows Metafile (WMF) format).
Opens the <i>Plot RGB Image Select</i> pop-up panel to select various options
for creating an output file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Print                                          Opens the <i>Plot
RGB Image Select</i> pop-up panel to select various options for plotting to the
default printer.</p>

<h4><a name="_Toc222317443">Learn</a></h4>

<p class=MsoNormal>The Learn menu allows RGB element selections to be added to
a list to be executed later. Hence, use “First” to start a new list, “Next” to add
the current RGB element selection to the list, “Save” and “Restore” to
save/restore the list to a file and “Execute” to execute it, which is always at
‘full’ zoom. This output list can also be triggered from the <i>Batch Sort</i> window.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317444">Image RGB Export</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The export panel is used to produce figures in CGM, WMF, EPS
formats or in very large format, high resolution JPEG image files or to output
to your default printer device. It provides options to set background colour,
character size and line widths and options for the placement of distance and Z
axis (e.g. concentration) legends. Further options can be used to crop the
image to the current shape in the Image window, show the axes in “absolute”
coordinates, which are the stage coordinates used for the scan and to enhance
hot-spots in a selected image plane. The latter uses a Dilation operator to
prevent small hot-spots from disappearing on output. Hover the mouse pointer
over each option and widget to get more help on each.</p>

<p class=MsoNormal style='margin-left:108.0pt'><span style='layout-grid-mode:
both'><img border=0 width=283 height=487 id="Picture 132"
src="GeoPIXE-Users-Guide_files/image075.jpg"></span></p>

<p class=MsoNormal style='margin-left:72.0pt'><i>Export RGB image options to
plot a selected (crop) sub-area and enhance the Pt hot-spots output</i></p>

<p class=MsoNormal style='margin-left:72.0pt'><i>&nbsp;</i></p>

<p class=MsoNormal><i><span style='layout-grid-mode:both'><img border=0
width=616 height=408 id="Picture 131"
src="GeoPIXE-Users-Guide_files/image076.png"></span></i></p>

<p class=MsoNormal style='margin-left:72.0pt'><i>The WMF output figure produced
from the above window applied to the MM 925 demo example data</i></p>

<p class=MsoNormal style='margin-left:72.0pt'><i>&nbsp;</i></p>

<h2><a name="_Toc222317445">Multi Image Display Window</a></h2>

<h3><a name="_Toc222317446">Multi Image Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A tiled group of small image windows can be displayed in a <i>Multi
Image Display </i>window (“Display<span style='font-family:Wingdings'>à</span>Multi
Image” menu on <i>Image Display</i>).  It has buttons to select the number of
tiled images to display (2-25). Resize the window to change the shape and
arrangement of window, and the element drop-lists on each to select elements to
display. Each window has controls for display min/max (%) and Z scale type,
that are all linked to these controls on the attached <i>Image Display</i>
window.</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=504 id="Picture 67" src="GeoPIXE-Users-Guide_files/image077.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The top-left image has a special function: Click and drag
out a rectangular region on this image and this area is magnified and displayed
in the other windows. Right-click in this window to cancel this magnify
function.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=350 id="Picture 68" src="GeoPIXE-Users-Guide_files/image078.jpg"></span></p>

<h3><a name="_Toc222317447">Multi Image Widgets</a></h3>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<p class=MsoNormal>This list summarises the functions of all widgets on the <i>Multi</i>
<i>Image </i>window, including buttons, sliders, drop-lists and text entry
widgets. These are listed from left to right, top to bottom.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<h4><a name="_Toc222317448">Left of main window:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Tiled number                         Select the number of images
to display tiled.</p>

<h4><a name="_Toc222317449">First row, below each image:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Element Drop-list                   Select element to display in this
window tile.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Low Limit Slider                    Sets the lowest concentration
visible, as a percentage of the maximum. </p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Z axis display scale               Select the Z axis (colour
axis) display scale between L (linear), G (log) and S (sqrt).</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>High Limit Slider                   Sets the highest
concentration visible, as a percentage of the maximum.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc222317450">3D Image Stack Display Window</a></h2>

<h3><a name="_Toc222317451">3D Image Stack Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Various 3D image stack data-sets can be displayed (and
assembled) using the <i>3D Image Stack</i> window (open it from the <i>Image</i>
<i>Display</i> window Display menu). It operates much like the <i>Image Display</i>
window, but instead of having an element list, it has a drop-list for the Z
axis, which is energy for XANES and tomo angle for tomography. Image stack
files (extension .xan) are constructed and loaded in two ways, depending on the
data organization:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
lang=FR>2D stacks</span></b><span lang=FR>:  Stacks of normal&nbsp;2D images
can be imported into the <i>3D Image Stack</i> window using the <i>File</i></span><span
style='font-family:Wingdings'>à</span><i><span lang=FR>Import</span></i><span
lang=FR> menus. It </span>accommodates<span lang=FR> image stack planes
organized as .dai files in a single directory, or spread over a series of
directories, with one frame per directory.</span></p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b><span
lang=FR>3D data</span></b>:  Full 3D raw data can be processed using the Sort
EVT window directly into a .xan output file, and displayed in an attached 3D
Image Stack window.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=271
height=403 id="Picture 69" src="GeoPIXE-Users-Guide_files/image079.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317452">3D Image Stack Menus</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>These largely parallel the Image Display window, with the
following differences.</p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317453">File Menu:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Import<span style='font-family:Wingdings'>à</span> XANES …            Import
2D image stacks from .dai files within one directory or in one directory for
each .dai file.</p>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Export<span style='font-family:Wingdings'>à</span>XANES Energies   Export
the energies of each stack frame to an energies file.</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<h3><a name="_Toc222317454">3D Image Stack Widgets</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>These are similar to the Image Display window, with the
following differences.</p>

<p class=Bulletlist style='margin-left:60.65pt;text-indent:0cm'>&nbsp;</p>

<h4><a name="_Toc222317455">Second row:</a></h4>

<p class=Bulletlist style='margin-left:191.4pt;text-indent:-127.6pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Energy Drop-list                     Select energy stack plane to
display. Use the arrow keys on the keyboard to scroll through planes. </p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816556"></a><a name="_Toc18817076"></a><a
name="_Toc18817358"></a><a name="_Toc18907893"></a><a name="_Toc18929325"></a><a
name="_Toc18929511"></a><a name="_Toc19013296"></a><a name="_Toc19015572"></a><a
name="_Toc222317456">Linear Traverses and Line Projections</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using the &quot;Traverse&quot; region in the <i>Image
Display</i> window, a traverse or line projection can be defined across an
interesting area of zonation.  Then spectra representing the concentration
variation of all elements projected along this traverse line can be extracted.
For curved traverse paths, use the “Curve 8” region tool. To constrain the
projection to just the X or Y axis, use the “ProjectX” or “ProjectY” tools,
respectively.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Select the “Traverse” region type from the drop-list.  Click
(left mouse button) on the starting position and drag out the traverse region
to the end position.  Handles on the ends of the traverse line can be used to
move these end-points (using the left mouse button).  Now use the handles on
the sides of the traverse region to tailor the width of the rectangular
integration area (using the <u>left</u> mouse button).  All points in the
rectangle will be projected onto the traverse axis in a direction parallel to the
ends of the box. To change the shear on the box, to change from normal
projection perpendicular to the traverse line, select and drag these side
handles using the <u>right</u> mouse button.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=425
height=445 src="GeoPIXE-Users-Guide_files/image080.jpg"
alt=Image-Traverse-Fiji></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When the &quot;<span style='font-family:Symbol'>S</span>&quot;
button is pressed, two things happen.  Firstly, as discussed above, the line
details and representative concentrations within the rectangle are appended to
the <i>Image Regions</i> table. These definitions can be saved for later to
record the position of your traverses. Secondly, if a <i>Spectrum Display</i>
window is opened, spectra corresponding to the concentration profile along the
projection line are sent to <i>Spectrum Display</i>.  These show concentration
as a function of distance (microns if the images sizes were defined in <i>Sort
EVT</i>) for all elements, with error bars determined using the variance
images.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=486
height=368 id="Picture 71" src="GeoPIXE-Users-Guide_files/image081.jpg"
alt=Spectrum-Display-Line2></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The estimated minimum detection limit in each distance step
bin (99% confidence) is plotted as a dashed curve overlaid on the data points
for each element.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To step through these profiles, one at a time, use the <i>Spectrum
Select</i> window.  First, hit &quot;Prev&quot;.  This will display the profile
for just the first element, or &quot;Back&quot;.  Then hit &quot;Next&quot; to
advance to the next profile. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Alternatively, you can select “Highlight” mode, using the
left drop-list at the bottom of the <i>Spectrum Select</i> window.  This
highlights, or draws in green, the spectrum selected in <i>Spectrum Select</i>. 
To select a spectrum, simply click on that row label. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Spectrum Select</i> can also be used to hide or show a
selection of elemental profiles, by selecting rows (or ranges of rows) and
toggling their visibility using the &quot;Display&quot; button.  A composite
plot of all these profiles can be exported in Computer Graphics Metafile format
(CGM) using the &quot;Export<span style='font-family:Wingdings'>à</span>CGM
Plot&quot; menu in <i>Spectrum Display</i>.  These CGM pictures can be inserted
into PowerPoint to create figures and add annotations. Similar export options
in Windows Metafile Format (WMF) and encapsulated PostScript (EPS) are also
available.  There are also Print menu options.  Use the Preview button on the
pop-up panel to preview the plot on the screen.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=DefaultParagraph style='line-height:normal'><span style='layout-grid-mode:
both'><img border=0 width=461 height=461 id="Picture 72"
src="GeoPIXE-Users-Guide_files/image082.png" alt=Export-CGM-white></span></p>

<h3><a name="_Toc222317457">Tailoring Traverse Projection in More Detail</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using the “Traverse” shape tool you can adjust the angle on
the projection back to the centre line by adjusting the shear on the traverse
shape. To do this click on the side handles that normally adjust width, but now
using the <u>right</u> mouse button. This allows you to shear the traverse
shape. Use this to adjust the projection direction for non-perpendicular
projection.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=414
height=380 src="GeoPIXE-Users-Guide_files/image083.jpg"
alt=Image-Traverse-Shear></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>For non-linear traverses, use the “Curve 8” shape tool. This
initially provides a linear traverse, but with extra spline control points. Use
these to adjust the shape of the curve (click and move them with the left mouse
button). The side handles control the width. To move the whole spline curve <i>en
masse</i>, click on the central spline control point using the right mouse
button. Take care not to make the curve area too wide, or extremely curved.
This will induce ambiguities in the projection function, back to the centre
line. This ambiguity will be evident as cusps in the sides of the projection
area. If these are seen, reduce the width or the curvature of the area.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=348
height=410 id="Picture 74" src="GeoPIXE-Users-Guide_files/image084.jpg"
alt=Image-Traverse-Curve8></span></p>

<p class=DefaultParagraph style='line-height:normal'><span lang=EN-US>&nbsp;</span></p>

<h2 style='line-height:normal'><a name="_Toc18816557"></a><a name="_Toc18817077"></a><a
name="_Toc18817359"></a><a name="_Toc18907894"></a><a name="_Toc18929326"></a><a
name="_Toc18929512"></a><a name="_Toc19013297"></a><a name="_Toc19015573"></a><a
name="_Ref463960614"></a><a name="_Toc222317458">Correction of Images for
Sample Composition Effect on Yields</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Sample composition varies generally across an image area.
This means that the yield model assumed in projecting the images using the DA
method will only be an approximation to any given pixel. This section describes
a method to correct model yields on a pixel-by-pixel basis based on an
end-member analysis of the image using a set of end-members that adequately
describe the range of variation in composition (at least for the heavy elements
that strongly affect self-absorption and secondary fluorescence)  (see C.G.
Ryan, &quot;Quantitative Trace Element Imaging using PIXE and the Nuclear
Microprobe&quot;, International Journal of Imaging Systems and Technology
[Special issue on Quantitative Imaging] 11 (2000) 219-230 and C.G. Ryan, E. van
Achterbergh, C.J. Yeats, Tin Tin Win and G. Cripps, “Quantitative PIXE trace
element imaging of minerals using the new CSIRO-GEMOC Nuclear Microprobe”,
Nucl. Instr. Meth. B189 (2002) 400-407).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Firstly, identify the important chemical phases in an image
area that can be distinguished on the basis of measured PIXE/SXRF elemental
concentration.  You will also need to have an idea of the background (or <i>remainder</i>)
composition, where these phases are not present. Create separate yield files
for these phases using <i>PIXE/SXRF Yield Calculation</i> (access this via the
&quot;New&quot; button adjacent to &quot;Yields:&quot; in the <i>X-ray Spectrum
Fit</i> window). Now return to <i>X-ray Spectrum Fit</i> and the spectrum
fitted to make the DA matrix file.  Now, using each of these yield calculations
in turn (i.e. &quot;Load&quot; it into &quot;Yields:&quot;), refit the spectrum
and generate a new DA matrix for each; name each separately.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>NOTE: There is now a better (but a little more involved)
method for the correction of images that also improves reconstructed spectra
overlays on extracted region spectra (see “</i><i>Multiphase
DA imaging (MPDA)</i><i>”).</i></p>

<h3><a name="_Toc19013298"></a><a name="_Toc19015574"></a><a
name="_Toc222317459">Correct Yields Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now return to the <i>Image Display</i> window and open the <i>Correct</i>
<i>Yields </i>window (&quot;Windows<span style='font-family:Wingdings'>à</span>Correct
Yields&quot; menu).  <span style='font-family:Wingdings'>à</span> Select the
number of components (phases) to use and the elements to use to define these
phases (in the drop-lists at the top of the table).  (For the moment, the
number of elements must equal the number of phases.)  Select these elements as
column headings and fill in the phase names as row headings.  Now in the table,
enter the concentrations (in wt%) of each element in these phases (each row
corresponds to a phase).  (These don't need to add up to 100% as there are
usually missing elements, such as oxygen.)  The matrix created in this way must
define independent phases.  i.e. No row can be a linear combination of other
rows.  If the program warns you of an ill-conditioned matrix, or a zero
determinant, then this matrix contains non-independent phases.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=242 id="Picture 75" src="GeoPIXE-Users-Guide_files/image085.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To enter values into a table, click in a cell (or move
around using the arrow keys) and then hit the &lt;return&gt; key.  This
activates a selected cell for editing.  Once you're happy with the cell's
contents, hit &lt;return&gt; again to keep the changes.  Now move to the next
cell using the arrow keys and continue.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now, on the far right side of each row, click to bring up a
file requester to load the DA matrix files created above in <i>X-ray Spectrum
Fit</i>, one for each phase.  Load the correct one for each row.  Now load the
DAM file corresponding to the “Remainder” unaccounted for by the other phases,
using the “Remainder DA” button.  Also, load the DA matrix used to make the
initial images using the &quot;Original Image DA&quot; button at the bottom of
the window.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All is now ready.  Hit &quot;Correct&quot; to start the
process.  Watch out for errors regarding the nature of your matrix.  When this
process finishes, you have corrected all elemental images based on the
proportions of the end-member phases in each pixel.  This process may need ~2-3
iterations to converge.  Simply click on &quot;Correct&quot; again to do
another iteration.  Save the images after correction (using the &quot;File<span
style='font-family:Wingdings'>à</span>Save&quot; menu in the <i>Image Display</i>
window).  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The &quot;Save&quot; button on the <i>Correct Yields</i>
window will save your correction details to a file (.CORRECT).  Use
&quot;Load&quot; to load correction details.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816559"></a><a name="_Toc18817079"></a><a
name="_Toc18817361"></a><a name="_Toc18907896"></a><a name="_Toc18929327"></a><a
name="_Toc18929513"></a><a name="_Toc19013299"></a><a name="_Toc19015575"></a><a
name="_Toc18816561"></a><a name="_Toc18817081"></a><a name="_Toc18817363"></a><a
name="_Toc18907898"></a><a name="_Toc18929328"></a><a name="_Toc18929514"></a><a
name="_Toc19013300"></a><a name="_Toc19015576"></a><a name="_Toc222317460">Projection
of Elemental Images onto End-member Proportion Images</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using the same control panel as <i>Correct Yields</i> above
(or use the &quot;Windows<span style='font-family:Wingdings'>à</span>Project
Minerals&quot; menu on <i>Image Display</i>), you can project elemental
concentration images onto images of end-member proportion, by hitting the
&quot;Minerals&quot; button in the <i>Correct Yields</i> window.  This produces
a reduced set of images in the <i>Image Display</i> window, one for each
end-member phase, and one for the <i>remainder</i> between phases.  (The
current elemental images are lost; save these first.)</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc222317461">Correction of Images for the Effects of
Differential Absorption</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This is a new method for correction of artefacts caused by
absorption of X-rays through neighbouring pixels, of different composition, on
their way to the detector.  Set-up as for yield correction, but now click on
“Absorb”. It will now correct for absorption, assuming a detector of 45<span
style='font-family:Symbol'>°</span> take-off angle, located to the right in
images. These parameters are fixed at the moment; more control will be added
later. As with other corrections, two or more iterations can be performed. 
However, most correction happens in the first iteration and the process
converges quickly.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>NOTE: This does not as yet use the relevant detector
model or array, only a 45° assumed take-off angle.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='page-break-after:avoid'><a name="_Toc222317462">Correction of Images
for Pulse Pile-up Effects</a></h2>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal>The nature of pile-up in a given pixel is related to the
most intense lines <u>in that pixel</u>. In other words, the energies and
relative intensities of all pile-up lines, in the ‘pile-up element’, will vary
from pixel to pixel in general. GeoPIXE can model the nature of pile-up on a
pixel-by-pixel basis to build a more accurate pile-up contribution to the
spectrum. This can be used for more accurate fitting of a PIXE spectrum
extracted from the entire image area that spans different phases, or ultimately
for correcting images for pile-up related artefacts.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The process, which is detailed in an example in the analysis
scenarios chapter, follows these steps:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Generate
elemental images by the normal method, using a <i>X-ray Spectrum Fit</i> with
the “using Spectra” pile-up option.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Load the
total PIXE spectrum for the entire image area again in <i>Spectrum Display</i>
and execute the “Display<span style='font-family:Wingdings'>à</span>Pileup<span
style='font-family:Wingdings'>à</span>using Image products” menu. Select the
major elements to consider in the pop-up list. (Remember that the calculation
may be slow with a large number of elements selected. However, in some cases
relatively minor elements may be significant if they occur spatially in close association
with strong major elements or concentrated in small phases.) This builds a new
pileup overlay to the spectrum using products of images. You may like to save
the spectrum to preserve this pile-up model for later use.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Fit the
spectrum in <i>X-ray Spectrum Fit</i>, using the “Image pixel product pileup”
pile-up option. This option requires that you have already modelled the
pile-up, as above. Fitting the spectrum now uses this pile-up overlay. Save
this fitted spectrum for later reference. The fit, and this file, now contain
some data giving the intensity of pile-up in this spectrum, which is related to
timing resolution and count-rates.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Click on
“Generate DA Matrix” to build a new DA matrix file. Save it with a name that
tells you that this matrix is for use in pile-up correction (e.g. append “-pu”
to the name). This DA matrix will not have a matrix row for pile-up. Any images
generated using this matrix will include all pile-up related artefacts. These
will need to be removed using the steps below.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Open <i>Sort
EVT</i> and sort the event data again using this new DA matrix file. You may
notice some elements that overlap with pile-up lines may now show artefacts due
to pile-up.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>In <i>Image
Display</i>, use the “Process<span style='font-family:Wingdings'>à</span>Correct<span
style='font-family:Wingdings'>à</span>Image Pile-up” menu to now subtract
pile-up. This step requires that the fitted spectrum from step 3 be loaded into
<i>Spectrum Display</i>. This step calculates pile-up on a pixel-by-pixel
basis, using the intensity deduced from the spectrum fit (and stored with the
spectrum data), to subtract pile-up contributions from all images. i.e. This
spectrum fit effectively constrains the product of count-rate times pulse-pair
resolution of the system, which sets the rate of pileup.</p>

<p class=MsoNormal>To go on and produce pile-up corrected images of image areas
elsewhere on this sample and similar ones, you only need to repeat these steps:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
<i>Sort EVT</i> and sort the new image area event data using the new “-pu” DA
matrix file from above. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Load the
total PIXE spectrum for the new image area in <i>Spectrum Display</i> and
execute the “Display<span style='font-family:Wingdings'>à</span>Pileup<span
style='font-family:Wingdings'>à</span>using Image products” menu. Select the
major elements to consider in the pop-up list. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Fit the
spectrum in <i>X-ray Spectrum Fit</i>, using the “Image pixel product pileup”
pile-up option. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>In <i>Image
Display</i>, use the “Process<span style='font-family:Wingdings'>à</span>Correct<span
style='font-family:Wingdings'>à</span>Image Pile-up” menu to now subtract
pile-up. This step calculates pile-up on a pixel-by-pixel basis, using the
intensity deduced from the spectrum fit, to subtract pile-up contributions from
all images.</p>

<p class=MsoNormal>See the analysis scenarios chapter for more examples.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816563"></a><a name="_Toc18817083"></a><a
name="_Toc18817365"></a><a name="_Toc18907900"></a><a name="_Toc18929329"></a><a
name="_Toc18929515"></a><a name="_Toc19013301"></a><a name="_Toc19015577"></a><a
name="_Toc222317463">Sorting List-Mode Data using Spectrum Cuts</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using the <i>Sort EVT</i> window is covered above under
&quot;Sorting List-Mode Data using the Dynamic Analysis Matrix&quot;.  Just a
few things change to use spectrum energy Cuts.  In the parameter area at the
bottom, you now select &quot;Spectrum Cuts&quot; as the projection method.  Now
enter the name of a suitable Cuts file (.CUTS) in the field below (or hit the
&quot;File&quot; button to bring up a file requestor).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Cuts specify energy windows to use to produce images, with
optional background subtraction.  Each is labelled with a name, and these are
set-up interactively in the <i>Spectrum Display</i> window, and using the <i>Cuts
Setup</i> window, as discussed below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now just start the sort as before (&quot;Start&quot;
button).  The resulting images are sent to <i>Image Display</i>.  They are now
in simple counts units, with simple Poisson variance.  Extracted averages in <i>Image
Regions</i> (using the &quot;<span style='font-family:Symbol'>S</span>&quot;
button) are not in ppm units now, but simply counts.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If the set of cuts includes multiple cuts for a particular
element (e.g. multiple <span style='font-family:Symbol'>g</span>-ray lines in a
PIGE spectrum), you can merge these into a single image for each element, after
the sort has finished, using the menu “Process<span style='font-family:Wingdings'>à</span>Merge
PIGE” in the <i>Image Display</i> window.  This will combine any images with a
common first part of the name (before a space character) (e.g. combine “F 1”,
“F 2” and “F 3” into a single “F” image).  Note that this test is
case-sensitive.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816564"></a><a name="_Toc18817084"></a><a
name="_Toc18817366"></a><a name="_Toc18907901"></a><a name="_Toc18929330"></a><a
name="_Toc18929516"></a><a name="_Toc19013302"></a><a name="_Toc19015578"></a><a
name="_Toc222317464">Setting-up Spectrum Cuts Files</a></h2>

<h3><a name="_Toc19013303"></a><a name="_Toc19015579"></a><a
name="_Toc222317465">Cuts Setup Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Start with a suitable spectrum in <i>Spectrum Display</i>
and open the <i>Cuts Setup</i> window using the &quot;Window<span
style='font-family:Wingdings'>à</span>Cuts Setup&quot; menu.  This will also
switch the marker mode in <i>Spectrum Display</i> to &quot;Cut 0,1&quot;.  You
can also use the drop-list to do this (bottom left in <i>Spectrum Display</i>). 
To set a cut on the spectrum, left click at the position of the HIGH energy end
of the cut, and then click at the LOW energy end.  If there is already a cut on
the spectrum, then click and drag the markers with the pointer.  Press the
&quot;<span style='font-family:Symbol'>S</span>&quot; button in <i>Spectrum
Display</i> (not the one in <i>Image Display</i>) to make the cut.  The
parameters for this cut are appended to the list in <i>Cut Setup</i>.  Edit the
name for this cut in the text field at the bottom of the <i>Cuts Setup</i>
window and hit “enter”. Note that the energy window (C0, C1) appears in the
table, using the current energy units for the spectrum.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=399
height=154 id="Picture 76" src="GeoPIXE-Users-Guide_files/image086.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This defines a simple (Cut 0,1) type cut.  This is just an
energy window, with no background subtraction.  To use background subtraction,
you need to use 6 markers, called X0-X5.  These can be selected using the
drop-list (bottom left) in <i>Spectrum Display</i>.  Now you need to click on
the marker positions (starting at the HIGH energy end) for X5, X4, which define
the high energy background energy window, X3, X2, which defines the peak energy
window, and X1, X0, which defines the low energy background energy window.  Now
there are more columns in <i>Cut Setup</i> to show the extra marker energies.
The background regions of interest will define a linear background under the
ROI used for the peak.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>Cut Setup</i> window also shows &quot;total&quot;,
the integral of the spectrum between the C0, C1 markers (or X2, X3 in
background subtraction mode), &quot;Area&quot;, this integral after background
subtraction, &quot;Error&quot;, the statistical error in Area, &quot;Back&quot;,
the background under the peak (using linear interpolation between the left and
right background windows), the sums in the &quot;Left&quot; (X0-X1) and
&quot;Right&quot; (X4-X5) windows, and the spectrum energy calibration
coefficients.  These results can be saved to a file (.CUTS) using the
&quot;Save&quot; button or restored using &quot;Load&quot;.  Load will append
loaded cuts to the current list. Use &quot;Clear&quot; to clear the table, or
&quot;Delete&quot; to delete selected rows (rows are selected by drag
selection).</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc222317466">Wizard Plugins</a></h2>

<p class=MsoNormal>Wizards are another form of plugin that can orchestrate
GeoPIXE operations. A formal interface is under development. Presently, it is
being used to develop custom interfaces for specific laboratory specific
analysis work-flows. See the doc “Wizard Hooks in GeoPIXE” in the Help
directory.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317467">Depth Wizard</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span lang=EN-GB>The large </span>size<span lang=EN-GB> of
the detector array, located just 10 mm from the beam spot on the sample,
provides a large range of take-off angles at the sample surface, with the angle
between sample normal and rays to masked detector element centre varying
between 13.9° and 52.6°. This makes the outer detector elements much more
sensitive to self-absorption for X-rays from a particle at depth in a sample
than the inner detectors. Such a difference can be harnessed to provide an
imaging contrast based on particle depth and also a quantitative measure of
depth for discrete identified particles.</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-GB>The variation in </span>model<span
lang=EN-GB> yields across the array is illustrated below, which shows the yield
(counts/ppm/µC) of Pt L&#945; X-rays from a buried particle for individual
detector elements plotted as a function of the radial distance of each detector
from the centre of the array (beam axis). Each symbol type represents the yield
from a 1 µm layer of Pt at various depths within an olivine sample matrix.
Subtle absorption-related effects of particle shape versus a simple layer have
been ignored in this discussion. The interesting apparent scatter in these
points reflects the non-equivalent positions and orientations of detectors around
the square array. Masking, distance and angle gradually reduces the efficiency
of the more peripheral detector elements. Depth to the Pt layer has a marked
effect on yields, with stronger attenuation seen in the more peripheral
detectors.</span></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='layout-grid-mode:
both'><img border=0 width=460 height=423 id="Chart 1"
src="GeoPIXE-Users-Guide_files/image087.png"></span></p>

<p class=MsoNormal><i>Yield (counts/ppm/µC) of Pt L&#945; X-rays from a small
Pt particle (modelled as a 1 µm buried Pt layer in olivine) versus radial
position of individual Maia detector elements for various depths (µm) to the
particle. </i></p>

<p class=MsoNormal style='margin-left:36.0pt'><span lang=EN-GB>&nbsp;</span></p>

<p class=MsoNormal>If the two-layer sample model is correct, i.e. has the
correct depth to the PGM, then both inner and outer detectors will “measure”
the same effective concentration of Pt in the buried or “unknown” layer. Hence,
since conc = area/yield, then (area/yield)<sub>inner</sub> = (area/yield)<sub>outer</sub>.
Or, we can relate (area<sub>inner</sub>/area<sub>outer</sub>) = (yield<sub>inner</sub>/yield<sub>outer</sub>).
Therefore, we can relate the Ratio = (yield<sub>inner</sub>/yield<sub>outer</sub>)
to the measured ratio (area<sub>inner</sub>/area<sub>outer</sub>). They should
be equal at the correct depth.</p>

<p class=MsoNormal style='margin-left:36.0pt'>&nbsp;</p>

<p class=MsoNormal>Combining yields for 51 “inner” and 199 “outer” detectors as
shown in the Layout below, chosen to give a roughly total yield for a surface
feature, produces the inner/outer yield ratio curves below. The ratio of
“outer”/”inner” yields produces a good contrast with the depth of the particle.
This can be applied to estimate the depth of a small particle feature, given
the assumption that the host mineral composition is uniform above it. </p>

<p class=MsoNormal style='margin-left:18.0pt'><b><i>&nbsp;</i></b></p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='layout-grid-mode:
both'><img border=0 width=481 height=481 id="Picture 5"
src="GeoPIXE-Users-Guide_files/image088.png" alt=Maia-384A.cgm></span></p>

<p class=MsoNormal><i>Layout of Maia detector array (old model A) showing detector
index and the masked effective size of detectors. Shaded detectors for 51 “inner”
(green), 199 “outer” (yellow) and 18 disabled (violet) detector elements.</i></p>

<p class=MsoNormal style='margin-left:18.0pt'><b><i>&nbsp;</i></b></p>

<p class=MsoNormal style='margin-left:72.0pt'><span style='layout-grid-mode:
both'><img border=0 width=466 height=356 id="Chart 2"
src="GeoPIXE-Users-Guide_files/image089.png"></span></p>

<p class=MsoNormal>Yields<i> of Pt L&#945; X-rays (counts/ppm/µC) summed over
“inner” and “outer” rings of detectors scaled by 0.001, as a function of Pt
particle depth (µm) in olivine, and the ratio of “outer” to ”inner” yields.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317468">Calculate a Depth Curve</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Start the <i>Depth Wizard</i> using the <i>Image</i> window
menu “Process<span style='font-family:Wingdings'>à</span>Wizards<span
style='font-family:Wingdings'>à</span>Wizard_Depth”. Read the information
provided and follow the steps described in the Wizard. Also, move your mouse
pointer over widgets to get more information on what each one does.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:36.0pt'><span style='layout-grid-mode:
both'><img border=0 width=604 height=440 id="Picture 9"
src="GeoPIXE-Users-Guide_files/image090.jpg"></span></p>

<p class=MsoNormal><i>Help information displayed by Depth Wizard on its
starting tab</i></p>

<p class=MsoNormal style='margin-left:36.0pt'>&nbsp;</p>

<p class=MsoNormal>Follow this procedure (as taken from the “<i>GeoPIXE Worked
Examples</i>” notes):</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>On the <b>first</b> page
(tab “<b>1. Depth Curve</b>”), set the Filter as relevant for the data (“Air 5
mm” in this case).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Open the X-ray Yield
Calculation window by clicking on “New” adjacent to “Yields:” and load the LCM
file “Demo/Maia/Depth/analysis/PGM-in-olivine_18.5KeV.lcm”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>For layer #1 (the top
olivine over-layer), change the “Thick:” mode to “+ 1D” to allow a range of
thicknesses to be modelled, set initial Thick to 1 µm, Min to 20 µm, Max to 300
µm and Step to 20 µm, and change the output file name to something like “PGM-in-olivine_18_5KeV-depth-steps.yield”.
</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Click “Calculate Yields” to
start the modelling for all layer #1 thickness steps (15 depth steps for 384
detectors, including secondary fluorescence will take some time). The output
file-name will appear in the “Yields” field.</p>

<p class=Numeric-List style='margin-left:60.4pt'>In future you can just load
this file using the “Yields” button.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Select the “Outer” detectors
by clicking on “Set” opposite “Outer”. Select the detector layout for the old
Maia 384A detector array (“AS Maia 384 10 mm v5”) from the droplist.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Try setting the detector pad
selection mode to “Radial” and clicking on detectors in different radial
position to toggle the selection on/off of detectors at this radius from the
centre. Once done, click “Save” to save this selection to a “select.csv” file
(e.g. “test.select.csv”).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Back on the <i>Depth Wizard</i>
panel, click “Outer” and load the file “outer2b.select.csv”, which shows our
Outer detector selection. Also load the “Inner” detector selection from file
“inner2.select.csv”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=393 id="Picture 37" src="GeoPIXE-Users-Guide_files/image091.jpg"></span></p>

<p class=MsoNormal style='margin-left:36.0pt'>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Click on “Calculate Depth
Curve” on the <i>Depth Wizard</i> panel, to form a model curve that relates the
ratio of “outer/inner” to depth”. It will be prompt for a filename. This will
be needed on later tabs.</p>

<p class=Numeric-List style='margin-left:60.4pt'>In future, for this sample
matrix, you may only need to load this depth curve file.</p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317469">Form<b> </b>“Inner” and “Outer” detector
calibration files</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Advance to the next
tab (“<b>2. Cal Spec</b>”). Here we load the per detector channel energy
calibration file “62248-Pt-E-cal.spec” and click on “Form Outer, Inner Cals” to
derive separate energy cal files for generating images for just Outer or Inner
detectors (remember how the “Get” button on the DA tab of <i>Sort EVT</i> also
selects the detector channels to use).</p>

<p class=Numeric-List style='margin-left:60.4pt'>In future, just load the
inner, outer cal files if you have done this before.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=370 id="Picture 58" src="GeoPIXE-Users-Guide_files/image092.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h4><a name="_Toc222317470">Form “RGB” depth images</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Advance to the next
tab (“<b>3. RGB</b>”), load the DAI file “62337.dai” into the Sort EVT window
and make sure the paths to all “Files” and the DA matrix are correct.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=370 id="Picture 61" src="GeoPIXE-Users-Guide_files/image093.jpg"></span></p>

<p class=MsoNormal style='margin-left:36.0pt'>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Click on “Sort Outer,
Inner images” to sort images for Inner and Outer detectors.</p>

<p class=Numeric-List style='margin-left:60.4pt'>In future, you can just load
them if they have been previously sorted.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Open the <i>RGB Image</i>
window and select the element “PtL” on tab “3. RGB”. Click on “Display RGB
Depth Images” to form RGB images colour-coded for depth. RED is loaded with the
inner detector images, while GREEN is driven by the Outer detector images.
Shallow particles will appear Yellow, while deep ones will appear Red and
intermediate depth particles will appear Orange. Zoom in a couple of clicks …</p>

<p class=MsoNormal style='margin-left:36.0pt'>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=253
height=283 id="Picture 52" src="GeoPIXE-Users-Guide_files/image094.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=302 height=283 id="Picture 55"
src="GeoPIXE-Users-Guide_files/image095.jpg"></span></p>

<p class=MsoNormal><i>Pt image (left) and depth coded Pt image (right), which
compares the Outer and Inner detector Pt images. Pt is yellow, which indicates
quite a shallow inclusion depth.</i></p>

<p class=MsoNormal style='margin-left:36.0pt'>&nbsp;</p>

<h4><a name="_Toc222317471">Fit Region spectra for particles to determine depth</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>14)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Advance to the next
tab (“<b>4. Spectra</b>”). Load the <u>original</u> image DAI file
(“Demo/Maia/Depth/62337.dai”, for <u>all</u> detector channels) that shows your
buried particle and open the <i>Image Regions</i> window. As noted in the help
text for this tab, select pixels on the particle (tip: use <i>Associations</i>
window to ‘threshold’) and click on “&#931;”. Repeat this for other particles,
and then “Save” the regions to a file. See example file “62337-Pt1.region”,
which has 3 regions defined.</p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm;page-break-after:
avoid'>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'><span style='layout-grid-mode:
both'><img border=0 width=224 height=287 id="Picture 64"
src="GeoPIXE-Users-Guide_files/image096.jpg"></span> <span style='layout-grid-mode:
both'><img border=0 width=409 height=142
src="GeoPIXE-Users-Guide_files/image097.jpg"></span></p>

<p class=MsoNormal><i>Zoom in (+3 zoom) on a PGM particle, showing just 3
pixels selected on the grain using Ir-Pt in Association window</i></p>

<p class=MsoNormal style='margin-left:36.0pt'><i>&nbsp;</i></p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>15)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Open the <i>X-ray
Spectrum Fit</i> window and load a suitable PCM set-up file for fitting your
particles (“PGM-in-olivine-18_5keV.pcm”). </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>16)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Click on the row title
for a selected particle region and then “Extract Spectra”, which will apply
your Outer and Inner detector channel selections and extract a sum spectrum for
each (accept the initial file-name for individual detector spectra). The resulting
file-names are entered into the spectra fields.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>17)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Enter the element of
interest (“PtL” in this example) and click on &quot;Fit Sum Spectra&quot; on
the Wizard to fit both spectra and extract the signal for the selected element
and form the ratio of &quot;Outer&quot;/&quot;Inner&quot; detectors. </p>

<p class=MsoListParagraph style='margin-left:36.0pt;text-indent:0cm'>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=393 id="Picture 43" src="GeoPIXE-Users-Guide_files/image098.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=365 id="Picture 70" src="GeoPIXE-Users-Guide_files/image099.jpg"></span></p>

<p class=MsoNormal><i>Sum spectra for Outer (green) and Inner (violet) detector
channels</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>18)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>The ratio of
&quot;Outer&quot;/&quot;Inner&quot; detectors is then compared to the
&quot;Depth Curve&quot; (using the file specified on page/tab 1) and an
estimate of particle depth (and uncertainty estimate) is added to the results
table. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>19)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Repeat steps 20-22 for
regions #1,2 in the example file “62337-Pt1.region”, which select just a
~single pixel each.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>20)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>The results (e.g. 25
µm for the 3 pixels selected in region #0) will appear on the final tab. Note
how different the two single pixel results are for regions 1,2; evidently we
have two particles at different depths here (7, 45 µm).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>21)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Use the Export button
to export the results to a CSV file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=605
height=370 id="Picture 73" src="GeoPIXE-Users-Guide_files/image100.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317472">Standards Wizard</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The Wizard is designed to automate the standard foil
analysis process at the Australian Synchrotron. It makes use of metadata
variables set in the Maia control socket and passed into the Maia raw blog data
files. The steps for semi-automated analysis are:</p>

<ul style='margin-top:0cm' type=disc>
 <ul style='margin-top:0cm' type=circle>
  <li class=MsoNormal style='margin-left:36.0pt'>Scan selected dir for all blog
      files.</li>
  <li class=MsoNormal style='margin-left:36.0pt'>Applying energy calibrations
      to all detectors.</li>
  <li class=MsoNormal style='margin-left:36.0pt'>Building a DA image for each.</li>
  <li class=MsoNormal style='margin-left:36.0pt'>Use a large Box Region to
      sample foil concentration.</li>
  <li class=MsoNormal style='margin-left:36.0pt'>Set the “Conv” factor to
      reproduce the desired foil composition (e.g. Mn = 100% in this example).</li>
 </ul>
</ul>

<p class=MsoNormal style='margin-left:72.0pt'><b>&nbsp;</b></p>

<p class=MsoNormal>It reads a “standards.csv” file from “<b>Demo/Maia/Standard/config/</b>”,
which contains the details of each foil at each energy (on Linux, use “<b>more
~/Demo/Maia/Standard/config/standards.csv</b>” to view this file).</p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoNormal>Follow this procedure (as taken from the “<i>GeoPIXE Worked
Examples</i>” notes):</p>

<p class=MsoNormal style='margin-left:0cm'><b>&nbsp;</b></p>

<h4><a name="_Toc222317473">Set-up the Wizard</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.55pt;text-indent:-18.0pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Run the Wizard using menu “Process<span
style='font-family:Wingdings'>à</span>Wizards<span style='font-family:Wingdings'>à</span>Standards
Wizard”.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>a)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>See
the Info panel on the right for detailed information and view context sensitive
help at the bottom of the window as you move the mouse cursor over widgets.</p>

<p class=Numeric-List style='margin-left:42.55pt'><span style='layout-grid-mode:
both'><img border=0 width=642 height=442 id="Picture 157"
src="GeoPIXE-Users-Guide_files/image101.jpg"></span></p>

<p class=Numeric-List style='margin-left:60.55pt;text-indent:-18.0pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Select dir and energy cal:</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>a)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the blog dir for the standard foil raw Maia data: “Demo/Maia/Standard/blog”.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>b)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the energy calibration file: “Demo/Maia/Standard/analysis/111173_refined_fit.spec”</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>c)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the output path (defaults to neighbouring “analysis” dir tree).</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>d)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the Resources path: “Demo/Maia/Standard/config/”</p>

<p class=Numeric-List style='margin-left:96.55pt;text-indent:-18.0pt'>i)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span> Defaults to the “path config” in your  “.geopixe/geopixe.conf” file.</p>

<p class=Numeric-List style='margin-left:60.55pt;text-indent:-18.0pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Scan the blog dir tree.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>a)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
on “Scan Blog Dir” to scan the selected blog dir tree for all raw Maia data.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>b)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
operation takes a couple of minutes and populates the Results Table.</p>

<p class=Numeric-List>&nbsp;</p>

<p class=Numeric-List style='margin-left:42.55pt'><span style='layout-grid-mode:
both'><img border=0 width=642 height=442 id="Picture 158"
src="GeoPIXE-Users-Guide_files/image102.jpg"></span></p>

<p class=Numeric-List style='margin-left:60.55pt;text-indent:-18.0pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Check settings:</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>a)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>For
raw data with metadata (created after 1-Aug-2015), most columns will be
populated for you.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>b)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Missing
entries can be entered. Use “Fill” to duplicate down from a selected cell.</p>

<p class=MsoNormal><i>&nbsp;</i></p>

<h4><a name="_Toc222317474">Process the data</a></h4>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.55pt;text-indent:-18.0pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Click on “Process” to
process data, which does the following:</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>a)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Forms
DA image for each in Sort EVT.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>b)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Draws
a large Box region on image for selected element (e.g. “Mn”).</p>

<p class=Numeric-List style='margin-left:96.55pt;text-indent:-18.0pt'>i)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Avoids null areas.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>c)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Integrates
the Region and calculates “Conv”</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>d)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Updates
Results Table (and Plots on later page) with “Conv”.</p>

<p class=Numeric-List style='margin-left:60.55pt;text-indent:-18.0pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Results:</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>a)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>See
“Conv” column in Results Table.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>b)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
“statistics” table shows a column “SD/Error”. If all is well, this should be
close to 1, which means the variation between pixels is just Poisson
statistics. </p>

<p class=Numeric-List style='margin-left:96.55pt;text-indent:-18.0pt'>i)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Much larger than 1 suggests a non-uniform image; should not be the case
for a standard foil.</p>

<p class=Numeric-List style='margin-left:96.55pt;text-indent:-18.0pt'>ii)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In
this case, open the image DAI file and check it out. There is a problem.</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>c)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Plots
of “Conv” versus run number on “Plots” page.</p>

<p class=Numeric-List>&nbsp;</p>

<p class=Numeric-List style='margin-left:42.55pt'><span style='layout-grid-mode:
both'><img border=0 width=642 height=442 id="Picture 159"
src="GeoPIXE-Users-Guide_files/image103.jpg"></span></p>

<p class=Numeric-List style='margin-left:42.55pt'><span style='layout-grid-mode:
both'><img border=0 width=642 height=442 id="Picture 192"
src="GeoPIXE-Users-Guide_files/image104.jpg"></span></p>

<p class=Numeric-List style='margin-left:42.55pt'><span style='layout-grid-mode:
both'><img border=0 width=642 height=442 id="Picture 193"
src="GeoPIXE-Users-Guide_files/image105.jpg"></span></p>

<p class=Numeric-List style='margin-left:60.55pt;text-indent:-18.0pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span>Notes:</p>

<p class=Numeric-List style='margin-left:78.55pt;text-indent:-18.0pt'>a)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>If
the pileup or throttle file is not found, you will be prompted (just for first
occurrence of each file). In this example, the files are located in the
“Demo/Maia/Standards/analysis” directory.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317475">MPDA Wizard</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Under development …</p>

<span style='font-size:10.0pt;font-family:"Times New Roman",serif;layout-grid-mode:
line'><br clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal>&nbsp;</p>

<h1><a name="_Toc222317476"></a><a name="_Hlk89184082"></a><a
name="_Toc18907907"></a><a name="_Toc18929336"></a><a name="_Toc18929522"></a><a
name="_Toc19013309"></a><a name="_Toc19015585">GeoPIXE Analysis Scenarios, Data
Flow</a> and Worked Examples</h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This chapter illustrates GeoPIXE data analysis using various
worked examples and provides a working knowledge of data flow between windows
elements of GeoPIXE, and how changes made in one window affects others or
update their displays.  This will be done for several data analysis scenarios.</p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoNormal><b><i>A very good starting point also is to work through the
worked examples (with sample data from Demo/ on the FTP site) found in the <a
name="_Hlk89184116">GeoPIXE Worked examples </a>PDF, located in the Help
directory.</i></b></p>

<p class=MsoNormal><b><i>&nbsp;</i></b></p>

<p class=MsoNormal><b><i>See the /Demo directory and the “GeoPIXE Worked
examples” PDF.</i></b></p>

<p class=MsoNormal style='margin-left:0cm'><b>&nbsp;</b></p>

<h2><a name="_Toc18907908"></a><a name="_Toc18929337"></a><a name="_Toc18929523"></a><a
name="_Toc19013310"></a><a name="_Toc19015586"></a><a name="_Toc222317477">Raw
PIXE Data to Elemental Images</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This scenario follows workflow from raw PIXE data, as
spectra and event data, through to quantitative elemental images using the <i>Dynamic
Analysis</i> method. The example data used is stored in the
“Data\CSIRO\Sample11” directory.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This worked example illustrates the following processing
steps.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Extraction
of total spectra from an EVT file.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fitting
a total X-ray spectrum</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Generation
of the Dynamic Analysis matrix for image projection.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Sorting
the EVT file and image generation.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Verification
of images and Identification of missing elements discussed elsewhere (p. 124).</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'><a
name="_Toc19013311"></a><a name="_Toc19015587">6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Generating a DA matrix for a detector array.</a></p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Digital
filtering techniques.</p>

<h3><a name="_Toc222317478">Spectrum Display and Selection</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Load spectrum data using the <i>Spectrum Display</i> window
menu “File<span style='font-family:Wingdings'>à</span>Load SPEC” to load
“Sample11.spec”. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=499
height=344 id="Picture 77" src="GeoPIXE-Users-Guide_files/image106.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The spectrum data we need to start with is the total spectra
over the entire image area. Hit the “Select” button to bring up the <i>Spectrum
Select</i> window and click on “Prev”. This will display only the first
spectrum from the file, the PIXE spectrum. You can now close the <i>Spectrum
Select</i> window. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This spectrum comes from a list-mode file that uses the top
ADC bit to tag X-stepping in X-step mode images. This produces twin spectra,
one in each 4K half of the spectrum. Use the menu “Process<span
style='font-family:Wingdings'>à</span>Fold (bit #12)” to combine these into a
single 4K spectrum. Click on “Full” to see the full spectrum.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Select the View markers, using the drop-list on the left of
the <i>Spectrum Display</i> window (these may be set already, by default), and
click to position the right, then left markers to define an energy range that
covers all interesting parts of the PIXE spectrum (i.e. 5 – 39 keV). You can
left-click and drag these markers into position. Click on “Widen” to display
just this range (select “Auto” on the vertical scale drop-list to automatically
rescale the display to the best vertical scale). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=499
height=344 id="Picture 78" src="GeoPIXE-Users-Guide_files/image107.jpg"></span></p>

<h3><a name="_Toc19013312"></a><a name="_Toc19015588"></a><a
name="_Toc222317479">Fitting the PIXE Spectrum</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the <i>X-ray Spectrum Fit</i> window using the “Window<span
style='font-family:Wingdings'>à</span>X-ray Spectrum Fit” menu of <i>Spectrum
Display</i> and load fit settings from the PCM file “Sample11.pcm”. Details of
the <i>X-ray Spectrum Fit</i> window options are given above (<i>Fitting a PIXE or SXRF Spectrum</i>, p. 24).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=325
height=296 id="Picture 79" src="GeoPIXE-Users-Guide_files/image108.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>If an error message is encountered for the yield
file, dismiss the message, and click on the “Load” button to the right of
“Yields:” and locate the file “chalcopyrite.yield” in the Demo/CSIRO/Sample11
directory. Save back to the PCM file “Sample11.pcm” using the “Save” button.
Yields use absolute paths, which will be different on your system.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This spectrum file does not contain a charge Q. Enter 13.6
in the “Q” field in <i>X-ray Spectrum Fit</i>.<br>
<br>
</p>

<p class=MsoNormal>Click on “Fit: One” to fit the spectrum. The results shown
in a <i>Fit Results</i> window, if open, will correspond to the full image
area. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=522
height=334 id="Picture 80" src="GeoPIXE-Users-Guide_files/image109.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Many of these features in the spectrum are due to Ge escapes
and pile-up. To view these use the menus: “Display<span style='font-family:
Wingdings'>à</span>Ge escapes” and “Display<span style='font-family:Wingdings'>à</span>Pileup<span
style='font-family:Wingdings'>à</span>from single spectrum”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=519
height=343 id="Picture 81" src="GeoPIXE-Users-Guide_files/image110.jpg"></span></p>

<h3><a name="_Toc19013313"></a><a name="_Toc19015589"></a><a
name="_Toc222317480">Generate the Dynamic Analysis Matrix</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now click on “Generate DA Matrix” to build the Dynamic
Analysis matrix and save it as “Sample11.dam” (use the default single DA matrix
option). The generated DA matrix contains the list of all elements fitted, as
well as the matrix transformation that maps each PIXE event onto quantitative
elemental images.</p>

<h3><a name="_Toc19013314"></a><a name="_Toc19015590"></a><a
name="_Toc222317481">Sorting the Event Data to Project Images</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the <i>Sort EVT </i>window using the “Window<span
style='font-family:Wingdings'>à</span>Sort EVT” menu on the <i>Image Display</i>
window. Load the settings for imaging from the DAI file (“Sample11-chalco.dai”)
using the “From DAI” button on <i>Sort EVT</i>.  Click on the EVT file” button
and locate the file “Sample11.evt” in the Sample11 directory.  Now load the DA
matrix that you generated (“Sample11.dam”), by clicking on the “File” button
below the Projection drop-list showing “Dynamic Analysis”. This matrix contains
all the information needed to project event data onto elemental images. The
only critical extra piece of information needed is the integrated beam charge,
which is provided in this example.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>When the EVT file was loaded, the accompanying energy
calibration from the data acquisition file was also set  (in the Cal A and B
entries above Projection). Once the DA matrix has been loaded, a better energy
calibration is available. Included in the DA matrix file is the refined energy
calibration from the least squares fit to the spectrum. To make use of this
calibration, click on the “DA” button alongside the Cal parameters.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This particular EVT file contains data collected at the
CSIRO using a single detector and a hybrid scanning-stage stepping mode, with
stage steps encoded into the top bit of ADC/station 1. Don’t worry about the
details of this. This sorting and DA projection process works the same for
simple XY scanning data.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on “Start” to start sorting the EVT file. The
resulting images are sent to the ‘connected’ <i>Image Display</i> window for
display, and they are stored in the output DAI file, specified at the bottom of
the <i>Sort EVT</i> window. Use the element drop-list in the <i>Image Display</i>
window to switch between element images (the arrow keys on the keyboard can be
used to change the drop-list selection after the first one has been selected).
See the section “Image Display (main GeoPIXE window)” above for more details.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i><u>Note</u>: By default all images and clones, spectra,
regions, X-ray Spectrum Fit and sort windows are all connected and function in
concert. However, if you need to load image or spectra data from an unrelated
project, then use the “Unlinked Image” and “Unlinked Spectrum Display” menus on
the Image Display window.</i> </p>

<h3><a name="_Toc222317482">Notes on Data Flow</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The process of generating a DA matrix from a least-squares
fit to a representative spectrum, and the use of this matrix for image
projection, is illustrated below.   Once a DA matrix has been generated, it can
be used to project out image data for any sample data set with similar
constituents (same element list) and collected using the same experimental
conditions (same filters, detector efficiency, and detector resolution). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>If the new data-set does <u>not</u> have the same energy
calibration as the DA matrix (or its original fitted spectrum), then <u>do not</u>
use the DA button. In this case, load the correct energy calibration into the
“Cal A” and “Cal B” fields, or use the “Get” button approach to retrieve an
energy calibration from a new calibrated spectrum.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><a name="OLE_LINK1"><span style='layout-grid-mode:both'><img
border=0 width=549 height=529 id="Picture 82"
src="GeoPIXE-Users-Guide_files/image111.jpg" alt=Sample11-to-images></span></a></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b><span style='font-family:"Arial",sans-serif'>Verification
of Images</span></b></p>

<p class=MsoNormal>Exploration and verification of image data is the next
important step in image projection. This is outlined in a following section (<i>Verification of Images using Regions</i>, p. 124).</p>

<h3><a name="_Toc222317483">Generating a DA Matrix for a Detector Array and
Sorting Images</a></h3>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'>To sort event data from an
array detector select “Detector Array” from the drop-list adjacent to the
“ADC/Station” drop-list; for single detectors select “Single Detector”. Then
“Enable” all used detector channels (or use the “Get” button, see below). The <i>Sort
EVT</i> procedure also needs to know the energy calibration of all detector
elements. To accomplish this, all detector spectra need to be fitted to obtain
a refined energy calibration. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Load a spectrum file containing spectra from all detector
elements into <i>Spectrum Display</i>. This can be obtained, for example, using
the “Import” menu pop-up on the <i>Spectrum Display</i> “File” menu to extract
spectra from a list-mode file. Delete any spectra files not needed, such as X
and Y spectra (e.g. use “No XY” in <i>Spectrum Select</i>), bad detector
channels or non-array detector channels (use “Delete”). Then click on “Fit:
All” in <i>X-ray Spectrum Fit</i>. This will fit all spectra and update them
with their refined energy calibrations. Examine the “Fitting” parameters in the
<i>Fit Results</i> window to check for convergence of each fit. Bad fits may
need some individual attention. Save the spectra to a SPEC file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In <i>Sort EVT</i>, after selecting “Detector Array”, load a
spectrum file that has all good detector elements fitted, using the “Get”
button. You can cycle through ADCs to check that this was done. Note that while
the “DA” button only loads an energy calibration into the currently displayed
ADC, the “Get” button loads all calibrations, provided that “Detector Array” is
selected first. It also enables the detector elements for the good spectra
found.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Sort the images as usual by hitting “Start” in <i>Sort EVT</i>.
Processing may be a little slower as it collects data for all detectors now.
The process uses each detector’s calibration to map event energies onto the
correct column of the DA matrix for image projection. </p>

<h3><a name="_Toc222317484">Digital Filtering of Images</a></h3>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>Many images, particularly of trace elements, will contain a
lot of noise. The amount of beam charge (flux) deposited in a single pixel is
quite small, typically less than 1 nC (10<sup>9</sup> photons). Therefore, the
counting statistics in each pixel will be quite poor. For these noisy images,
averaging between pixels can be used to increase the effective charge per
pixel, at the expense of smoothing out spatial detail. </p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>To apply digital filters, open the <i>Image Operations</i>
window (or use the Process menu of <i>Image Display</i>). The <i>Image
Operations</i> window provides a palette of digital filters that can be applied
to the current image using a single mouse click. You can view all operations
applied to images in the<i> Image History </i>window.</p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>Select the Cr image, and smooth it by clicking on “Gaussian
smooth 2” in the Image Operations window. The Fe image is quite good, so just
use a small degree of smoothing (e.g. “Gaussian smooth 1.0”). The Gaussian
smooth uses an averaging structure element of 1.0 pixels full width at half
maximum.</p>

<p class=MsoHeader>&nbsp;</p>

<p class=MsoHeader>To re-apply all the digital filtering operations contained
in the history records of another file, click on the “Get” button on the <i>Image
Operations</i> window. Load the previously filtered file (e.g. “Sample11-chalco.dai”).
Then select “All” elements and “OK”. It will apply the same filtering and set
the display range as well.</p>

<p class=MsoHeader style='margin-left:0cm'>&nbsp;</p>

<h2><a name="_Toc222317485">Raw SXRF Data to Elemental Images</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This example follows a similar data-flow through an SXRF
data-set collected on the PNC-CAT 20-ID beamline of the APS. The example
APS\PNC-CAT\82, is an image of a geological sample (144 x 130 pixels) across a
small (~1000 <span style='font-family:Symbol'>m</span>m) area of regolith
(weathered earth) sample imaged at PNC-CAT at 15.2 keV (Hough <i>et al.</i>,
2005). It was collected on the 20-ID X-ray microprobe using a 230 <span
style='font-family:Symbol'>m</span>m Al filter in front of a 7-element Ge
detector at an angle of 85° to the beam, with the target rotated -45° (i.e.
towards the detector). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This example illustrates the following processing steps,
including steps specific to PNC-CAT and synchrotron data more generally.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Conversion
from the APS MDA format to the GeoPIXE LST format.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Extraction
of total spectra from an LST file.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>X-ray
peak identification.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fitting
a total X-ray spectrum and generation of the Dynamic Analysis (DA) matrix for
image projection.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Sorting
the LST file and image generation using DA.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Analyzing
features directly from images.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Extraction
of spectra for selected or all detectors from regions on images.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Identification
of missing elements.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Regeneration
of images after adding extra elements.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>See also the section on “Verification of Images using
Regions”.</p>

<h3><a name="_Toc222317486">Extract total spectra</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To extract the raw total spectra for all detectors, use the
“File<span style='font-family:Wingdings'>à</span>Import” menu in <i>Spectrum
Display</i> to pop-up the <i>Import</i> requester and select “Synchrotron
(SXRF)” data from the “APS” of format “Extract from APS LST” and then select
the LST data file (“pncid_0082.lst”). Select the output path to this same
directory.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Next the Flux PV select pop-up appears. This enables you to
enter a conversion factor from ion chamber (IC) count to equivalent charge as a
measure of beam flux. Select “Indirect using Ion Chamber (synchrotron, no EPICS
PV)” and enter the conversion factor 4.509.10<sup>-8</sup>. For the IC count of
3.25.10<sup>10</sup>, this corresponds to an equivalent charge of 1464.6.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>The “charge” nomenclature comes from PIXE analysis and is
the integrated proton beam charge in </i><i><span style='font-family:Symbol'>m</span>C.
For synchrotron applications it represents the integrated flux in units of
6.242.10<sup>12</sup> photons. The conversion from total IC count, as stored in
the LST file (as converted from the original MDA file “pncid_0082.mda”) can be
established using a standard at the same photon beam energy (this is discussed
elsewhere). </i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal><i>Once this conversion from IC count to Charge is
established, it is maintained internally for the duration of the session (or
can be changed on the pop-up requester or using the “?” button next to “Q”
charge on the X-ray Spectrum Fit window). </i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal><i><span style='layout-grid-mode:both'><img border=0
width=252 height=188 id="Picture 83"
src="GeoPIXE-Users-Guide_files/image112.jpg"></span></i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal><i>The LST event file has been built from a source APS data
acquisition MDA data file using the “File</i><span style='font-family:Wingdings'>à</span><i>Convert</i><span
style='font-family:Wingdings'>à</span><i>APS MDA to LST” menu in Spectrum
Display of the main GeoPIXE Image window. If you try this you will need to
select the correct Epics PV for the IC used and the range on the current
pre-amplifier (in this case “pncid_0082.mda”, a PV of ”pncid:UserCalc10.VAL”
for dead-time corrected I0, and a Sensitivity of 50 nA/V) . Note that MDA files
from other beamlines may contain details of ion-chamber PVs and preamplifier
settings as PVs. In these cases drop-lists may appear in this window to permit
selection of the correct PVs for both IC and preamplifier settings. </i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=267
height=178 id="Picture 84" src="GeoPIXE-Users-Guide_files/image113.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The spectra are not calibrated for energy. For now, open the
<i>Energy Calibration</i> window (“Display<span style='font-family:Wingdings'>à</span>Calibrate
Energy” menu) and set A= 0.0306 and B= -0.0151 (A is slope, B is offset), click
on “keV” and hit the “Apply: All” button. This will apply this Cal
to all spectra.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=292
height=113 id="Picture 85" src="GeoPIXE-Users-Guide_files/image114.jpg"
alt=Cal-AB></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=546
height=329 id="Picture 86" src="GeoPIXE-Users-Guide_files/image115.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The Cals (energy calibration coefficients A,B, where E=Ax+B
and x is channel number) can be viewed in the <i>Spectrum Select</i> window
(click on “Select” button, bottom-left of the <i>Spectrum Display</i> window).
Scroll right to see the Cal parameters. We don’t need the X,Y spectra (total
projections of all data onto X, Y axes), so select “No XY and T” and delete
them. Save these spectra as “pncid_0082-raw.spec” using the “File<span
style='font-family:Wingdings'>à</span>Save Spec” menu.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=153 id="Picture 87" src="GeoPIXE-Users-Guide_files/image116.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>All energy calibration parameters for all detector
channels can be set from a previous spectrum with all detectors calibrated
using the menu “Display</i><span style='font-family:Wingdings'>à</span><i>Get
ALL energy Cals”. You can load these in this case from spectrum file
“pncid_0082-cal.spec”.</i></p>

<h3><a name="_Toc222317487">Fit the X-ray spectrum and generate DA matrix</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now open the <i>X-ray Spectrum Fit</i> window using the
“Window<span style='font-family:Wingdings'>à</span>X-ray Spectrum Fit” menu.
Load the fit parameters from file “hematite-array.pcm”. The charge “Q” will be
set to the charge already in the spectrum data header. The yields have been
pre-calculated for a photon energy of 15.2 keV. Click on “Fit:One” in <i>X-ray
Spectrum Fit</i> and see if it fits the spectrum. <i>If the fit fails to
converge (a message to this effect may appear) use the fitting strategy
discussed below. </i> </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=331
height=296 id="Picture 88" src="GeoPIXE-Users-Guide_files/image117.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now click on “Fit: All” to fit all 7 spectra. You may need
to enable energy cal fitting using “Cal” and peak width fitting using “FWHM”
check-boxes. Save the fitted spectra in file “pncid_0082-fit.spec”. <i>These
fitted spectra now contain adjusted energy calibrations for all 7 spectra. This
will come in handy later. (All detector channels are also calibrated in file
“pncid_0082-cal.spec”.)</i></p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal>If a good fit is obtained, select the menu “Process<span
style='font-family:Wingdings'>à</span>Add (remap Cal)” to add the spectra
together (after mapping to a common energy calibration), repeat “Fit One” and
then click on the “Generate DA matrix” button (select default single DA matrix
option) to build and save a DA matrix file; save it as DAM file
“hematite-array.damx”.</p>

<p class=MsoNormal><i>&nbsp;</i></p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=331 id="Picture 89" src="GeoPIXE-Users-Guide_files/image118.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317488">SXRF Spectrum Fitting Strategy</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The non-linear least-squares fit to a spectrum can become
unstable for a number of reasons. In the case of SXRF spectra, the dominance of
the scatter peaks in the spectrum can be a particular problem for a couple of
reasons. Firstly, the beam energy may not be known precisely. Even an error of
10 eV can have a strong effect on the fit. If the energy Cal parameters are
left free in the fit, GeoPIXE will adjust the Cal to best fit all peaks
including the poorly positioned scatter peaks. This will introduce a bias error
into the Cal parameters and make the fit less stable and perhaps affect the
fitting of peak tailing.  For this reason, we normally do not enable “Tail”
fitting for SXRF data.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Even with the elastic peak energy well known, the energy and
shape of the Compton peak will vary reflecting factors including sample
composition, through the bound electron momentum distribution, and multiple
scattering, which becomes sensitive to sample layout and structure. Parameters
to adjust the position and width of the Compton peak can be found under the
“Advanced” <span style='font-family:Wingdings'>à</span>  “XRF” tab. Use these
to manually improve a fit to the Compton peak (click on “Fit: One” after each
[small] adjustment of these parameters) (see below). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Therefore, the following approach proves helpful to isolate
some problems associated with the energy and details of the scatter peaks:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Choose
a range of energy in the spectrum that includes most X-ray lines but <u>excludes</u>
the Compton and elastic scatter peaks (and their escape peaks, if they are
prominent [e.g. at ~10 keV lower energy in the case of a Ge detector]). Drag
the View markers to bracket this range and hit the “Use View” button in the <i>X-ray
Spectrum Fit</i> window.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fit
this range with Cal and FWHM parameters ON, or free to vary. Add any additional
elements as needed, until the fit is looking good.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Expand
the fitting range to include the scatter peaks and their escapes. Also include
pileup peaks at higher energy.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Disable
variation of the Cal and FWHM parameters in the fit (un-check “Cal” and “FWHM” in
the <i>X-ray Spectrum Fit</i> window).</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fit
the spectrum again. How does the position of the elastic peak look now? Does
the fit match the data? If not, this may indicate that the beam energy is in
error. Perhaps adjust the Compton peak parameters.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>If
necessary, use the peak in the spectrum now to determine a better estimate of
the actual beam energy (expand the spectrum around the elastic peak and drag a
marker to probe its centroid energy).</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
the <i>PIXE/SXRF Yield Calculation</i> window (“Yields: New” button in the <i>X-ray
Spectrum Fit</i> window) and re-calculate yields using this new beam energy
(you will need to load the Set-up file, “Hematite-array.lcm” in the present
case, into <i>PIXE/SXRF Yield Calculation</i>).</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Re-fit
the spectrum now. Does the elastic peak fit look better?</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='text-indent:29.45pt'><span style='layout-grid-mode:
both'><img border=0 width=372 height=337 id="Picture 90"
src="GeoPIXE-Users-Guide_files/image119.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>How
does the fit to the Compton peak look now? There may still be errors arising
from assumed electron momentum distribution and multiple-scattering. These can
be adjusted manually using the “Shift” and “Spread” parameters on the
“Advanced/XRF” tab panel. Make small changes and repeat the fit to see how
these changes affect the final fit. Avoid large excursions of these parameters.</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>If the fit to
the Compton peak remains very poor (e.g. there are prominent
multiple-scattering peaks present), and effects detrimentally the fitting of
incomplete charge-collection tails on all peaks, it may be more effective to
move the upper View marker to sit on the exponential tail of the Compton peak,
just above X-ray lines of interest (e.g. around 12.2 or 14 keV in the example
above). <i>Note that GeoPIXE will still include the scatter escape peaks in the
fit.</i></p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Typically for
SXRF data, disable the fitting of Tail parameters in the fit, if this combined
with the scatter peak fitting makes the fit unstable. “Fixed or “default” tail
parameters can be used.</p>

<p class=MsoNormal>&nbsp;</p>

<h3 style='page-break-after:auto'><a name="_Toc222317489">Sort the LST file to
project images</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In the <i>Sort EVT</i> window select the “APS Data Cube”
device and load the LST file “pncid_0082.lst” using the “LST file” button. On
the Flux tab make sure the conversion factor is set as previously. The scan
dimensions are loaded from the LST file (see “Scan” tab). But the file does not
contain energy calibration information, so the Cal parameters A,B are left at
defaults (see “DA/E.cal” tab).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>An array detector was used, so on the “DA/E.cal” tab select
“Detector Array” in the drop-list labelled “Channel”. In order to enter the
energy calibration for all detector elements make use of the file you saved
before, which contains all fitted energy Cal parameters. Click on “Get” and
load energy calibrations from file “pncid_0082-fit.spec”. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>See more detail about this example in the Workshop notes
and worked examples.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=265
height=351 id="Picture 91" src="GeoPIXE-Users-Guide_files/image120.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=265 height=351 id="Picture 92"
src="GeoPIXE-Users-Guide_files/image121.jpg"></span> </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=265
height=351 id="Picture 93" src="GeoPIXE-Users-Guide_files/image122.jpg"></span> <span
style='layout-grid-mode:both'><img border=0 width=265 height=351 id="Picture 94"
src="GeoPIXE-Users-Guide_files/image123.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>“Get” also enables/selects all detectors found in the spec
file. If you had found a detector that was bad, deleted it from the array spectrum
data before Adding spectra (select a spectrum by clicking on its row number and
use the “Delete:” button in Spectrum Select after selecting “selected spectra”
in the drop-list). Save these remaining array spectra without this detector for
use with “Get” in future.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now load the DA matrix file “hematite-array.damx”, and click
on “Start” to start sorting events and projecting them into elemental images
using the supplied DA matrix. The images appear in the main GeoPIXE <i>Image</i>
window. Zoom (“+” button) these out to view them better.</p>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'><span style='layout-grid-mode:
both'><img border=0 width=229 height=319 id="Picture 95"
src="GeoPIXE-Users-Guide_files/image124.jpg"></span>   <span style='layout-grid-mode:
both'><img border=0 width=229 height=319 id="Picture 96"
src="GeoPIXE-Users-Guide_files/image125.jpg"></span></p>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<h3><a name="_Toc222317490">Image regions</a></h3>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'>In the image window, cycle
through the elements using the drop-list on the left (and the mouse thumbwheel
or keyboard arrow keys). Of interest are hot-spots in Zn and Au. Select a
“circle” of “ellipse” shape using the Shape drop-list in the centre and click
and drag it out over each of these hot-spots (select using the left mouse
button and move control points), first on the Au image and then on the hotspot
in the Zn image. Click on the “<span style='font-family:Symbol'>S</span>”
button for each to extract the average concentration of all elements in these
regions directly from these quantitative images. The region analysis appears in
the <i>Image Regions</i> window. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=564
height=249 id="Picture 32" src="GeoPIXE-Users-Guide_files/image126.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Region (#0) would suggest an average concentration of ~100
ppm for Au in the hot-spot (scroll to the right to see the average for Au). We
will need to test if this is correct. Save these regions as “pncid_0082-q1.region”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Close the <i>X-ray Spectrum Fit</i> window for now. Replay
the LST file to extract spectra from these shapes using the “Extract spectra”
button on the <i>Image Regions</i> window “Extract” tab. But first, select
“array” from the detector channel drop-list to the right of “Extract” so that
the spectral data from all detectors are combined together (corrected for Cal).
This generates a set of spectra, one for each region. Click on a region row in
the <i>Image Regions</i> window to see the shape on the image and the
corresponding spectrum for that region in <i>Spectrum Display</i>. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=498
height=301 id="Picture 98" src="GeoPIXE-Users-Guide_files/image127.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on the first, which was set-up on the hotspot in the Au
image. The red overlay on the spectrum shows the peak contributions plus
background (shown in violet) ‘predicted’ using the DA images for all elements.
Open the <i>X-ray Identification</i> window using the “?” button below the
spectrum in the <i>Spectrum Display</i> window. Click on Au; there appear to be
prominent Au L lines in this extracted spectrum. However, the ‘fit’ seems very
poor at some energies (e.g. around 8.4 keV).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=323
height=238 id="Picture 99" src="GeoPIXE-Users-Guide_files/image128.jpg"
alt=PNC-identify-Au></span>   <span style='layout-grid-mode:both'><img
border=0 width=208 height=301 id="Picture 100"
src="GeoPIXE-Users-Guide_files/image129.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now click on the Au row in <i>Image Regions</i>, and on “Au”
in <i>X-ray Identification</i>. There is a very plausible Au L<span
style='font-family:Symbol'>a</span> peak shown in the spectrum. Note that the
peak at 13.4 keV is Rb K<span style='font-family:"Cambria Math",serif'>&#8733;</span>,
not the Au L<span style='font-family:Symbol'>g</span>1. But, is the Au real? </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Put the <i>X-ray Identification</i> window in “Identify”
mode and click within the line list (this sets the marker type to “Identify” in
<i>Spectrum Display</i>). Now click and drag the marker on the spectrum to 9.7
keV, over the Au L<span style='font-family:Symbol'>a</span> peak. The <i>X-ray
Identification</i> window shows other plausible line possibilities. </p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal>Click to the right of the relative intensity slider at the
bottom to increment the relative intensity threshold to hide very minor lines.
Near to Au L<span style='font-family:Symbol'>a</span> are the lines for W L and
Ge K. <i>You can also stay in “Mark Element” mode and scan the atomic number by
clicking on the arrows beside the atomic number slider.</i> Click on “W” to
display the W lines. There does appear to be a W L<span style='font-family:
 Symbol'>a</span> line as well in the spectrum. So is the 9.7 keV peak due to
Au L<span style='font-family:Symbol'>a</span> or W L<span style='font-family:
 Symbol'>b</span>? We need to add W to our analysis.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=498
height=301 id="Picture 101" src="GeoPIXE-Users-Guide_files/image130.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Fitting this spectrum using “Hematite-array.pcm” results in
this fit, which clearly shows a misfit at the position of the W L<span
style='font-family:Symbol'>a</span> peak.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=331 id="Picture 102" src="GeoPIXE-Users-Guide_files/image131.jpg"></span></p>

<p class=MsoNormal style='margin-left:0cm'><span style='position:relative;
z-index:251658240'><span style='position:absolute;left:200px;top:-73564px;
width:63px;height:1px'><img width=63 height=1
src="GeoPIXE-Users-Guide_files/image132.png" alt="W La&#13;&#10;&#13;&#10;"></span></span>&nbsp;</p>

<br clear=ALL>

<h3><a name="_Toc222317491">Regenerate images after adding extra elements</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Load the “pncid_0082-fit.spec” spectrum file again, select
“Prev” in <i>Spectrum Select</i> to display just the first spectrum, and open
the <i>X-ray Spectrum Fit</i> window again. You might set View markers in <i>Spectrum
Display</i> (select “View” from drop-list at the bottom on the left, and then
click first to the right of the spectrum to set the high marker and then to the
left to set to low marker; click and drag to move markers) and click on “Widen”
to display a portion of the spectrum. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now click on “W” twice in <i>X-ray Spectrum Fit</i> (first
to green for K lines, next to yellow for L lines) and hit “Fit: One” to fit the
spectrum again, this time including W (you may need to enable fitting energy
calibration the “Cal” and peak widths using the “FWHM” checkbox controls). Save
the new fit-setup as “hematite-with-W.pcm”. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=548
height=331 id="Picture 103" src="GeoPIXE-Users-Guide_files/image133.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Then generate the DAM matrix (“Generate DA matrix” button)
and save it as “hematite-with-W.damx”. In the <i>Sort EVT</i> window, select
the new DAM file and Start it sorting again. Save these images as “pncid_0082-x.dai”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The Images will now include W. Now the hotspot appears in
the W image, as were most of the hotspots in Au. Evidently, this image area contains
only a little gold, and the peak at 9.7 keV was due predominantly to W L<span
style='font-family:Symbol'>b</span>. However, there are some real gold
particles in the top of the field.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=229
height=319 id="Picture 104" src="GeoPIXE-Users-Guide_files/image134.jpg"></span>    
<span style='layout-grid-mode:both'><img border=0 width=229 height=319
id="Picture 105" src="GeoPIXE-Users-Guide_files/image135.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Let’s confirm this by loading the “pncid_0082-q1.region”
file again into <i>Image Regions</i>, and clicking “Update: All”, which applies
these regions to the new images. Now the Au analysis disappears. Yes, evidently
the main hotspot was tungsten not gold. Save the regions again in file
“pncid_0082-q1.region”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='position:relative;z-index:251657216'><span
style='left:0px;position:absolute;left:201px;top:-74637px;width:63px;
height:1px'><img width=63 height=1 src="GeoPIXE-Users-Guide_files/image132.png"
alt="W La"></span></span> <span style='layout-grid-mode:both'><img border=0
width=498 height=301 id="Picture 106"
src="GeoPIXE-Users-Guide_files/image136.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now select region #0 again and fit it (“Fit: One”) using
this new fit set-up with W included. The quality of the fit is very good, which
tends to confirm that we have included all important elements. Try removing W
from the fit (right-click on “W” in X-ray Spectrum Fit to temporarily disable
W; you can left-click it again later to re-enable it) and fit the region #0
spectrum again. Clearly, this fit quality is inferior, indicating that W is
essential.</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<h3><a name="_Toc222317492">Summary</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This example illustrates the main data flow from initial
total spectra, fitting, DA matrix generation and image projection. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>It then showed how these images can be probed and tested for
accuracy. In this case, we found that an extra element (W) was needed, which
was not really noticed in the initial total spectrum fit, probably due to its
minor nature in the overall image area. However, it showed up clearly in the
“Au” image, which could be tested by spectrum extraction from a small region. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>TIP: Often missing elements will appear in the “Back”
background image, which mainly reflects the spatial variation of the continuum
components of the spectrum if this element does not strongly overlap with an
included element such as in the present case. Always probe significant features
in the “Back” image and check the fit to the extracted spectra for signs of
missing elements.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This example illustrates that any feature for any element
that is regarded as important to an investigation can be probed in detail and
the quality of the fitted spectrum checked with and without an element of
interest. Hence, full-spectral data collection and the DA method in GeoPIXE
enables full testing, or quality control, on all inferred images. </p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc18907910"></a><a name="_Toc18929339"></a><a name="_Toc18929525"></a><a
name="_Toc19013318"></a><a name="_Toc19015594"></a><a name="_Ref203898261"></a><a
name="_Ref203898288"></a><a name="_Toc222317493">Verification of Images using
Regions</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Once images are projected using Dynamic Analysis, they can
be interrogated for concentration within features seen in images. Load the
image file “data\CSIRO\Sample11\Sample11-chalco.dai”, which shows areas of
chalcopyrite (CuFeS<sub>2</sub>) and quartz (SiO<sub>2</sub>) and veins of Fe
oxide and barite (BaSO<sub>4</sub>). Open the <i>Image Regions</i> window
(“Windows<span style='font-family:Wingdings'>à</span>Image Regions” menu).
Select a shape, to define an area of the image, using the drop-list in the
centre of the <i>Image Display</i> window, below the image. Select “Spline 10”
and drag out the spline, first as a circle (click left mouse button, hold and
drag), then by selecting and moving individual control points.  Click on the “<span
style='font-family:Symbol'>S</span>” button to integrate the region defined.
The results are shown as a new row in the <i>Image Regions</i> window.  </p>

<p class=MsoToc4>&nbsp;</p>

<p class=MsoNormal>Load the file “Sample11-chalco-q1.regions” into <i>Image
Regions</i>, which shows several regions selected on features seen in the
images. The “Image” column labels the image that was displayed when the “<span
style='font-family:Symbol'>S</span>” button was pressed; this is most likely
the image with the feature. For example, note the hot spot in As, as seen in
the As image and region 2 (click on row 2 of the table to display the shape on
the image, or images if several image clones are open).</p>

<h3><a name="_Toc19013319"></a><a name="_Toc19015595"></a><a
name="_Toc222317494">Extraction of Spectra from Regions</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The spectra associated with each region can be extracted
from the event data by using the EVT button in the <i>Image Regions</i> window.
Before using this feature make sure that the regions have been saved to a file
(or read from a file, as in this example). Use the drop-list to the right of
the EVT button to select which ADC to extract spectra for. If you have a <i>Spectrum
Display</i> window open, the results of the region extraction will be displayed
in this window. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open <i>Spectrum Display</i> now, if it is not open.  Select
ADC #1 from the drop-list in <i>Image Regions</i> and click on the EVT button
and select the EVT file (“Sample11.evt”) and spectrum file name (the defaults
are usually what you want, so just click on “Save”). A progress bar appears as
the EVT file is scanned for all events within the selected shapes. The
resulting spectra, one for each region, are automatically loaded into <i>Spectrum
Display</i>, and the first one displayed.</p>

<h3><a name="_Toc19013320"></a><a name="_Toc19015596"></a><a
name="_Toc222317495">Linked Display of Spectra from Regions</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on a row in the <i>Image Regions</i> table to show the
shape on the image, and the corresponding extracted spectrum will be displayed
in <i>Spectrum Display</i>, with a DA reconstruction overlay in red and
background in violet. The overlay is constructed by taking the elemental
concentrations integrated from the image and using these to scale the pure
element spectral components (which were calculated in the <i>X-ray Spectrum Fit</i>
and stored in the DA matrix file). The result can be compared with the PIXE/XRF
spectrum to verify the accuracy of the images in this region. A missing element
for example, not in the original element fit list, would produce a bad
“overlay” here (green peaks not accounted for by the red overlay). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=549
height=520 id="Picture 111" src="GeoPIXE-Users-Guide_files/image137.jpg"
alt=Sample11-verify-regions></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013321"></a><a name="_Toc19015597"></a><a
name="_Toc222317496">Diagnosis of Missing Elements</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>One image called “Back” is projected to track background
intensity. The intensity largely reflects bremsstrahlung intensity and mean
atomic number. However, any elements that were not included in the fit, but
occur in the image area, may produce features in Back as well. Hence, it is a
good idea to always check the Back image for hot spots, etc.  The example above
shows the spectrum extracted from a hot spot in Back. However, in this case
it’s just caused by barite, as indicated by the good “fit” and strong Ba K
lines.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><u>Try this test</u>: Load the original total PIXE spectrum
for Sample11 again (“sample11.spec” as before, use the <i>Spectrum Display</i>
“Select” button, and the <i>Spectrum Select</i> “Prev” button, and the <i>Spectrum
Display</i> “Process<span style='font-family:Wingdings'>à</span>Fold” menu),
and open <i>X-ray Spectrum Fit</i>. Load the fit set-up file “Sample11.pcm”.
Now remove the element Sr from the fit (shift left-click to remove entirely, or
right-click on Sr to disable it). Now fit the spectrum without Sr (note the
misfit on the Sr K<span style='font-family:Symbol'>a</span> peak at 14.14 keV)
and then generate a DA matrix and save it as “test.dam”. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open <i>Sort EVT</i>, if it is not open, and use the “From
DAI” button to load sort set-up parameters from “Sample11.dai” that was made
previously (see section above).  Now load the “test.dam” file that you just
created as the Dynamic Analysis projection file and change the output file name
to “sample11-test.dai”. Click on “Start” to sort using this ‘incomplete’ DAM
file.</p>

<p class=MsoToc4>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=540
height=474 id="Picture 112" src="GeoPIXE-Users-Guide_files/image138.jpg"
alt=Sample11-verify-regions-less-Sr></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Look at the “Back” image now. It contains much stronger
features along the vein and in the inclusions that used to show Sr. In the <i>Image
Regions</i> window, load the file “Sample11-chalco-q1.region”, and click on
“Update All” to tell <i>Image Display</i> to re-integrate all regions for the
newly projected images. Save these as “Sample11-test-q1.region”, and click on
the “EVT” button to extract spectra as before (now the default output file will
be “Sample11-test-q1.spec”).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Spectrum Display</i> now shows these projected spectra
with overlays. Click on row 8, which was the high Sr inclusion area as seen in
the Back image. Now the spectrum shows large Sr peaks (K<span style='font-family:
Symbol'>a</span> at 14.14 keV) without a corresponding “fit” in red (see figure
above). Row 9, corresponding to the vein shows a similar effect in the
spectrum. This would indicate that Sr is missing from the fit.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Normally, when this behaviour is encountered the extra
element would be added to the fit to the original total spectrum, a new DA
matrix would be generated, and the sort of the EVT file to project images
repeated (load the previous settings using the “From DAI” button). Any old
regions file could then be updated (“Update: All”), and resaved.</p>

<p class=MsoNormal><a name="_Toc18907909"></a><a name="_Toc18929338"></a><a
name="_Toc18929524"></a><a name="_Toc19013315"></a><a name="_Toc19015591">&nbsp;</a></p>

<h2><a name="_Toc222317497">PIXE Fluid Inclusion Analysis</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In brief, the procedure for analysis of fluid inclusions
follows these basic steps:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Extract
the fluid inclusion spectrum using an ellipse shape surrounding the inclusion.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Create
a 3-layer yield model comprising layers for the host mineral, the fluid layer,
and the host. Use layer thicknesses of d, T, 200 microns, where “d” and “T” are
the depth and thickness of the inclusion.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fit
this spectrum in <i>X-ray Spectrum Fit</i> using a fit set-up that incorporates
this 3-layer yield model.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
the <i>Fit Results</i> window and select the fit results row for this fit
(click on row label).</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
the <i>Results Property</i> window, using the “Properties” button in <i>Fit
Results</i>.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Enter
the fluid inclusion geometry parameters into the entry fields and hit “Apply”
to update the results in the selected row of <i>Fit Results</i>.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Save
the results from <i>Fit Results </i>into a pfr file, including the input
parameters.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
results can be exported following the “Export” button prompts.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The ellipse shape is used to select all signal associated
with the inclusion. The selection is used to improve signal-to-background. Use
it to also exclude any signal in the image due to nearby objects (e.g. surface
cracks, solid-phases, etc.) and other inclusions. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In creating the 3-layer yield model, do not worry too much
about the specifics of the thickness of the first 2 layers (i.e. inclusion
depth d and thickness T) as these will be refined via the <i>Result Properties</i>
window dialogue later in the procedure.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Typically, in the fit set-up, set the “View 0,1” markers on
the spectrum to about 36 keV (for View marker 1) down to just below the Si peak
(for a quartz host, using the left marker: View 0) (select View markers in
Spectrum Display and click and drag them into position, starting with the right
marker). This range encompasses all elements from Si through to Ba (K lines).
Use the “Use View” button in <i>X-ray Spectrum Fit</i> to transfer the View
marker energies into <i>X-ray Spectrum Fit</i>. For data collected with a thin
filter such as Be, will use the “Boost” background algorithm option, to better
track the shape of the background caused by filter absorption. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on a row of the <i>Fit Results</i> window and use the “Properties”
button to open the <i>Results Properties</i> window to manipulate properties of
the selected fit. Context sensitive help in the <i>Results Properties</i>
window give details of the various parameters. View the help in the box at the
bottom of the window, as you move the cursor over various fields and options. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Inclusion Shape” parameters in the <i>Results
Properties</i> window define the physical dimensions of the fluid inclusion. “X
length” and “Y width” are the length and width of an ellipse that has the same
area as the fluid inclusion, as observed under the optical microscope (make
sure the microscope graticule is calibrated to determine dimensions in
microns). For irregular shaped inclusions, try to estimate the dimensions of an
ellipse with the same area as the inclusion cavity. For a somewhat square
inclusion, the equivalent ellipse may be slightly longer and slightly narrower
to achieve equal area. Equal area means we are in a better position to estimate
inclusion volume, which affects the total mass of contained fluid, which is
necessary to relate measured signal to concentration.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>“Mid-plane” is the depth of the mid-plane of the inclusions
as observed under the microscope by racking the focus up and down (the scale on
the focus range or Z axis of the microscope will need to be calibrated – e.g.
using cover-slip thickness). For most inclusions, the measurement of the
mid-plane depth can provide a reasonable average inclusion depth. “Thickness”
is an estimate of the thickness of the equivalent ellipsoidal inclusion volume
in the vertical “Z” direction, out of the image plane of the microscope. This
is best determined directly using a spindle stage, which enables the sample to
be rotated and viewed side-on. “Mid-plane” and “Thickness” are coupled to
“Inclusion Depth” in the “Host Mineral” parameter section. Read the
context-sensitive help on each for details. “Mid-plane” is assumed to be the
most accurate, by default. Hence, a change to “Thickness” will modify
“Inclusion Depth”. Similarly, changing “Inclusion Depth” will modify
“Thickness”.  If a spindle stage is used, it may be necessary to change
“Mid-plane” until the desired “Inclusion Depth” is achieved.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Beam Selection Area” parameters refer to the region
sub-set of the image area used to select the signal associated with the
inclusion. Typically, an ellipse shape is used on the image to select signal
from the inclusion. This ellipse is usually a little larger then the inclusion
to encompass all signal. Optionally, use the exclude mode (“-“ on the drop-list)
to exclude any nearby cracks or solids that overlap with the selection
ellipse.  If the ellipse shape is used, the “X size” and “Y size” parameters
will be set in <i>Results Properties</i> from the ellipse dimensions. The
“Shape” parameter will then be set to “Ellipse”, referring to the shape of the
ellipse selection region. Other options here refer to “XY scan” for a
rectangular selection area (e.g. entire area), or to “Gaussian”, which refers
to a defocused beam used to bathe the inclusion in beam. The latter is seldom
used now as a finely focussed beam, and fast raster scanning to evenly
illuminate the inclusion is preferred.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The “Inclusion Contents” parameter section refers to how the
inclusion should be modelled in order to calculate X-ray yields. There are 3
“Bubble” options. “None” means no bubble, in which case it is assumed that we
are dealing with a small bubble, such as in a brine inclusion, and we wish to
enter the density as the homogeneous density of the inclusion (see the
context-sensitive help, and the notes under the drop-list). “Large dilute” is
used for dilute aqueous inclusions where it can be assumed that the fluid shell
or meniscus at room temperature has a density of 1. Again, we enter the
homogeneous density (which will be less than 1 in this case), but the modelling
then calculates the size of a central vapour bubble surrounded by a density 1
fluid shell that yields this overall density. “Fluid type” is a drop-list that
selects the broad composition band for the inclusion, as input to the yield
calculation. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If it is necessary to modify the choice of detector or
filter for some fluid inclusion results, this can be done using these steps:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the fluid inclusion results in Fit Results (drag select a range or rows).</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
<i>Results Properties</i>, if is not open, and select “Thick Target (1 layer)”
using the “Analysis Type” drop-list at the top of the <i>Results Properties</i>
window.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the new detector using the detector drop-list.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Return
to the “Fluid Inclusion (3 layers)” setting of the top drop-list.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
on “Apply”. The changed detector will now be applied to all selected fluid
inclusion results, preserving all other settings for each.</p>

<h3><a name="_Toc222317498">Refitting the Spectrum Keeping Geometry Parameters</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If you need to refit the spectrum, to add an element for
example, but would like to keep the existing fluid inclusion geometry
parameters, then follow this procedure:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Load
the spectrum for the fluid inclusion. This is usually the ellipse region, and
the file usually have a name ending in ‘-q1.spec’ or ‘-e.spec’.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
the <i>Fit Results</i> window and load the saved fit results (extension .PFR
and mostly likely the same name as the region and spectra files).</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
the <i>X-ray Spectrum Fit</i> window and load the fit set-up (PCM) file (e.g.
‘inc-d10-T10.pcm’) and make any changes to it as required (e.g. adding a new
element).</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Now
select the row of the <i>Fit Results</i> for this spectrum, by clicking in the
row.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Hit
“Refit” in the <i>X-ray Spectrum Fit</i> window. This will refit the spectrum
but preserve all geometry parameters. You can view these settings by opening
the <i>Results Properties</i> window.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Save
the results back to the PFR file, and export as needed.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>To
repeat for the next spectrum, clear the <i>Fit Results</i> window, load the new
ellipse spectrum and the results file, select row of <i>Fit Results</i> and hit
“Refit”.</p>

<h3><a name="_Toc222317499">Subtraction of Scattered Beam Contributions</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Beam scattering from slits gives rise to a wide diffuse beam
extending for several mm, which can excite X-rays from surrounding phases
containing major elements of interest. To subtract contributions due to beam
scattering, also collect data on a blank area near to the fluid inclusions of
interest and follow these steps. (Use the example in Data\CSIRO\Scatter\.)</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fit
the fluid inclusion as usual (see above).</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fit
the blank spectrum using the same fit set-up.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>Fit
Results</i> should now contain 2 rows; select the first row by clicking on it.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Open
<i>Results Properties</i> and set all fluid inclusion parameters and click on
“Apply”.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
first row should show the results for the fluid inclusion, ignoring scattering.
Note that it is not necessary to correct the blank for geometry as only the
peak areas and integrated charges are used.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Save
these results to a PFR file. These results still enable re-fitting to be done
later.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Now
use the drop-list in <i>Results Properties</i> under Corrections to select
“Subtract Scatter blank spectrum” and click on “Apply”. </p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
results table now shows one row for the fluid inclusion with the scattered
contributions, measured in the blank, subtracted. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note: Once the subtraction has been done, it cannot be
reversed or changed. This is why it is best to save the results before this
step and save the final (subtracted) results to a separate file, suitably
named. </i></p>

<h3><a name="_Toc222317500">Subtraction of Host Mineral Contributions</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>X-rays from elements excited in the host mineral can be
subtracted with this procedure:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fit
the fluid inclusion and the host mineral spectra, and enter fluid inclusion
parameters for both, as above for subtraction of scattered beam.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Also,
refit the host spectrum using an appropriate thick-target fit set-up and yield
calculation.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>There
should now be 3 rows in <i>Fit Results</i>, two with fluid inclusion parameters
set, and one thick target. </p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Save
these results to a PFR file. These results still enable re-fitting to be done
later.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Now
use the drop-list in <i>Results Properties</i> under Corrections to select
“Subtract Matrix blank spectrum”, and click on “Apply”. </p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
results table now shows one row for the fluid inclusion with the matrix or host
contributions, measured in the blank, subtracted. Note that it is not necessary
to correct the blank for geometry as only the peak areas and integrated charges
are used.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note: Once the subtraction has been done, it cannot be
reversed or changed. This is why it is best to save the results before this
step, and save the final (subtracted) results to a separate file, suitably
named. </i></p>

<h3><a name="_Toc222317501">Refitting Fluid Inclusion Spectra</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If you need to alter the fit to a fluid inclusion spectrum,
to add an element for example, where you have already set-up inclusion
parameters in <i>Results Properties</i>, then follow these steps:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
the results row in <i>Fit Results</i> corresponding to the fluid inclusion
spectrum.</p>

<p class=MsoNormal style='margin-left:60.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Click
“Refit” in the <i>X-ray Spectrum Fit</i> window. This refits the spectrum and
updates <i>Fit Results</i> using the same <i>Results Properties</i> as before.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='page-break-after:avoid'><a name="_Toc222317502">Fitting Spectra
using Cuts</a></h2>

<p class=MsoNormal style='page-break-after:avoid'>&nbsp;</p>

<p class=MsoNormal>Close the <i>X-ray Spectrum Fit</i> window, if it is still
open. Load this example spectrum from “data\CSIRO\Fiji\Fiji-2x-m.spec”. Then
use the <i>Spectrum Select</i> window (“Select” button, then “Prev”) to display
just the first spectrum.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This spectrum comes from a list-mode file that uses the top
ADC bit to tag X-stepping in X-step mode images. This produces twin spectra,
one in each 4K half of the spectrum. Use the menu “Process<span
style='font-family:Wingdings'>à</span>Fold” to combine these into a single 4K
spectrum.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Sometimes there are problems with detectors that result in
distortions of the spectrum, such as excessive, distorted un-rejected pile-up
or in the example below, satellites to peaks. The spectrum below was collected
using a Canberra Ultra LE Ge X-ray detector (optical reset) and a Canberra 2060 digital signal processor (DSP). The default inhibit period following a reset
is just ~300 <span style='font-family:Symbol'>m</span>s. With the 2060, this
caused satellite peaks on the right, <i>high-energy</i> side, of peaks. This
can be seen clearly for Ag K<span style='font-family:Symbol'>a</span> (22.1
keV) and Te K<span style='font-family:Symbol'>a</span> (27.5 keV) as a hump on
the high-energy side. Lengthening the reset period to 2.5 ms cured this
problem. However, this data remained with the distorted peaks. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This spectrum was analyzed by excluding portions of the
spectrum from the fit, and the DA matrix projection, by using Cuts. Open the <i>Cut
Setup</i> window, using the <i>Spectrum Display</i> “Window<span
style='font-family:Wingdings'>à</span>Cuts Setup” menu. This switches the
marker mode in <i>Spectrum Display</i> to Cuts. </p>

<h3><a name="_Toc19013316"></a><a name="_Toc19015592"></a><a
name="_Toc222317503">Types of Spectrum Cuts</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>There are two types of cuts. One uses 2 markers (“Cuts” on
the marker drop-list) to define a simple region based on an energy range
between these two markers. Position the high-energy marker first, then the low
energy, and hit the “<span style='font-family:Symbol'>S</span>” button in <i>Spectrum
Display</i> to define a simple cut (with marker drop-list still on “Cut 0,1”). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>If the same HIGH marker is “grabbed” by the cursor,
then move further to the left to position the LOW marker. You can reposition
markers by left-clicking and dragging.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The <i>Cuts Setup</i> window now shows a new row with the
cut energy range, plus the integrated counts in the spectrum in the range. You
can give this cut a name by typing in the “Name” entry box at the bottom of the
<i>Cuts Setup</i> window and hitting carriage-return or “Enter”. This “name”
will appear on the ‘element’ drop-list in the output <i>Image Display</i>.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Another type of cut uses 6 markers (X0-X5) to define an
energy range (X2-X3), plus two background areas on each side (X0-X1, X4-X5).
These are used to do background subtracted area extraction from peaks, or to
sort event data using cuts on peaks to project images based on simple peak
counts after background subtraction; more on these later.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The simple 2 marker cuts are used to define regions of
spectra to exclude from the fit. “Clear” any cuts you have made, and “Load”
previous cuts from the file “AgTe-high.cuts” in the “Fiji” directory. Click on
a row in the <i>Cuts Setup</i> table to display the corresponding cut on the
spectrum. They are positioned on these problematic high satellites.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=592
height=361 id="Picture 113" src="GeoPIXE-Users-Guide_files/image139.jpg"
alt=Fiji-fit-cuts></span></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc19013317"></a><a name="_Toc19015593"></a><a
name="_Toc222317504">Fitting Using Cuts</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now open the <i>X-ray Spectrum Fit</i> window (“Windows<span
style='font-family:Wingdings'>à</span> “X-ray Spectrum Fit” menu) and load the
PCM file “Fiji-2x.pcm”. This fit set-up file makes use of these cuts.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>Now the absolute file paths may be wrong for your
system, so if any errors are encountered, click on the “Load” button opposite
“Cuts:” and navigate to the file “AgTe-high-cuts”. Similarly, click on “Load”
opposite “Yield:” and load the PIXE yields from “Pyrite.yield”. Save the PCM
back again with these updated paths. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on “Fit One” to fit the spectrum. The fit now
considers all channels in the selected energy range but excludes all cuts. This
is why the fit (shown in red) dives down to the right of the Ag and Te K<span
style='font-family:Symbol'>a</span> peaks. Similarly, the DA matrix excludes
these cuts and can be used to project accurate elemental images that reject the
effects of this particular spectral distortion.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc222317505">Fitting Spectra for Images with Complex Pile-up</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The type of pile-up modelling can be selected using the
“Pileup” drop-list in <i>X-ray Spectrum Fit</i>. Normally, a pile-up element is
used in PIXE/XRF spectrum fitting; select this with the “from Spectrum” option.
In this mode, the relative intensities of the pile-up element lines are
calculated from the intense lines in the spectrum being fitted. GeoPIXE
calculates pile-up lines to second order (3 pulse pile-up). </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>However, if the PIXE/XRF
spectrum corresponds to a scanned image area using a microbeam then the nature
of the pile-up will have changed with position across the image. In other
words, the major intense X-ray lines and the resulting pile-up relative
intensities will have changed with pixel. </p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>&nbsp;</p>

<p class=MsoBodyTextIndent2 style='line-height:10.0pt'>The following example
illustrates this effect. Load the spectrum file: “data\csiro\bc2\bc2pt14.spec”
and open <i>X-ray Spectrum Fit</i> and load the PCM file: “pileup-spec.pcm”
from the “bc2” directory. Fit the spectrum and notice the quality of the fit
around energies 17-22 keV. The poor fit is because the pile-up relative
intensities have been calculated from this spectrum, and hence conclude that As
and Zn are the dominant elements and should pile-up together. However, it is
clear from the spectrum that there is little As K<span style='font-family:Symbol'>a</span>
+ Zn K<span style='font-family:Symbol'>a</span> pile-up at 19.14 keV (red
overlay, but no green raw data). This is because As and Zn do not occur
together spatially anywhere in the image area (see the images below). This can
be seen by loading the associated images from image file “data\csiro\bc2\bc2pt14-m.dai”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=597
height=645 id="Picture 114" src="GeoPIXE-Users-Guide_files/image140.jpg"
alt=BC2pt14-image-pileup></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>A better approach in this case is to calculate pile-up
relative intensities using direct products of image pixel counts. This can be
done using the “Display<span style='font-family:Wingdings'>à</span>Pileup<span
style='font-family:Wingdings'>à</span>using Image products” menu in <i>Spectrum
Display</i>. This calculates intensities of pile-up components from products of
image intensities on a pixel-by-pixel basis. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Choose the dominant elements in the pop-up requester (Fe,
Ni, Zn, As and Sr in this case; you can choose “Load” from the pop-up requester
and load the file “pileup.select”). Now the peak at 19 keV is weak, reflecting
the lack of spatial association of Zn and As. However, the relative intensities
now show a strong peak at about 18 keV, apart from the strong As K<span
style='font-family:Symbol'>a</span> + As K<span style='font-family:Symbol'>a</span>
pile-up at 21 keV.  This 18 keV has a strong component from Ni K<span
style='font-family:Symbol'>a</span> + As K<span style='font-family:Symbol'>a</span>
pile-up. This is because these elements occur together, spatially in the image.
So, although Ni is not a strong element overall in the spectrum, it makes a
very significant contribution to the pile-up.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now, in <i>X-ray Spectrum Fit</i>, select the “using Images”
pile-up option and fit the spectrum again (“Fit: One”). Now <i>X-ray Spectrum
Fit</i> uses the pile-up model as calculated above, and currently stored with
the spectrum, to provide a much improved fit to the spectrum.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3 style='line-height:10.0pt'>Note that the Spectrum
Display, X-ray Spectrum Fit and Image Display windows are all coordinated for
these calculations, and all need to have the appropriate data loaded and
operations performed, as outlined above.</p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc222317506">Correction of Images for Complex Pile-up Effects</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>We can continue this example (“data\csiro\bc2\bc2pt14”) to
build pile-up corrected images by first following the steps listed above under
“Correction of Images for Pulse Pile-up Effects”. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now, fit the spectrum (it should still include the image
pile-up calculation overlay) in <i>X-ray Spectrum Fit</i> including “Pd” in the
fit (left-click on “Pd” to select it for K lines; it appears green), and using
the “using Images” pile-up option. (You can load these parameters from the file
“pileup-images-Pd.pcm”.) Now, fit the spectrum again, and then generate a
Dynamic Analysis matrix using the “Generate DA Matrix” button. This builds a DA
matrix that does NOT include any pile-up element rows, because these will be
treated in a separate step described below. Save it with the name
“bc2_pt14-pileup.DAM”.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open <i>Sort EVT</i> and reload the image set-up parameters
from “bc2pt14.dai” using the “From DAI” button and locate the EVT file. Now,
under the projection file entry load the file “bc2_pt14-pileup.DAM” and click
on the “DA” button to use the energy calibration as fitted and contained in the
DAM file. Now click on “Start” to sort the event data using this matrix.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=593
height=620 id="Picture 115" src="GeoPIXE-Users-Guide_files/image141.jpg"
alt=BC2pt14-image-pileup2></span> </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To apply some image smoothing to the lower statistics
images, open the <i>Image Operations</i> window and click on “Get”. Then select
the image file “bc2pt14-m.dai”, and select all elements in the pop-up
requester, and click on “OK”. This applies all the same digital filter
operations to all images that were performed to this file and are stored as
history records in the image file header.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The images generated will include the element Pd. This was
chosen as it is not present in these samples but has lines that overlap with
the As K + As K pile-up. Due to the strong As pile-up, the Pd image contains
strong artefacts due to pile-up, up to an apparent maximum of about 0.5%. Ag
shows artefacts as well.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now invoke the <i>Image Display</i> menu item “Process<span
style='font-family:Wingdings'>à</span>Correct<span style='font-family:Wingdings'>à</span>Image
Pileup” to subtract pile-up contributions. Load the file “pileup.select” in the
pop-up requester, and click on “OK”. This process corrects all images for
pile-up contributions.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent3>Note: this makes use of the loaded images and also
intensity data contained with the spectrum and image pile-up model in Spectrum
Display. So, Spectrum Display must contain the spectrum and Image Pileup model
overlay.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoBodyTextIndent2>The Pd image now shows no significant pile-up
artefacts, only subtraction noise, and shows an average (over whole area) or
less than 1.4 ppm (drag out a large Box region and click “<span
style='font-family:Symbol'>S</span>” to see). All other elements have been
corrected as well (e.g. try Ag now).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note that the Spectrum Display, X-ray Spectrum Fit and
Image Display windows are all coordinated for these calculations, and all need
to have the appropriate data loaded and operations performed, as outlined
above.</i></p>

<p class=MsoToc4>&nbsp;</p>

<h2><a name="_Toc18816558"></a><a name="_Toc18817078"></a><a name="_Toc18817360"></a><a
name="_Toc18907895"></a><a name="_Toc18929341"></a><a name="_Toc18929527"></a><a
name="_Toc19013324"></a><a name="_Toc19015600"></a><a name="_Toc222317507">Correction
of Images for Sample Composition Effects on Yields</a> </h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Load the image file ‘data\csiro\c4-x\c4-x-3-b.dai’.  Click
on the “-“ button to zoom the display out, and select the Cu image. It contains
regions spanning a solid solution series from pyrite (FeS<sub>2</sub>; high Fe)
to villamaninite (CuS<sub>2</sub>; high Cu), plus areas of enargite (Cu<sub>3</sub>AsS<sub>4</sub>;
high As) and barite (BaSO<sub>4</sub>; high Ba). View the various images to see
Fe, Cu, As and Ba. Our aim here is to correct for the variation in calculated
PIXE yields as the composition varies across the image area.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>See the more detailed worked example notes in the “<b>GeoPIXE
Worked Examples</b>” PDF located in the Help directory.</i></p>

<h3><a name="_Toc19013325"></a><a name="_Toc19015601"></a><a
name="_Toc222317508">Correct Yields Window</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the <i>Correct Yields</i> window (menu “Windows<span
style='font-family:Wingdings'>à</span>Correct Yields”), and load the file
“py-vill-enarg-bar.correct” from the same directory into<i> Correct Yields</i>.
This shows a matrix to project onto pyrite (py), villamaninite (vill), enargite
(enarg) and barite (bar), assuming the remainder to be quartz.  The matrix
table shows values entered for the composition of each end-member component, in
wt%. The columns show the main elements visible to PIXE that distinguish
between these phases (Fe, Cu, As and Ba). The buttons to the right of the
matrix table show the names of the DAM files that were created in <i>X-ray
Spectrum Fit</i> using these pure end-member compositions. The DAM file used to
project the images in the first place (Original Image DA) assumed a pure
chalcopyrite matrix. Everything else (the “Remainder”) will be assumed to be
quartz.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>The paths in this window to the DAM files may be
different on your system. If you encounter errors in the steps that follow, you
will need to click on these in turn to locate the files named on the buttons,
from within the “c4-x” directory. i.e. Click on the DAM file buttons to the
right (e.g. “c4-x-py.dam”), and also the DAM file buttons for “Remainder DA”
and “Original Image DA”. For each, locate the directory “data\csiro\c4-x” and
select the DAM file with the <u>same name</u> as displayed now on each button. 
After this is done, save the corrected set-up again using the “Save” button.
These steps are not usually necessary if a directory is not moved around to a
new location.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=601
height=515 id="Picture 118" src="GeoPIXE-Users-Guide_files/image142.jpg"
alt=c4x-correct></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now you are ready.  Click on “Correct” to start the
correction.  This will take a minute as it internally projects onto end-member
proportions and calculates a better estimate for the PIXE yield in each pixel
for every element.  It then corrects every element for the ratio of these
yields to the ones assumed originally.  A second iteration can be performed by
clicking on “Correct” again. Note the changes, particularly seen in the Cu
image. The process typically converges quickly in 2-3 iterations.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18929342"></a><a name="_Toc18929528"></a><a
name="_Toc19013326"></a><a name="_Toc19015602"></a><a name="_Toc222317509">Projection
of Elemental Images onto End-member Proportion Images</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Continuing the example started above for <i>Correction of
Images for Sample Composition Effect on Yields</i>, click on “Minerals” to
project onto the end-member proportions.  The result will be images for pyrite
(py), villamaninite (vill), enargite (enarg), barite (bar), as well as an image
for the remainder assumed to be quartz (Rest).  The images display proportion
in wt%.  The images show clearly the areas corresponding to enargite and
barite, and the solid solution gradient between pyrite and enargite, and the
gangue assumed to be quartz. Note that the high Cu areas in enargite appear as
low proportions in the villamaninite image.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=610
height=422 id="Picture 119" src="GeoPIXE-Users-Guide_files/image143.jpg"
alt=c4x-minerals></span></p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc18929343"></a><a name="_Toc18929529"></a><a name="_Toc19013327"></a><a
name="_Toc19015603"></a><a name="_Toc222317510">Correction of Images for the
Effects of Differential Absorption</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>If we return to “Sample11” (load image file
“data\CSIRO\Sample11\Sample11-chalco.dai”), it shows an interesting feature. On
the right of the chalcopyrite areas (high Cu) near the quartz areas (black on
the Cu image) there appears to be an enhanced Cu concentration as a rim on the
chalcopyrite. This is just an artefact of reduced absorption of X-rays,
generated beneath the surface, on their way to the detector (located on the
right) as they pass through quartz. GeoPIXE can correct for this 3D absorption effect,
which results from contrasting composition within a pixel’s neighbourhood. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note: This correction is limited to normal incidence and
45 take-off angle at the moment.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Open the <i>Correct Yields</i> window, and load the file
“chalco-pyrr-barite-on-quartz.correct”. This specifies a projection onto the
end-member components, as discussed in the <i>Verification of Images using
Regions</i> example above. Click on “Absorb” to start the correction of
absorption.  This will take a minute as it corrects every element image for an
assumed detector at a take-off angle of 45º degrees, located to the right.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i><u>Note</u>: If the detector is located at another
cardinal direction, then rotate the images first (using the “Process</i><span
style='font-family:Wingdings'>à</span><i>Rotate</i><span style='font-family:
Wingdings'>à</span><i>+90 degrees” menu of Image Display) before correction to
place the detector on the right. Then rotate them back afterwards.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>On completion, the “Back” image is replaced with an image of
the spatial variation of mass absorption coefficient. All other elemental
images are now corrected for absorption. Note that the edge effect in the Cu
image is now largely corrected. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This process assumes vertical boundaries between contrasting
areas of composition, but still does a remarkably good job of correcting these
effects. Remaining artefacts probably reflect non-vertical phase boundaries.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=518
height=594 id="Picture 120" src="GeoPIXE-Users-Guide_files/image144.jpg"
alt=sample11-absorb></span></p>

<p class=MsoNormal>&nbsp;</p>

<h2><a name="_Toc18907911"></a><a name="_Toc18929340"></a><a name="_Toc18929526"></a><a
name="_Toc19013322"></a><a name="_Toc19015598"></a><a name="_Toc222317511">Correction
of Images for Charge Variation</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>You may have noticed that the previous examples in which
“Sample11” was re-sorted showed some faint vertical streaks on the Cu image.
This resulted from a problem with charge integration in this measurement, in
time as the stage stepped across in X. These effects can be removed by using
the constraint that the Cu content of the chalcopyrite in this case is uniform,
which aside from the streaks appears to be valid. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The approach is to renormalize all elemental images so that
the integral of one image is constant as a function of X (there is a similar
function for Y). However, seldom do we want to integrate the whole image.
Usually, only parts of the image are deemed uniform, and there are often cracks
and inclusions, etc. that should be avoided. Therefore, the approach is to
select just those parts of the image that are uniform in this element. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>There are two approaches to selecting the ‘uniform’ pixels
using: (i) the shape tool on the<i> Image Display</i> window to select a
region, or (ii) pixels selected based on element-element associations and a
selection in the Associations window.</p>

<h3><a name="_Toc222317512">Using the Shape Tool for Region Selection</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Load images from “Sample11.dai” in the “csiro\Sample11”
directory, and display Cu. Open the <i>Image Regions</i> window and load the
file “Sample11-charge.region”, which contains just one region that selects all
uniform chalcopyrite parts of the image area. </p>

<h3><a name="_Toc19013323"></a><a name="_Toc19015599"></a><a
name="_Toc222317513">Exclude Mode of Region Selection</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This region uses the exclude mode. It was built by first
using a “Box” shape to select the whole area. Then, the selection mode was
switched into exclude (“-“) using the drop-list immediately to the right of the
shape drop-list in the <i>Image Display</i> window. Then various parts of the
image (cracks, veins, inclusions) were outlined using various shapes in turn in
order to remove them from the Box selection. Outline an area with a shape and
click on “<span style='font-family:Symbol'>S</span>” to remove that area. The
shaded part of the image shows the areas that remain selected. They provide a
discontinuous sampling of pixels across <b>all X values</b>.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoToc4><span style='layout-grid-mode:both'><img border=0 width=486
height=412 id="Picture 116" src="GeoPIXE-Users-Guide_files/image145.jpg"
alt=Sample11-charge></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using this image region selection, use the menu item
“Process<span style='font-family:Wingdings'>à</span>Correct<span
style='font-family:Wingdings'>à</span>Xstep Current” in <i>Image Display</i> to
renormalize all images. Clear the region shading using the “Display<span
style='font-family:Wingdings'>à</span>Clear All Shapes” menu. Now Cu appears
smooth and uniform.</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<h3><a name="_Toc222317514">Charge Correction using Element Association Pixel
selection</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Continuing with the Sample11 example, re-load the original
images from “Sample11.dai” in the “csiro\Sample11” directory, and open an <i>Associations</i>
window (“Windows<span style='font-family:Wingdings'>à</span>Element
Associations” menu) and select correlations between Cu and Fe on linear scales
(un-check the Log check-marks); you may need to reduce the display maximum
slider to see more of this distribution. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now click and drag a spline curve around the knot of nearly
fixed Cu-Fe composition in the centre of the window corresponding to
chalcopyrite. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>You can clear the spline curve to start again using a
mouse ‘right click’ with the cursor in the window.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now use the “Analyze<span style='font-family:Wingdings'>à</span>Within
Spline” menu to select all image pixels within this Cu-Fe field; these are
highlighted on the <i>Image</i> window in green (right click in the <i>Image</i>
window to temporarily hide this selection to view the full image). This has
selected all pixels with this close Cu-Fe relationship. If the selection looks
a little noisy, try applying some pre-smoothing of the Cu and Fe images first.
To do this, increase the sliders next to the element drop-lists by one click to
4. Then use “Analyze<span style='font-family:Wingdings'>à</span>Within Spline”
again.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Now use the “Process<span style='font-family:Wingdings'>à</span>Correct<span
style='font-family:Wingdings'>à</span>XStep Current” menu in the <i>Image</i>
window to apply the charge correction based on the selected ‘green’ pixels.
Right click to hide the green selection and see the result briefly or use the
“Display<span style='font-family:Wingdings'>à</span>Clear Association
Highlights” menu to clear them entirely from the display.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=496
height=596 id="Picture 117" src="GeoPIXE-Users-Guide_files/image146.png"
alt=Sample11-charge2></span></p>

<b><span style='font-size:14.0pt;font-family:"Arial",sans-serif;layout-grid-mode:
line'><br clear=all style='page-break-before:always'>
</span></b>

<h1><a name="_Toc18816534"></a><a name="_Toc18817054"></a><a name="_Toc18817336"></a><a
name="_Toc18907871"></a><a name="_Toc18929303"></a><a name="_Toc18929489"></a><a
name="_Toc19013252"></a><a name="_Toc19015522"></a><a name="_Toc18816565"></a><a
name="_Toc18817085"></a><a name="_Toc18817367"></a><a name="_Toc18907902"></a><a
name="_Toc18929331"></a><a name="_Toc18929517"></a><a name="_Toc19013304"></a><a
name="_Toc19015580"></a><a name="_Toc222317515">Notes on IDL and GeoPIXE
Installation</a></h1>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>GeoPIXE is written in the IDL language (by Research Systems
Inc. and later owned by Harris Geospatial and lately NV5) in modular form. 
Each window is effectively a separate program that communicates with the others
using some message notification services designed for GeoPIXE.  This structure
has many benefits.  If a window crashes with a bug, for example, you can
usually close it (using the &quot;X&quot; widget in the top-right of the
window) or close its parent window (to close both windows; often a windows data
is stored in the parent) in order to clear the problem and try again, often
without loss of data.  The contents of other window and data remain intact. 
There is no practical limit on the number of windows, or image clones for
example, subject to available computer memory.  </p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816566"></a><a name="_Toc18817086"></a><a
name="_Toc18817368"></a><a name="_Toc18907903"></a><a name="_Toc18929332"></a><a
name="_Toc18929518"></a><a name="_Toc19013305"></a><a name="_Toc19015581"></a><a
name="_Toc222317516">Installation Notes</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>GeoPIXE is now <i>Open Source</i> and can be downloaded from
<b><i>GitHub</i></b>.  See the Help menu “Update GeoPIXE” for details.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>To run GeoPIXE, double click on the shortcut for
GeoPIXE.sav.  If it fails to open, check the shortcut properties for the
correct path to the GeoPIXE directory.  <b><i>Make sure that the shortcut
starts in the same directory as GeoPIXE.sav</i></b><i>. </i>Under Linux,
GeoPIXE is run via the script “geopixe” in the ‘geopixe/bin/’ directory. Add
this directory to your path, and make sure you have “x” access to the script.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The manual and other help documents (e.g. Workshop notes)
are available in the “Help” directory in your new GeoPIXE installation.</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<h2><a name="_Toc222317517">Preferences</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>GeoPIXE will read preferences on start-up from the config
file “geopixe.conf” in the “.geopixe” sub-directory to your home directory (if
not found it will create a default file). The file can be edited to select the
following options:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>path
data</b>:  select the default path for raw data when the file-requester is
opened.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>path
analysis</b>:  select the default path for analysis results, such as images
when the file-requester is opened.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>path
config</b>:  default standards config directory (e.g. for Standards Wizard).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>default
device</b>: sets the name of the default device (e.g. MAIA_DEVICE). Valid
devices have SAV files with names ending in “__define.sav” in the directory
“&lt;geopixe&gt;/interface”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>cluster
type</b>:   select between “cores” and “CWS” to select between parallel
processing using multiple IDL sessions running on multiple cores or using the
CSIRO CWS cluster processing services. Note that a full IDL (runtime) license
is needed.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>cluster
nodes</b>:   select the number of nodes to use in a cluster or the number of
IDL sessions in “cores” mode.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>startup</b>:  
enables automatic opening of various windows when GeoPIXE is first started.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>origin
auto</b>:   the absolute coordinates of the origin (lower left corner) of the
current image is normally obtained from the data stream, if an origin is
supported. If no origin is supported in the device data, set this to “0”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>origin
x, y</b>:   if no auto origin is available, then set a manual coordinate origin
(mm) for X and Y. With an origin set, dragging a box shape on a window will
show the boxes origin in the context sensitive help frame.</p>

<p class=MsoNormal>Similarly, file path bookmarks, as used in the file
requester, are stored in the “.geopixe” sub-directory to your home directory
(if not found it will read initial default bookmarks from the GeoPIXE
directory). It will save paths back to the .geopixe directory. The token
“$HOME” in the bookmark list translates to your home directory (as pointed to
by the HOME environment variable).</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc18816567"></a><a name="_Toc18817087"></a><a
name="_Toc18817369"></a><a name="_Toc18907904"></a><a name="_Toc18929333"></a><a
name="_Toc18929519"></a><a name="_Toc19013306"></a><a name="_Toc19015582"></a><a
name="_Toc222317518">Setting Up Filter Definition Files</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Filter definitions reside in individual files within the
main GeoPIXE directory or in the “config/filters” path, using ‘config’ as
defined in your “geopixe.conf” file.  Add new local filter files to this config
path. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All filter (.FILTER) files are loaded when <i>GeoPIXE</i> is
started, and appear in drop-lists throughout the program.  These files can be
edited or created using the <i>Filter Setup</i> window, accessed via the
&quot;Windows<span style='font-family:Wingdings'>à</span>Edit Filters&quot;
menu item in <i>Image Display</i> and <i>Spectrum Display</i>.  If a detector
is edited or added, it is typically immediately accessible to the various
windows that use filters.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>If a DETECTOR or FILTER file is not found for one of the
examples, try looking for it in the “Storage” directories.</i></p>

<p class=MsoNormal><b>&nbsp;</b></p>

<p class=MsoNormal><b>Note:</b></p>

<p class=Numeric-List style='margin-left:42.55pt'>An energy cursor and energy
entry field have been added to the <i>Edit Filters</i> windows. Enter photon
energy (keV), or drag a cursor on the plot, to determine the transmission or
efficiency at the cursor energy for filters and detectors, respectively. </p>

<p class=Numeric-List style='margin-left:42.55pt'>If an X-ray line is selected
in the <i>X-ray Identification</i> window (click on a line in the list), the
filter and detector window cursors will be set to this energy.</p>

<h3><a name="_Toc18816568"></a><a name="_Toc18817088"></a><a name="_Toc18817370"></a><a
name="_Toc18907905"></a><a name="_Toc18929334"></a><a name="_Toc18929520"></a><a
name="_Toc19013307"></a><a name="_Toc19015583"></a><a name="_Toc222317519">Filter
Setup</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Use the &quot;Load&quot; and &quot;Save&quot; buttons to
edit or create filter files.  The &quot;Title&quot; will appear on all
drop-lists for this filter; it should no longer than about 16-20 characters. 
Each filter file can contain a number of filters, which form a composite X-ray
filter.  The number of filters is specified using the &quot;# Filters&quot;
drop-list, and the &quot;Define Filter&quot; drop-list selects a filter for
editing.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=619
height=327 id="Picture 122" src="GeoPIXE-Users-Guide_files/image147.jpg"
alt=Filter-Setup></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Filter thickness can be in mg/cm<sup>2</sup>, microns or Gas
(mm NPT).  The latter specifies mm of gas at normal pressure and temperature
(20 °C, 1013.25 mbar). This is selected using the drop-list beside thickness.
If microns are used, then a density is required.  For pure element filters,
this will be provided automatically by the program.  For a gas filter, density
is calculated from the composition assuming an ideal gas.  Next, the chemical
formula of the filter is entered beside &quot;Formula&quot;.  This can take
various forms (e.g. &quot;N2&quot;, &quot;CO2&quot;, &quot;(CH2)4(NH2)2&quot;,
&quot;(N2)70(O2)29(CO2)1&quot;).  When brackets are used &quot;()&quot;, then
the function of the multipliers outside the brackets is set by the drop-list on
the right. It selects between &quot;Atomic Fractions&quot; for atomic weighing
(e.g. &quot;(CH2)4(NH2)2&quot;) and &quot;Weight %&quot; for weight %
proportions (e.g. &quot;(N2)70(O2)29(CO2)1&quot;). For a Gas filter, make sure
the “()” contain the main gaseous molecular components.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The bottom line defines special filter properties.  This is
used for pinhole and Bragg filters.  When a pinhole filter is selected by the
drop-list, then a new field appears on the right for the entry of the
solid-angle ratio.  This is the ratio of the detector solid angle to the
pinhole solid angle, and hence is always larger than one. Note that a Gas
filter cannot use the “pin-hole” mode.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>In Bragg filter mode, in addition to the absorber foil, the
filter adds a Bragg filter transfer function. A Bragg filter is an X-ray lens,
shaped to a rotated log-spiral, that focuses one narrow energy band into the
X-ray detector. An extra button appears to enter Bragg filter parameters for
centre energy, curve width, height (enhancement) and base-line (from
scattering). A small window shows the current shape of the transfer function. <i>Make
sure you hit return when entering parameters to have them shown in the display.</i>
</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>View the context-sensitive help at any time for a
reminder of the function of these fields. The transmission through this
complete list of absorbers is dynamically updated in the plot on the right as
changes are made.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Remember to save changes.</p>

<p class=MsoNormal>&nbsp;</p>

<h2 style='line-height:normal'><a name="_Toc222317520">Setting Up Detector
Definition Files</a></h2>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Detector definitions reside in individual files within the
main GeoPIXE directory or in the “config/detectors” path, using ‘config’ as
defined in your “geopixe.conf” file.  Add new local detector files to this
config path.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>All detector (.DETECTOR) files are loaded when <i>GeoPIXE</i>
is started, and appear in drop-lists throughout the program.  These files can
be edited or created using the <i>Detector Setup</i> windows, accessed via the
&quot;Windows<span style='font-family:Wingdings'>à</span>Edit Detectors&quot;
menu item in <i>Image Display</i> and <i>Spectrum Display</i>.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>If a DETECTOR or FILTER file is not found for one of the
examples, try looking for it in the “Storage” directories.</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><b>Note:</b></p>

<p class=Numeric-List style='margin-left:42.55pt'>An energy cursor and energy
entry field have been added to the <i>Edit Detectors</i> windows. Enter photon
energy (keV), or drag a cursor on the plot, to determine the transmission or
efficiency at the cursor energy for filters and detectors, respectively. </p>

<p class=Numeric-List style='margin-left:42.55pt'>If an X-ray line is selected
in the <i>X-ray Identification</i> window (click on a line in the list), the
filter and detector window cursors will be set to this energy.</p>

<h3><a name="_Toc18816569"></a><a name="_Toc18817089"></a><a name="_Toc18817371"></a><a
name="_Toc18907906"></a><a name="_Toc18929335"></a><a name="_Toc18929521"></a><a
name="_Toc19013308"></a><a name="_Toc19015584"></a><a name="_Toc222317521">Detector
Set-up</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Use the &quot;Load&quot; and &quot;Save&quot; buttons to
edit or create detector files.  The &quot;Title&quot; will appear on all
drop-lists for this detector; it should be no longer than about 16-20
characters.  Each detector file contains various parameters about the crystal
and geometry and a number of absorbers which form a composite X-ray filter. 
Select the crystal from the &quot;Material&quot; drop-list, and enter all
geometry parameters in the text fields.  </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>&quot;Diameter&quot; and &quot;Area&quot; are linked, so you
only need to enter one of these.  Units are mm, and keV for resolution (see the
context sensitive help information). The shape of the detector can be selected
between round and rectangular/square. “Distance” is measured directly from
target to the centre of the face of the detector crystal, which is points
directly at the target position unless a non-zero “Tilt angle” is used.
“Solid-angle” reflects area, distance and also tilt angle. A tilt angle will
increase the effective thickness of the active volume.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>An optional scaling factor of 0.717 can be selected to be
consistent with the detector efficiency function of Cohen (Nucl. Instr. Meth.
178 (1980) 481). By default, the volume solid-angle correction of Cohen et al.
is used, to account for the effective reduction of solid-angle for X-rays that
penetrate through the volume of the detector and hence experience a slightly
smaller solid-angle. Strongly collimated detectors, such as Maia with an
inclined Mo mask, should not use this correction, as the solid angle is
completely controlled by the mask/apertures.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=622
height=432 id="Picture 123" src="GeoPIXE-Users-Guide_files/image148.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The number of X-ray absorbers is specified using the &quot;#
Absorbers&quot; drop-list, and the &quot;Define Absorber&quot; drop-list
selects an absorber for editing.  Absorber thickness can be in mg/cm<sup>2</sup>,
microns or Gas (mm NPT).  This is selected using he drop-list beside thickness.
If microns is used, then a density is required.  For pure element filters, this
will be provided automatically by the program.  For a gas filter, density is
calculated from the composition.  Next, the chemical formula of the absorber is
entered beside &quot;Formula&quot;.  This can take various forms (e.g. &quot;N2&quot;,
&quot;CO2&quot;, &quot;(CH2)4(NH2)2&quot;, &quot;(N2)70(O2)29(CO2)1&quot;). 
When brackets are used &quot;()&quot;, then the function of the multipliers
outside the brackets is set by the drop-list on the right. It selects between
&quot;Atomic Fractions&quot; for atomic weighing (e.g.
&quot;(CH2)4(NH2)2&quot;) and &quot;Weight %&quot; for weight % proportions
(e.g. &quot;(N2)70(O2)29(CO2)1&quot;). For a Gas filter, make sure the “()”
contain the main gaseous molecular components.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The bottom line defines special filter properties.  This is
used for pin-hole filters.  When a pin-hole filter is selected by the
drop-list, then a new field appears on the right for the entry of the
solid-angle ratio.  This is the ratio of the detector solid-angle to the
pin-hole solid-angle.  View the context-sensitive help at any time for a
reminder of the function of these fields.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The intrinsic efficiency, including transmission through
this complete list of absorbers, is dynamically updated in the plot on the
right as changes are made. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Position a cursor on the plot by left-clicking and dragging.
The intrinsic efficiency and total efficiency (including the ratio of
solid-angle to 4<span style='font-family:Symbol'>p</span>) is shown for the
current cursor position. If the <i>X-ray Identification</i> window is open, the
cursor here will track the energy of lines selected in the <i>X-ray
Identification</i> window.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>An existing detector file can be loaded and ‘overlaid’ in
“red” on the current detector efficiency, shown in “green”. The ratio of the
new <u>total efficiency</u> to the overlay’s total efficiency is also displayed
offset in “violet” (scaled down by 10).</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Remember to save changes. Once saved, the new detector will
appear in the detector drop-lists in the <i>X-ray Spectrum Fit</i> and <i>X-ray
Identification</i> windows.</p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317522">Detector Arrays</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Two approaches to detector arrays are supported:</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Simple
arrays</b> – Select “Array:<b> Single detector</b>” and specify the detector
parameters for one (central) detector element and assume that all others have
the same solid-angle and efficiency and span a negligible range of take-off
angles at the target. All detectors will be assumed to have the same Diameter,
Distance, Thickness, etc. This works fine for a small array, located at some
distance from the sample where the take-off angles across the array vary
little. The solid-angle shown is for just <u>one</u> of the detectors. </p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal style='margin-left:78.55pt'>This approach assumes that X-ray
yields are the same for each element of the array, which only applies for more
distant arrays. For close geometry, or where some detector element have a more
glancing take-off angle, use the Full array approach below.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:78.55pt'>When the data for all detector
elements are merged into quantitative images, the number, or multiplicity, of
active detector elements (enabled in <i>Sort EVT</i>) will be accounted for in
correcting both the concentration and variance images.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:72.0pt'><span style='layout-grid-mode:
both'><img border=0 width=593 height=430 id="Picture 124"
src="GeoPIXE-Users-Guide_files/image149.jpg" alt=Detector-Setup-simple-arrays></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:78.55pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><b>Full
arrays </b>– Select “Array:<b> Array detector</b>” and specify the layout of
elements in the detector array in a Layout file. The values for Thickness and
Absorbers now apply to every detector in the array. The Tilt is now the tilt of
the <b>array as a whole</b> (individual detector tilts can also be accommodated
in the layout file, e.g. for a hemi-spherical array). </p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<p class=MsoNormal style='margin-left:78.55pt'>Solid-angle is calculated for
the whole array, taking into account relative solid-angle, tilts and variation
in distance. The Diameter and Area value now are for a notional “central”
detector – the yield calculation will relate all yields as ratios to this
“central” detector. Normally, this is set by the user to an area typical of the
central detector elements as specified in the layout file.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:72.0pt'><span style='layout-grid-mode:
both'><img border=0 width=589 height=409 id="Picture 125"
src="GeoPIXE-Users-Guide_files/image150.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:72.0pt'><span style='layout-grid-mode:
both'><img border=0 width=587 height=408 id="Picture 126"
src="GeoPIXE-Users-Guide_files/image151.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:72.0pt'>Click on the “?” button next to
the detector layout “Load” button to display the detector layout.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='margin-left:72.0pt'><span style='layout-grid-mode:
both'><img border=0 width=455 height=639 id="Picture 127"
src="GeoPIXE-Users-Guide_files/image152.jpg"></span></p>

<p class=MsoNormal style='margin-left:72.0pt'><i>Maia 384 detector layout mimic
display.</i></p>

<p class=MsoNormal>&nbsp;</p>

<h3><a name="_Toc222317523">Detector Array Layout File</a></h3>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The layout file lists a number of parameters and the
coordinates and dimensions of the detector elements, relative to the centre of
the detector array. It’s a commented Comma-Separated Text (CSV) file, so you
can view it in a text editor or Excel. </p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal style='page-break-after:avoid'><img border=0 width=557
height=336 src="GeoPIXE-Users-Guide_files/image153.png"></p>

<p class=MsoNormal><i>A typical layout file, for a 7-element Ge detector array.
The X,Y,Z coordinates position each detector relative to the centre of the
array (mm). Width, height are the size of each (mm), and tilt is a tilt angle
(degrees) for each element (positive angles are towards the centre of the
array).</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Detector Layout file parameters:</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>N                        Number
of detector pads</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Shape               Choose
between 0=round, 1=square/rectangular, [2=hexagonal (later?)]</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Start                  The
number for the first detector (usually either 0 or 1)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Symmetry        Rotational
symmetry for array, or number of rotational reorientation steps for 360º
(default is 4)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Reorient           Re-orient
(rotate) the detector layout by this many symmetry steps</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MirrorX            Mirror
the layout in X, before applying re-orientation</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MirrorY            Mirror
the layout in Y, before applying re-orientation</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Veto                  Enable
vetoing (disabling) of detector channels based on FWHM</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Threshold         FWHM
threshold (eV)</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Detector Layout Pad parameters (one row for each detector
pad):</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Index                Unique
index number tag for this detector pad (can be in any order)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>X                        X
coordinate (mm) from centre of array</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Y                        Y
coordinate (mm) from centre of array</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Z                        Z
coordinate (mm) of pad out of plane, towards target</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Width                width
of pad (mm)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Height               Height
of pad (mm)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Tilt                     Tilt
angle of pad (degrees) (positive is towards the centre of the array)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Bad                   Flags
a bad detector element (0=good, 1=poor FWHM, 2=bad and deactivated)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>9.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FWHM             optional
FWHM (eV) for element (see <i>Sort EVT </i> “Get”)</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The Maia detector layout files have additional columns to
encode:</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>10.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>HERMES         Readout
chip group of 32 channels (one of 12)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>11.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Quadrant         One
of 4 quadrants of Maia</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>12.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Radial               Detectors
grouped by radius from centre into 12 groups</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>13.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Column            Grouped
by column (in the 20x20 square array)</p>

<p class=MsoNormal style='margin-left:138.6pt;text-indent:-77.95pt'>14.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Row                  Grouped
by row.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>The options for “Mirror in X”, “Mirror in Y” and “Re-orient
array” are there to rotate or reflect the arrangement to match the organization
of detector numbers as set-up at the beam-line, if necessary.  View the layout
and numbering in 3D as part of the beam-target-detector geometry using the “?”
button on the <i>Yield Calculation</i> window. This can be used to verify that
the correct numbering and position of detector pads relative to the sample
plane and take-off angles.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Click on “?” to view the layout in a pop-up window.  The
Layout window has a FWHM Threshold slider, which sets the limit of usable
detector resolution. You can slide this to reject detectors with poor
resolution in the Sort EVT window (if the “Veto poor FWHM” check-box is
selected; see below). These are shown in Yellow.  Dead detector channels can be
specified in the layout file (bad=2); these are shown in Violet and are
disabled.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><i>Note: This feature of channel veto is seldom used. Use a
SPEC file to include only good, energy calibrated detector channels as a method
to select channels to use (e.g. “Get” button on “DA/E.cal” tab of the Sort EVT
window).</i></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal><span style='layout-grid-mode:both'><img border=0 width=251
height=325 id="Picture 129" src="GeoPIXE-Users-Guide_files/image154.jpg"></span></p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>This rejection can be used in <i>Sort EVT</i> (which also
has a “?” button to invoke a pop-up like this) to veto poor detectors in an
array while sorting raw data to build images. FWHM values are saved in SPEC
file after a fit to all spectra. When the “Get” button is used in<i> Sort EVT</i>
(to retrieve energy calibration for all valid detectors) the FWHM values are
transferred to the <i>Layout</i> window; any missing detector spectra flags a
dead channel. These can be saved to the Layout file, using the Save button. The
dead channels are shown in Violet, and the poor FWHM channels are shown in
Yellow.</p>

<p class=MsoNormal style='margin-left:0cm'>&nbsp;</p>

<h2><a name="_Toc18816536"></a><a name="_Toc18817056"></a><a name="_Toc18817338"></a><a
name="_Toc18907873"></a><a name="_Toc18929305"></a><a name="_Toc18929491"></a><a
name="_Toc19013254"></a><a name="_Toc19015524"></a><a name="_Toc222317524">Platforms
Supported:</a></h2>

<p class=MsoNormal>The supported workstation OS at present is Windows Win10,
under IDL 8.5 (8.6, 8.7, 8.8) and Linux. GeoPIXE has been ported to the Mac,
but there is limited support for that mode. Enquire if this is needed.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>GeoPIXE can sort list-mode data written using various data
acquisition, operating systems and byte order (Endian type), including Linux
(MPsys, Maia-384), Unix (MPsys, APS MDA, GSE-CARS, Hasylab, NSLS HDF), MacOS
(KMax), PC Windows (OM DAQ, FastcomTec, MPAWIN, MPA3, MPA4, Labo, and
Primecore) and embedded systems (CSIRO Maia/Hymod). IDL support for VAX/VMS
(XSYS) has been discontinued.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Quality spectroscopy, including good fits to PIXE and SXRF
spectra, are best achieved using electronic pile-up rejection or digital signal
processing. The lack of pile-up rejection produces pile-up tailing, which
degrades detection sensitivity and should be avoided. It is not treated in
GeoPIXE; the pile-up model assumes that some form of pile-up rejection is
active.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Using a 64-bit PC with 8-16 Gbyte RAM, gives good
performance. 32-bit operating systems, such as Windows suffer from memory
limits per process and should be avoided unless your image sizes are not large.
On Linux this means a 4 Gb limit. On Windows the limit becomes effectively 1.2
Gb or less due to system limitations, which limits image sizes to about 2500 x
2500 pixels. 64-bit operating systems are essential for large data-sets and
resulting image sizes, such as generated by the CSIRO Maia detector system
(images up to 1 G pixel have been acquired). A large monitor, or better still
dual LCD monitors, and the use of high resolution (1600 x 1200 minimum) are
recommended. Plenty of disk space is also recommended.  Processing speed (e.g.
using parallel processing and IDL RT) is directly linked to disk throughput and
so fast disks or SSD are recommended.</p>

<p class=MsoNormal>&nbsp;</p>

<p class=MsoNormal>Large Maia detector data-sets benefit from parallel
processing using multiple processes across a multi-core processor. To make use
of this you need a run-time IDL or higher license and enable the “cluster” mode
where it appears. Data throughput is then limited by the total disk bandwidth
of your system. However, data throughput of between 100-400 Mbytes/second can
be achieved.</p>

<b><span style='font-size:14.0pt;font-family:"Arial",sans-serif;layout-grid-mode:
line'><br clear=all style='page-break-before:always'>
</span></b>

<h1><a name="_Toc222317525">New Features in Each GeoPIXE Release</a></h1>

<p class=MsoNormal>(also see the “Update Notes.pdf” file in the Help directory)</p>

<h2><a name="_Hlk73529314"></a><a name="_Toc222317526">New Features in 8.8:</a></h2>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>GeoPIXE open source</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Changes made to the directory structure and organization and the
building approach for GeoPIXE has been assigned a new version 8.8.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>This assumes the latest IDL 8.8.3.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>For now, this is assumed to be built against py3.8 if any python
extension is needed.</p>

<h2><a name="_Toc222317527">New Features in 8.6:</a></h2>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>GeoPIXE python extensions</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Extensions to GeoPIXE, which make use of the python bridge in IDL, need
to be compiled for the version of python being used. To handle py2.7 versus
py3.8, a simple branch of GeoPIXE has been defined. Version 7.6 continues to
assume py2.7, while v8.6 is compiled against py3.8. The source code remains the
same, but the SAV files are created against the respective python. </p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Version 8.6 supports export in ZARR format, which requires py3.</p>

<h2><a name="_Toc222317528">New Features in 7.6:</a></h2>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>GeoPIXE is a workflow</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>GeoPIXE can be launched passing it arguments so it will do processing
triggered within a data workflow.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Buttons labelled “C*” on various windows are used to output GeoPIXE
Command Files (.gcf) , which provide templates of parameters to use for
workflow processing.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>See the GeoPIXE Software Organization PDF.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>MPDA analysis</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>If an .mpdam file references the wrong phase maps (not for the current
image data), it will generate these (perhaps doing a normal DA process first
and correcting for composition effects on yields).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>A new “Master Weights” spectrum is recommended when generating DA
matrices for Yield Correction and MPDA. This spectrum should be more
representative of the major elements seen across your sample.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Line XANES</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Use the pixel values from an “energy proxy axis” as an index into a
supplied energies table to allow changing energy to be tracked during event
processing. This flags “Line XANES” mode.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>A DA matrix stack is expected, calculated for each value of the energy
table along the XANES beam energy scan. These do not need to be equally spaced.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Export of regions in XY, in Line XANES mode, treats the “ProjectX” and
“ProjectY” regions differently. These are collapsed onto the projection axis,
using an average across the line, and the average along the projection exported
to tab or comma separated formats.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>RGB image export script</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The export of RGB images as plots can make use of a “RGB Learn” script
to output all RGB element combinations in the script in the selected export
format.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add ZARR image export</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The image data structure can now be exported in ZARR format for AWS
Cloud service operations.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The requires python 3.6+ support, and operating GeoPIXE under IDL 8.8+.</p>

<h2><a name="_Toc222317529">New Features in 7.5:</a></h2>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Crop image data-sets</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Have a new menu item “Crop to shape”, which crops an image to the (XY
extent of the) current shape, which creates attributes for the image consistent
with a “windowed sort”.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Dropped the menu items for “Clip to  right” and “Clip to top”.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Spectrum plot export</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add export to PNG and JPEG formats to draw spectrum plots in a large
bitmapped field, to avoid ongoing issues with Windows veto of the CGM standard
for vector graphics and the unavailability of WMF on non-Windows platforms.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Export of images within regions</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Now has the option of setting the pixel values to zero for any pixels
output outside (irregular) region boundaries.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>6)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Image “missing line” correction improved</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The correction of missing lines in images has been improved using
bilinear interpolation.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>7)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Compare RGB images</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Now 2 additional image data-sets can be loaded into the RGB Image
window, so that the RGB planes can be selected from 3 image data-sets (current
one plus the 2 “compare” data-sets).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>8)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Correct image zeroes improved</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Now uses up to 3 passes to iteratively replace image zeroes with local
neighbourhood interpolation.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>9)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Inter-element operations</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Pop-up window to control pixel-by-pixel operations between selected
element planes. Save once desired correction is achieved.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Use this to subtract identified artefacts in images, for example.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>10)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span>Region spectra extraction</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Extraction of a huge number of regions from large images can require
huge allocation of temporary memory during processing. This is now detected,
and the extraction of large numbers of regions (e.g. 2000 for hotspot analysis
of huge images) will proceed in multiple passes. A pop-up message will alert
the user to this.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>File-Requester and finding files</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The File-Requester endeavours to find files provided by searching in the
local directory tree, if they are not found where expected from their complete
filename with path. Hence, if dir structure has been changed, or files moved to
a new system, the File-Requester (called behind the scenes from various window,
such as Sort EVT and Image Regions) will work to find them locally on the new
system.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>You may see a progress bar appear when a search is underway. If it is
taking too long, or clearly wandering into unwanted parts of a dir tree, you
can “Cancel” it and navigate to the lost file.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>5)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Handling large data-sets</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Given enough computer memory, GeoPIXE handles images beyond 200 M pixels
with no special methods. Images up to 1 G pixels have been handled by using a
Windowed sort to handle them in 4 parts.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-17.85pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Using very large number of Regions on large images becomes a challenge
(e.g. 2000 regions on a 30 M pixel image). To deal with this, the extraction of
spectra from these regions may be split automatically into a number of passes
(e.g. example above uses about 4 passes).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt;text-indent:-17.85pt'>6)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Export of RGB images</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>‘Max area’ option to remove as much of the border trimming as possible.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Linearize
spectrum plugin</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Now fitting to 13th order in double precision.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>New
device object driver for NSLS XFM beamline HDF5 (.h5) data</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Still needs work on dead-time correction.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>New
device object driver for EDS HMSA map data</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>As used for files converted from Tornado BCF format to HMSA by the
BCF2HMSA program.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>These files appear ~20x larger.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Minimum of metadata is acquired, so we are missing dwell and pixel size
in particular.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Update to device
object driver for Oxford Microbeams OM DAQ (.lmf) data</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Cater for Header_Version 14 (rundata 9, adcinfo 9, file-structure 2) and
LMF-version 4.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add ‘eqn’ struct to sample in rundata, and QscalerCount to end of
rundata.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Expand adcinfo, and add ‘timing’ struct.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>For LMF version &gt;= 4, also now read pixel address lookup table.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Events now has PixelIndex and Composite E,channel,multiplicity Long
word.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Layer plot</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Plotting of yields now has a plot of Escape depth (depth at which yields
drop to 1/e).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Use the new X axis display for “Z” and Y axis “Escape Depth”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Associations</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Added new menus to be able to further refine an element-element
selection. Now you analyze the spline selection using &quot;Include points
within spline&quot; menu. Then on different element axes, you can further trim
down this selection using two menus: (i) &quot;further refine within
spline&quot;: using a new spline on the new two-element plot, only the points
from the first selection that also are contained within the new spline are
kept, and (ii) &quot;reject selection within spline&quot;: use new spline as a
tool to edit the selected points, deleting any points within the new spline
curve.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Added a check-box (next to Z scale drop-list) to enable display of
current pixel selection on Cluster plots, highlighted in green. This shows the
current selection, after any multiple 2D field ‘include’ or any ‘exclude’
edits.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>New device object
driver for XRF mapping data from iXRF Atlas.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Does not handle 16-bit characters in header JSON. Data format now uses
8-bit ASCII only.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>14)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Background in X-ray
fit can now be split into two components.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>This I useful for continuum XRF spectra, such as from Maia Mapper, to
split the lower background under major element peaks from the large hump from
filtered continuum from the source.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>15)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>New alternate storage
for detector and filter files.</p>

<p class=MsoListParagraph style='margin-left:96.4pt'><span style='font-size:
10.0pt;font-family:"Times New Roman",serif;layout-grid-mode:line'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;font-family:"Times New Roman",serif;layout-grid-mode:
line'>Looks for detector files in geopixe main directory, but also
‘config/detectors’, with config defined in ‘geopixe.conf’.</span></p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Looks for filter files in geopixe main directory, but also ‘config/filters,
with config defined in ‘geopixe.conf’.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>16)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>File Requester will
now often try searching neighbouring directories, or down directory trees.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>If this is failing to find a match, just select “Cancel” to bring up the
file requester browser.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>17)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Revised Export plots
from Image and RGB Image windows.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>These now offer more options, such as hot-spot analysis
indication/highlighting.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Output is now from the IDL Z buffer to high resolution image files (e.g.
JPEG), which preserves resolution of images to well beyond 10,000 pixels across
when imported into PowerPoint, etc.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Option of using absolute stage coordinates in plots.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>18)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Batch sorts</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Added an RGB output images option. The RGB Images window will be opened
(if not open) and the names of an export Learn list will be prompted for. This
will generate full resolution RGB images for all combinations in the Learn
list.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>19)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Hot-spot analysis</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add new tabs and controls to the <i>Image Regions</i> window to
decompose a region into isolated hot-spots, which then appear as separate
regions.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Use this on regions constructed for Thresholds of selected elements and
field selected in the Association window.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Can also for regions of the immediate “Neighbourhood” of each hot-spot.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Spectra for region hot-spots can be extracted, as for normal regions.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Deletion options allow matching spectra to be deleted, and the sum
hot-spot region updated as regions are deleted.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Exported Regions table will include the X,Y centroids for the centre of
gravity of each hot-spot.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>20)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Image Regions</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>New organization of the buttons into tabs (Load, Modify, Delete,
Extract, Hotspots), and add new feature (modify highlight pixel selections,
with Erode, Dilate operators).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Image Regions table can be sorted by clicking on the heading for each
column.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Can now drag select multiple rows (e.g. for deletion). Click and drag
down in any column (except the row label).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The EVT button will now go searching in the directory tree in
neighbourhood of the current directory to find the raw data. This is useful for
full file-names with paths saved in files from different computer systems.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Regions table now has a “Pixels” column, which shows the number of
pixels selected in a region (shape or from Associations spline selection).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>A new “Modify” tab allows operations on region pixel selection to
“Erode” or “Dilate” these pixel groups.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>21)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Sort EVT window</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>File requesters now go searching in directory tree in neighbourhood of a
given file name. This is useful for full file-names with paths saved in files
from different computer systems. These search up the directory tree and down
looking for the file (especially for raw data files). If this is failing to
find the selected filename locally, just click on “Cancel” to cancel the search
and revert to the file browser.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Cluster processing progress bar now shows the number of remaining
background processes. These count down as the background processes complete
their part of the sort.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>22)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>New IDL version 8.7/8.8
support</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>IDL 8.6 introduced a whole new licensing scheme and removed some
features that GeoPIXE was using.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>In GeoPIXE 7.5, workarounds have been developed to use IDL 8.6.1 and 8.7/8.8.
But these require the generation of new license keys (“license.sav” files).</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>IDL is needed for Python bridge support after Anaconda python introduced
various features that broke the usual bridge operations. This is only needed
for extensions to GeoPIXE for Maia Mapper support.</p>

<h2><a name="_Toc222317530">New Features in 7.4:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>3D
detector geometry display</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Each detector is offset by thick/2 in Z so that the front face appears
at the correct distance.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Local detector pad tilt added to 3D modelling.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Window
placement in GeoPIXE</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Worked around issue under Linux where windows would jump to original
position.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>New
device object driver for FalconX from XIA:</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Cater for merged data-streams from multi-detector arrays, as handled by
Australian Synchrotron daemon.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>To cater for long headers, if no Y found in first read, reread 6 MB of
data.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Handle up to 6 stage axes and 4 FC channels.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed
bug in continuum source spectrum modelling of attenuation.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Only effected continuum source spectral modelling, as used in Maia
Mapper.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Batch
processing of event data to images, and image operations.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Allow for a limited range of run numbers to process.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Better updating of paths after a change in Sort EVT window.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
option to output RGB Images based on a selected Learn list,</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>The RGB images will be output at full resolution, by default, with
options to reduce the image size.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Maia
data processing for Maia Mapper</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Allow “ms” to be a new charge/flux unit to use simple dwell time as a
flux weight.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Maia
device improvements</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Allow for flipping of the X (and Y) axis to cater for the reversal of
stage X axis on Maia Mapper on the Left stage of each system.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Kill/
blank pixel values</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Image processing menus to kill pixel values within current pixel (and
optionally to this is all element planes).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>NSLS_MARS_Ge device</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>New device NSLS_MARS_Ge device for binary data from MARS Ge system.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Two long words per event: First is E,T,adr in Maia event_1 format,
Second: long word time stamp.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Sort EVT</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Permit the final data file (in a data file series) to be in the next
numerical (run) directory.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>This still has problems with the YLUTs, so do not use Cluster mode for
now.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>New image plugin: Raw
Count Rate image display.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Plot a histogram of detector count rates.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Image Regions table:</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Add “Centroid X” and “Centroid Y” to display mode drop-list.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>14)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Continuum XRF source
model</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Allow alloy anode composition</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>With polycapillary transmission function.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>15)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Filter and detector
setup</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Allow Gas layers under NPT conditions.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>16)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>OM DAQ device: Header
read:</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Added support for header-versions 12, 13.</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
3.0pt;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Problem has emerged in the live-time values returned. Needs to be fixed.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>17)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Sort EVT</p>

<p class=MsoListParagraph style='margin-left:96.4pt'><span style='font-size:
10.0pt;font-family:"Times New Roman",serif;layout-grid-mode:line'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-size:10.0pt;font-family:"Times New Roman",serif;layout-grid-mode:
line'>Add a “Get” button to Scan tab to retrieve Box offset/range for windowed
sort.</span></p>

<h2><a name="_Toc222317531">New Features in 7.3:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>MPDA
is a new approach to quantitative imaging that solves: (i) quantitative per
pixel concentrations (equivalent to the older &quot;Correct Yields&quot; matrix
method), (ii) better X-ray relative intensities that evolve spatially with 
composition, and (iii) improved background shapes that adapt with composition
changes.</p>

<p class=Numeric-List style='margin-left:60.4pt'>It is triggered by selecting
the “Multiphase DA (MPDA)” mode and supplying a new .mpdam file on the Sort EVT
window DA/Cal tab.  The .mpdam file is created by clicking “New” and selecting
in the popup window:</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>path to 'phase map' .dai file</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:96.4pt;text-indent:-18.0pt'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>path to the &quot;Correct Yields&quot; setup .correct file</p>

<p class=Numeric-List style='margin-top:0cm;margin-right:0cm;margin-bottom:
0cm;margin-left:60.4pt'>&nbsp;</p>

<p class=Numeric-List style='margin-left:60.4pt'>To use it, you need the
following (later we'll have a Wizard to orchestrate these steps):</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Identify
end-members</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Identify end-members components, and elements that provide a measure of
each.</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fit
regions that sample the end-members as much as possible, using a yield
calculation with composition for the end-member, and make a DA matrix for each.</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Also fit a region that samples a background component that will be used
as a remainder component called &quot;Rest&quot;.</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Correct
images using the &quot;Correct Yields&quot; method</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Open the &quot;Correct Yields&quot; window and select components,
elements that sample each and their matching DA matrices from above, and fill
in the composition matrix that relates end-members to their elements.</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Also
select the DA matrix to be used as the remainder &quot;Rest&quot; component.</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>c.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Open the .dai image foe for tyour sample, and click &quot;Correct&quot;
to correct concentrations based on the end-member (phase) proportions.
Typically, this needs 2-3 iterations (press button again).</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>d.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Save
the setup as a .correct file.</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Project
end-member or phase maps</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Click in &quot;Mineral&quot; to project the end-member or phase maps.</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>b.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Save
this as your 'phase map' .dai file.</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Create
your .mpdam file as discussed above</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Use the popup window, and select the 'phase map' and 'Correct setup'
file paths from above.</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
&quot;Multiphase DA (MPDA)&quot; projection mode.</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>On Sort EVT DA/Cal tab.</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>6.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Select
this .mpdam file in Sort EVT (DA/Cal tab)</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Change the file filter to &quot;*.*&quot; and select the .mpdam file.</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Start
the sort (you can use &quot;cluster&quot; mode for Maia data).</p>

<p class=Numeric-List style='margin-left:125.65pt;text-indent:-18.0pt'>a.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Normal GeoPIXE functions work the same from there, but you should see
better concentrations in images, and better region spectra overlays.</p>

<p class=Numeric-List style='margin-left:60.4pt'>Warnings:</p>

<p class=Numeric-List style='margin-left:89.65pt;text-indent:-18.0pt'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Phase
maps only work if the (corrected) image data is quantitative so you get
realistic phase proportions for each component.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
File-Requester has been improved, and can find referenced files (e.g. DA matrix
files in a range of places in the current directory tree, or via the
translation tables, where it will look up those alternative trees as well. Use
the Translation tables to translate from path roots (the first part of a path,
which is local to a computer/file system) to the matching root on the new
computer/file-system.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
'Sort EVT' window now supports XANES stacks sorted directly from 3D Maia data.
This requires spatial information for X,Y as well as energy Z (or mono angle)
to be captured by Maia encoders and selected for position output as axes 0,1,2.
Re-direction from the 0,1,2 axes onto GeoPIXE X,Y,Z is done in the Maia device.
The re-direction also allows sorting 3D data into normal 2D maps with selection
of the 2 axes to display as X,Y.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
device drivers for the iThemba Labs Midas data acquisition system, the new
HYMOD-based CSIRO DAQ 36-channel data acquisition system and the FalconX
list-mode data acquisition system (XIA and Southern Innovation drivers) used by
the CSIRO Nuclear Microprobe.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Improved
Maia device drivers for new record tags and better error detection.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Parallel
processing (‘cluster’ mode) has been improved, so that multiple instances of
GeoPIXE can be run in cluster mode in parallel. However, avoid running EVT
spectra extraction at the same time as Image <u>sorting in the same GeoPIXE process</u>,
as this won’t work.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>X-ray Spectrum fit</i> now supports iteration on sample composition during
the fit. This can be set-up using the “Multiphase Loop” tab, which allows
selection of a yield correction matrix, which parallels the composition matrix
in the correction of images using the <i>Correct Yields</i> window and makes
use of an end-member decomposition approach to cater for major element terms
and missing elements.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Filters
and absorbing layers (e.g. in detectors) can include a new thickness mode ““Gas
(mm NPT)” for mm of gas at normal pressure and temperature (20 °C, 1013.25
mbar). If spectrum data files include P,T, then this is used to adjust for
ambient conditions in detectors and filters.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Shared
memory scheme has changed (e.g. in parallel processing using the “cluster”
mode). The change means that the log files for the background processes have a
different unique name and so will accumulate in your ~/.geopixe directory.
Delete old ones occasionally.</p>

<h2><a name="_Toc222317532">New Features in 7.2:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Improved
the management of background processes in Maia_Control for Maia detector
real-time monitoring and real-time DA imaging.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Develop
a work-around for Linux file-system not reporting write ability of directories
through IDL correctly on some file-systems.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Developed
a new <i>Import Fit Wizard</i> to import a series of raw data files and produce
spectra.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed
bug that sometimes lost the top row in some frames of XANES image stacks. </p>

<h2><a name="_Toc222317533">New Features in 7.1:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Some
new metadata is read from Maia blog files, and these can populate the 'pileup'
and 'throttle' fields in <i>Sort EVT</i> and in spectrum Import. When you start
the sort, if the paths to these files is not correct, it will prompt for new
paths; navigate to the new location, or perhaps use the 'translation table' in
the file requester to translate from old paths (e.g. as they are used at XFM or
on Massive) to your new path (e.g. on your laptop, lab computer or on Massive).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>Maia_Control</i>:
The main addition is catching the ion chamber details from Kandinski variables
'flux.chan[].coeff' and 'flux.chan[].unit' to set the sensitivity of the
'Maia:scaler.FC0' and 'Maia:scaler.FC1' PVs for the built-in Maia scalers for
flux IC0, IC1. If these are being set by the beamline, then they will be
flagged as 'remote' in Maia_Control, and you will not be able to change them on
the &quot;Imaging&quot; tab.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
dead-time calibration coefficients “DTcalA” and “DTcalB” are now set
automatically from the Scepter slope parameter.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new image file format reads header information quicker for faster
file-requester preview.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new menu “Image History and pixel statistics” on the <i>Image</i> window adds
pixel statistics to the Properties for the image.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
a new ‘FalconX_device’ for the Southern Innovation-XIA FalconX tests done at
XFM. This will change in future as the draft list-mode format is refined.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
‘Windowing’ sort options in <i>Sort EVT</i> now allows negative offsets, if
your list-mode data (accidentally) move into negative XY.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Sort EVT</i> window now supports XANES stacks sorted directly from 3D Maia
data. This requires spatial information for X,Y as well as energy Z (or mono
angle) to be captured by Maia encoders and selected for position output as axes
0,1,2. Re-direction from the 0,1,2 axes onto GeoPIXE X,Y,Z is done in the Maia
device (and can be set on the <i>Sort EVT</i> “Device” tab). The re-direction
also allows sorting 3D data into normal 2D maps with selection of the 2 axes to
display as X,Y.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
new scan modes to <i>Sort EVT</i> to cater for XYZ data-sets for XANES (“Scan
in XY and Z (energy)”) and for tomography (“Scan in XY and Tomo angle (Z)”),
used with the “3D Stack” mode. The first generates a single XANES stack .XAN
file, while the second builds a series of tomo stack .XAN files, one for each
element, all in a single pass through the 3D data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Added new escape modes
in the <i>Cal</i> window to cater explicitly for Ge and Si detector escapes.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>New image region
modes: “Single pixel”, “Project X” and “Project Y”. The latter are like
“Traverse” but constrained into the X or Y directions only.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>A new <i>Standards
Wizard</i> has been developed to automate processing of standards samples and
the determination of the “conv” calibration factors across a run. These will
use new metadata that will start to be seen in raw blog data from late August,
2015.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>13)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Corrected problems
with stopping background processes in <i>Maia Control</i> and <i>GeoPIXE</i>.</p>

<h2><a name="_Toc222317534">New Features in 7.0:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
device drivers have been changed and are incompatible with the older versions.
To use v7.0 you need to use the new drivers, and correct any drivers you have
written or modified. The key changes are (see the source pro files):</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>The keywords for the methods 'read_setup' and 'read_buffer' have
changed. Check           the new source files. A few obscure keywords are now
optional, and a new keyword 'veto' has been added for a vector to flag rejected
events to parallel the normal  'x1,y1,e,t' vectors.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>'n' is now the full return length of the 'x1'y1'e,t,veto'
vectors.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>'good' is the number of good events in 'n', which is the same as
'n' if 'veto' are all zero.</p>

<p class=Numeric-List style='margin-left:78.4pt;text-indent:-18.0pt'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>'veto' an optional return to show events for GeoPIXE to ignore
(veto[i]=1). </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>This
will make it necessary to modify device drivers a little going from version 6.6
to 7.0. See the notes documents in file “GeoPIXE-device-devel.zip” in the Help
dir.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
Maia 384 device driver has been updated to get rid of old test code. It can now
provide a better template for stream directed list-mode devices.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Updated
device object drivers for Maia, NSLS NetCDF, NSLS MCA, NSLS HDF, GSE-CARS,
Hasylab, ESRF EDF and NSLS NetCDF.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Now
each load of a spectrum or image will use a new instance of the device object
relevant to the data, and so the device specific parameters (e.g. in Sort EVT
window “Device” tab) will be independent and not ‘global’ to the session.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
a “Wizard” plugin approach, and a wizard for depth profiling of particle
hot-spots in images. This works for an array detector with detector elements
that span a wide range of take-off angles, such as Maia. See the new “Wizard”
menu under the image “process” menu. During development and debugging of a user
written Wizard in IDLDE, the Wizard will automatically load GeoPIXE. More on
Wizards later as the hooks into GeoPIXE are added.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>IDL
‘file_test(/write)’ does not work correctly on some Linux mounted drives, so a
workaround was used using a test file creation.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
GeoPIXE file requester now has a “Find” field, which will (on &lt;return&gt;)
search for a supplied file-name (with wild-cards) in the current directory
tree, and if a file is found, set the dir in the file-list to the file’s
directory.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new option on the “Display” “Colour” menu allows an alternate spectrum colour
palette that may help Red-Green colour visually challenged users.</p>

<h2><a name="_Toc222317535">New Features in 6.6:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
Fastcom MPA3 device has been extended to provide X,Y ADC selection widgets in
the “Device” tab of the <i>Sort EVT</i> window, for the selection of X,Y ADCs
for image data processing. New image DAI files will save this information.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Changed
the way shapes are drawn on images. Now do not round on display as shape is
moved. So movement is nice and smooth, even at large zoom and very pixelated
images. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fix
bug in Sort EVT that forced global (post cluster stripes) flatten even if not
set.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Align
image plugin now compares all images to first one to get absolute X,Y shifts.
This fixes occasional error creep that became an apparent drift of position.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fix
error in Plot Images with “absolute” so that switch to ‘microns’ below 0.3 mm
range does not happen now, which upsets plot scales.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Correct
edge behaviour in shift image rows to extend and not wrap/rotate.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>New
PIXE/SXRF Depth Profile Calculation added to window menu of Spectrum Display.
This allows you to combine “inner” and “outer” detector selections to call the
yield calculation to calculate ratio of yields for elements from grid yield calculation
data to output spreadsheet compatible output for depth determination. A full
implementation is underway.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Image History</i> window now shows image version number.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Add
Bauer <i>et al.</i> AES (H.E. Bauer, &quot;A fast and simple method for
background removal in Auger electron spectroscopy&quot;, Fresenius J Anal Chem
353 (1995) 450-455) background algorithm as a plugin.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Fixed issues with
Geopixe_update on certain Linux systems.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Fixed a bug in
Windowed image sort mode that offset the flux map incorrectly.</p>

<h2><a name="_Toc222317536">New Features in 6.5:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Maia
Control has been extended to cater for both “Project” and “Group” directory
specifications in the on-line acquisition path.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
the Spine 100 region shape for very fine control of selected regions.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Added
“Reload User Plugins” menu to search for all existing and new plugins and
reload them. Use this if you recompile a plugin that is in use, or if you
compile a new one that needs to be added to the “Process <span
style='font-family:Wingdings'>à</span> User Plugins” menu.</p>

<h2><a name="_Toc222317537">New Features in 6.4:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Geopixe_update.sav
extended to allow the use of a proxy server if this is required at a user site
to access the GeoPIXE FTP server. Geopixe_update also displays recent news of
new features and changes during the update download, from the “news.txt” file in
the Help directory.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Fixed
a bug in the “Spectrum_add” routine that affected the “Add (remap cal)”
operation that adds spectra by energy after remapping by energy calibration.
Some low counts channels were becoming zeroed.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Streamlined
file selection using the “EVT” button for spectra extraction. It now does not
prompt for named files that it can find. You will only get a file-requester to
confirm the output .spec file-name (this should be the same as the .region
file-name if you remembered to save it first) and any files not found (because
the paths have changed).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Selective
image sorting: The<i> Sort EVT</i> window “Scan” tab now has extra fields to
select the sorting of a selected sub-region of the full image area. Use this to
select a portion of the full image area (which may be huge for Maia data) and
produce images for that sub-region without any compression. This is handy for
producing full-resolution sub-region images from a huge scan that can’t be
loaded into 32-bit machines. For the present, select sub-regions using a Box
shape on the full-image and read off the offset and size (in uncompressed pixel
units) from the context help field when you lift your mouse finger after
moving/dragging the Box.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>WARNING:
The format of .dai and .region files has changed with this release and cannot
be read with previous versions of GeoPIXE.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
keeps track of the offset into this sub-region, so that regions can be used
interchangeably between the full-scan image (probably compressed) and the
sub-region images for average concentration estimation and spectra extraction.
Box shape coordinates in the Image window show both absolute and relative (to
sub-region) pixel and XY coordinates in mm.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new menu item in the File menu on the Image window called ”retry cluster image
combine” can be used to re-assemble image stripe image files (*.DAI.n) if the
cluster processing stops due to a lack of memory (e.g. on 32 Window systems).
After regaining some memory, use this menu and select the *.DAI.n files to
combine.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The<i>
Detector Select</i> window (opened from the “Array…” button on the <i>Spectrum
Select </i>window), now has a “Get” button to set detector channel selection
based on the detector channels found in a selected SPEC file. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
Spectrum Select window “Delete” drop-list now has new entries to delete “not
selected spectra”, “not displayed spectra” and “spectra with invalid energy
calibration”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>Added XANES spectra
(non image data) sorting from directories, such as for Maia data acquired with
a new energy step in each dir. Use the XANES radio button on the top of the
Sort EVT window.</p>

<h2><a name="_Toc222317538">New Features in 6.3:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>New
record header information for data from the Maia detector enables per pixel and
per detector accounting for dead-time and pile-up losses and the use of the 2
Maia hardware flux counter inputs. New features in GeoPIXE 6.3 use this data to
provide: (i) correction for dead-time in images and spectra, (ii) correction
for pile-up losses, (iii) use of the hardware counters for accurate
pixel-locked integration of flux using pulse streams from V-to-F preamplifiers.
A new calibration (DTcal A, B) is included to convert time-over-threshold T to
ns for dead-time measurement.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
number of new plugins enable display if (i) raw flux map, (ii) dead-time map,
(iii) pile-up loss map, (iv) dwell map, and (v) detector channel dead-time and
pile-up histograms.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Consistent
use of parallel processing options for multi-core acceleration of imaging,
spectra import and spectra extraction from regions. Core number is configured
in the “geopixe.conf” file, which is normally read from your home .geopixe
directory (if not found a copy will copied there from the main geopixe dir).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Spectrum Select</i> window has been revamped for more flexible selection of
spectra based on detector channel, especially for detector arrays. The new
“Array…” button opens the <i>Array Detector Channel Selection</i> window, which
provides a mimic display of the detector array on which to select desired
channels. Selection class options allow selection in groups based on row,
column, radial position, odd, even and underlying hardware (chip, quadrant)
relevant to the Maia detector array. Groups of detectors can be deleted using
these selection classes and other groupings, or by drag-selection in the <i>Spectrum
Select </i>table.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new updater program has been added to GeoPIXE (standalone as
“geopixe.update.sav” and spawned from <i>GeoPIXE Image</i> Help menu) to manage
updates of software and support files for registered users from the GeoPIXE FTP
site. See the file “Help/GeoPIXE-update.txt” for details.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Spectra
can be selected by clicking on them in <i>Spectrum Display</i> when in
Highlight mode. This is useful to select one spectrum feature of interest from
hundreds of overlaid spectra when displaying up to 384 spectra from the Maia
detector array. Click on the spectrum data for one channel to make it the
highlighted channel. Avoid clicking on markers to select the spectral data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>XANES Image Stack </i>window has been extended to provide (i) importing
image frames to build a XANES image stack, (ii) normalization of frames to
flux, (iii) coupled display scale auto-scaling to maintain the relativity
between frames, (iv) the determination of selected feature centroids for region
shapes, and (v) shifting of image frames to match centroids across a stack
(“Match Centroid” feature of <i>XANES Image Regions</i> window). To support
XANES, image frames now contain beam energy and a Z (energy) axis coordinate
list to permit irregular energy steps across the XANES spectrum.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>8)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Support
for the Maia detector hardware counter inputs FC0, FC1 has been extended. These
counters are tightly registered to pixel address in hardware. Now they can be
selected and used as ion-chamber or beam charge integrators and images from
both inputs are projected along with elemental images, normalized to the
currently selected flux/charge map, during DA and ROI image generation. They
appear as the images “Flux0” and “Flux1”. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>9)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>New
Process<span style='font-family:Wingdings'>à</span>Shift menus have been added
to the <i>XANES Image</i> window to allow added correction functionality for
backlash removal. If the sense of backlash changes between XANES frames, due to
a reversal in stage direction (a problem occurring for a time using XFM scripts
for XANES stacks with an odd number of Y rows), then a new set of menus allow
‘toggling’ or reversal of the sense between frames.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>10)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>A stage movement
problem at XFM that resulted in a drift in apparent Y coordinate in images
between<i> XANES Image </i>stack frames, can now be corrected using the new
menu “Process<span style='font-family:Wingdings'>à</span> Correct<span
style='font-family:Wingdings'>à</span>Correct Y drift”. This detects zero/blank
rows at the bottom of subsequent image frames to remove the drift. Use this in
conjunction with the “Match Centroids” feature of the<i> XANES Image Regions</i>
window to correct for position jitter or drift between frames in a <i>XANES
Image</i> stack. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>11)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>The detector model
(see “Edit detector” menus) has been extended to make a distinction between
normal detectors that may have a volume effect on effective solid-angle (higher
energy X-rays penetrate deeper into a detector and hence “see” a smaller solid-angle)
and those that use highly absorbing collimation that prevents this volume
effect, such as Maia. Use the “volume solid-angle correction” check-box to
select this (or disable it for Maia). The layout arrangement of a detector
array can now be viewed using the “?” button next to the Layout file name
field. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>12)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; </span>The DA matrix can now
be generated for an entire XANES energy series. Options on the “Generate DA
matrix” button in <i>X-ray Spectrum Fit </i>allow the selection of a normal DA
matrix or a XANES series DA matrix, and there are new facilities for generating
the XANES energies files (<i>Spectrum Display</i> window menu “Import <span
style='font-family:Wingdings'>à</span> Energies from list-mode” and <i>XANES
Image</i> window menu “Export<span style='font-family:Wingdings'>à</span>XANES
energy list). The XANES series DA matrix can then be used for imaging frames in
the XANES image stack using Sort EVT as before. However, the correct energy
matrix is used for each step in the XANES stack series and spectra overlays on
extracted spectra from regions on single frame images will use the correct beam
energy for the “DA Fit” overlay. For edge energies below 6.5 keV, the Compton
and elastic peaks begin to merge and are combined in the DA matrix (element
called “scatter”).</p>

<h2><a name="_Toc222317539">New Features in 6.2:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>While
the effects of the varying sensitivity of detectors across a detector array has
been used in GeoPIXE for some time to correct model calculated X-ray yields,
the relative intensities needed for spectrum fitting have just used the
integration through the multi-layered sample and correction for filters and
detector efficiency for the ‘central’ detector element only. Now for each
spectrum, the detector elements that were active in contributing to the
spectrum are used to calculate a weighted average of relative intensities for
each detector, including intrinsic efficiency and external filters across the
array.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Certain
Image parameters displayed in the <i>Image Properties &amp; History</i> window
(Windows and File menus) can now be edited. Just double-click on the text
fields for Sample, Grain and Comment, the Scan Size or Origin, or the Charge
and Conversion factor fields to pop-up an edit window. Most parameters are
fixed and reflect parameters used in the Sort or later image processing steps.
To change fundamental parameters, such as DA Matrix and element list,
Compression or flux PV selection, the data will need to be re-sorted in <i>Sort
EVT</i>.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Association</i> window has been revamped to provide axes and better control
over the displayed concentration ranges in X and Y. The 2D histogram Z scale
can also be displayed using Sqrt of histogram frequency to compress dynamic
range. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Version
6.2 includes a new window for <i>XANES Image Stack </i>construction and
exploration, accessed via the <i>Image</i> window Display menu. More on this
later …</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
preferences are now kept in a config file “geopixe.conf” in the “.geopixe”
sub-directory to your home directory (if not found it will search in the GeoPIXE
directory). It can be edited to set-up default paths, cluster and parallel
processing parameters, window startup and image origin. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>6)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Similarly,
file path bookmarks, as used in the file requester, are stored in the
“.geopixe” sub-directory to your home directory (if not found it will read
bookmarks from the GeoPIXE directory). It will save paths back to the .geopixe
directory. The token “$HOME” in the bookmark list translates to your home
directory (as pointed to by the HOME environment variable).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>7)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Support
for computer clusters and multiple cores on modern PCs has been added. The
cluster mode is selected in the new config file “geopixe.conf”. When “cluster
type cores” is selected, multiple IDL sessions are used to divide up the
processing of raw data. This works for data streams in a series of files, with
absolute XY coordinates contained within them and using numeric file extensions
on the files. Select the number of cores to use in “cluster nodes n”, and
enable cluster mode on the <i>Sort EVT</i> window. Log files are written to the
“.geopixe” sub-directory to your home directory.</p>

<h2><a name="_Toc222317540">New Features in 6.1:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Libraries
for low-level processing code have been compiled for both 32 and 64 bit
versions of Windows, Linux and Mac OS 10. GeoPIXE should now run on all these
platforms, although it is only tested routinely on Windows 32 and Linux 32/64. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>An
interim version of these libraries was placed on the FTP site without
optimization. The new versions are a factor of 2 faster and should be
downloaded to replace any interim libraries.</p>

<h2><a name="_Toc222317541">New Features in 6.0:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
major reorganization in GeoPIXE 6.0 is the development of Object Oriented
Device driver plugins. All device specific code is now gathered together in a
single PRO file that is loaded automatically from the “interface” directory as
an IDL Object. Each file name has the form “XXX_DEVICE__DEFINE.PRO” for device
“XXX” object code. Users can now view and modify their device-dependent IDL
code and indeed write new drivers using these as templates. A new guide “Help\Object
Oriented Device Driver Modules.doc” is provided to help with this.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Device
objects may choose to read and write new device-specific parameters to Image
(.DAI) and region files (.REGION). Older, Maia explicit parameters have been
removed. Matching read and write methods need to be written in the object
definition to do this consistently for each device that needs extra parameters.
For this reason, extensions to DAI and REGION files now exist that will make
them unreadable to older versions of GeoPIXE 5.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
following devices make good templates for writing driver code: (i) MPsys_device
– simple PIXE list-mode in a single file, (ii) NSLS_MCA – SXRF raw data stored
in pixel MCA spectra files that also scans for variables providing ion chamber
count rates and sensitivity, and (iii) Maia_device – uses all methods,
including use of Y lookup tables and defining extra widgets and use (and read,
write) of local device parameters.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
GeoPIXE directory has been reorganized. Now plugins are located in the
“plugins” directory, the Maia config file (used with the Maia device) and the Maia
background processes (used with the Maia_Control program for detector
monitoring and control) are located in the “maia” directory, the new device
objects are in the “interface” directory  and image files are located in
“images”. Example setup files have been moved to the ‘setup’ directory.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
GeoPIXE PIXE database has been extended to include Np and Pu L lines, using an
extension of the ECPSSR tables of Cohen and Harrigan for L cross-sections (At.
Data Nucl. Data Tables 33 (1985) 255) and relative intensities (At. Data Nucl.
Data Tables 34 (1986) 393) (D,D. Cohen, pers. Comms, 2011). The XRF database
extends to Z=98 using the tables of Elam <i>et al.</i> 2001 (see v3.1).</p>

<h2><a name="_Toc222317542">New Features in 5.5:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>An
extra feature has been added to the <i>Image Table</i> EVT button called
“individual”, which allows extracting individual spectra from each detector for
the first region in the region list. This complements “array”, which forms a
summed spectra of all detectors for each of the regions.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new checkbox under the element drop-list in the main GeoPIXE <i>Image</i>
window allows toggling the interpolation of image data when zoomed in. Uncheck
the box to suppress bilinear interpolation.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Some
errors have been corrected in the geometry corrections for large array
detectors with non-monotonic detector number order, such as Maia. The
correction means that the relative sensitivities across an array, and the
accumulation of sensitivity when a sub-set of detectors is utilized, have been
corrected. The impact of these corrections is that all <b>Maia Yield files</b> and
<b>Maia DA matrix files</b> should be regenerated and IC count to charge
conversion factors may need to be corrected. It is best to check all
calibrations on Maia quantitative images.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
number of structural extensions have been made to accommodate 3D data-sets for
XANES imaging. These include a XANES image stack window and extensions to RGB
images, Associations and regions. Image DAI files now contain beam energy and X
and Y pixel coordinate vectors.  More on this later ...</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Two
new Region selection types or shapes have been added: “Project X” and “Project
Y”. These work like “Traverse”, providing a method to produce linear traverse
profiles across images, but are constrained to project only in X or Y. These
are useful for pseudo 2D data-sets, such as XE XANES line scans, in which a
line is scanned (in X) at each beam energy E and the data-set is built as an
image with E as the Y axis. Then “Project Y” provides the XANES spectrum for a
selected portion of the scan line. New additions to DAI files store non-uniform
X and Y coordinate vectors if available from raw data source.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>New TIFF
export options have been added to the <i>Image</i> window to export in (i)
concentration (ppm), (ii) counts (summed over all detectors), and (iii) ng/cm<sup>2</sup>
loading per pixel. These options have been added to the <i>Batch Sort</i>
window too.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>New
information is packed into the DA matrix files to allow images to be reported
and exported in ng/cm<sup>2</sup> units. Older DA files will need to be
regenerated to access this feature (e.g. TIFF export).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new
Image window File menu option “Load (ignore null)” has been introduced as an
option to read certain poorly formatted files that fail to load normally. Try
this is you get a load error using “Load”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A “No Q”
button has been added to the <i>Spectrum Select</i> window to zero all charge
values in the table. If a charge is set for the first spectrum in the table,
then a “Fit All” applied to the <i>X-ray Spectrum Fit</i> will apply this
charge to all subsequent zero charge spectra. In the case of SXRF, the current
conversion factor from IC count to charge will be applied to any valid IC count
values in the subsequent spectra to calculate a charge before fitting. Click on
“?” next to the charge (Q) field in the fit window to make sure the correct
conversion is applied.</p>

<h2><a name="_Toc222317543">New Features in 5.2-5.4:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
number of structural changes have been made to accommodate new Maia 384
detector features, such as real-time spectra and DA image display, as well as
underlying changes needed for using parallel processing on computer clusters.
The parallel processing features are still under test.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Import</i> spectrum process looks quite different now. Selection of ion
chamber sensitivity for synchrotron data and a button to “scan for Epics PVs”
has been added. The flow of operations is more logical.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Sort EVT</i> window has been updated to incorporate ion chamber PV and
sensitivity selection and the conversion factor between IC count and equivalent
charge. Now input files, scan details, ion chamber settings and DA settings and
energy cal are on separate tab panels.</p>

<h2><a name="_Toc222317544">New Features in 5.1:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new image export has been added to output images in floating point TIFF format
for use elsewhere, such as for tomographic reconstruction. It can be accessed
on the “File<span style='font-family:Wingdings'>à</span>Export<span
style='font-family:Wingdings'>à</span>selected Images as TIFF counts” menu of
the main GeoPIXE <i>Image</i> window. The output is one TIFF file per selected
element plus a summary HTML file, output to the TIFF subdirectory by default.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new <i>Multi-image
Display</i> window has been added that displays a grid of simple element
windows (<i>Image</i> Display menu). These can be zoomed by dragging out a
rectangle in the first window.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Maia
detector array support has been extended to accommodate the new 384 detector
array developed by CSIRO and BNL for the Australian Synchrotron and the NSLS.</p>

<h2><a name="_Toc222317545">New Features in 5.0:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Flux
handling for synchrotron XRF imaging has been improved. A new “?” button next
to “Q” charge in the X-ray Spectrum Fit window provides a place to set
ion-chamber count to flux conversion based on charge, or to set charge based on
a prior conversion factor. See the Data Analysis Scenarios chapter on SXRF
imaging. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Flux is
tracked through image, spectra, region and results files. Hence, the format of
these files has all changed in version 5. These new files cannot be read by
older versions of GeoPIXE (v4).</p>

<h2><a name="_Toc222317546">New Features in 4.9:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new File Requester has been developed to provide better file selection,
directory navigation, bookmarked paths, content previewing and to give better
consistency across platforms.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Blog_Browser</i>
program is available from the Windows menus to browse and probe the details of
records in Maia data files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The
saving of HTML files and new DAI output images has been improved to create
subdirectories automatically.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Batch
processing has been extended to include Maia-96 detector data files.</p>

<h2><a name="_Toc222317547">New Features in 4.8:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Support
for the CSIRO-BNL Maia-96 advanced fluorescence detector arrays has been
extended to support flux measurement in images, and correction of images for
flux variation, which has necessitated extension to libraries. This version
requires the new “image_dll.dll” file under Windows and “image_lib.so” under
Linux.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
for detector arrays has been extended to “refit” in <i> X-ray Spectrum Fit</i>
and adjustments made in<i> Result Properties</i>, which were inherently simple
detector array functions before, to now include variation in sensitivity across
detector arrays and the selection of an arbitrary subset of detectors in an
array.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Extended
Maia-96 support for linearization to work with either a single linearization
table, or one for each detector, as stored in .linear files. These tables are
constructed with plug-ins specific to the Maia-96 detectors.</p>

<h2><a name="_Toc222317548">New Features in 4.7:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Support
for the CSIRO-BNL Maia-96 advanced fluorescence detector arrays has been
extended to support gain linearization, pileup rejection, rate throttling and
increased number of detector elements up to 384. This has necessitated moving
to Combobox widgets for detector selection throughout, which is also necessary
to move towards Linux support. The linearization and throttling follow through
to extracted spectra as well.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
for Ortec Maestro spectra format and the Wakasa ACC UniDAQ list-mode data files
has been added as well as preliminary support for SLS MCA and HASYLAB FIO image
spectra files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Fixed
behaviour of the vertical scale drop-list in <i>Spectrum Display</i> for fit
overlays and added the ability to normalize spectra within the Cut range. Fixed
behaviour of the Shrink, Expand and Widen buttons when in Auto and Norm
vertical modes.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Separated
the working directory tree for raw input data from output images, spectra and
other files. These can now be different allowing raw data to be stored in a
separate directory tree for easier archival of raw data.</p>

<h2><a name="_Toc222317549">New Features in 4.6:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Starting
with GeoPIXE 4.6, IDL version 7.0 will be used for all code and new plugins.
GeoPIXE will still be able to load v6 plugins.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The Cal
window has a new button “RA” to ‘re-assign’ selected peaks to a new
calibration. Use this when all spectra are calibrated relative to each other
and you want to re-assign the element identity of the peaks marked for energy
calibration. This will change energy calibrations for all spectra to assign the
peaks to the new selected energies. RA is a form of global re-calibration
adjustment for detector array support.</p>

<h2><a name="_Toc222317550">New Features in 4.5:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new Y display scale mode drop-list has been added to <i>Spectrum Display</i> to
control vertical scale normalization options. This replaces the “Rescale”
button. There are now options for automatic scale setting and for
re-normalization of multiple spectra to match the vertical range of the first.
The <i>Spectrum Display </i>controls have been rearranged to group the X and Y
controls together.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The X-ray
line identification window has been enhanced. Now all lines for an element are
highlighted if one of its lines is selected by clicking on a row. All lines for
an element in the line list are selected similarly if an element is selected in
the periodic table view.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>X–ray
Spectrum Fit</i> “Advanced/Widths” tab now as the ability to fix or adjust the
Noise peak width parameter via setting the resolution, based on Mn K<span
style='font-family:Symbol'>a</span> FWHM. The resolution is still available in <i>Fit
Results</i> as before. There is also a check-box to free the Fano factor in
fitting peak widths. Use this sparingly as the default works well most of the
time and increases fit stability.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new
“Export” menu option has been added to the <i>Associations</i> window. Use it
to export to CGM, WMF and EPS, or to display the associations in a new window
with detailed axes and axis tick-marks, etc.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Pile-up
in GeoPIXE <i>X-ray Spectrum Fit</i> assumes the use of pile-up rejection
strategies (electronic rejection or on-demand beam switching). However, finite
timing resolution can still lead to a small deficit in the sum-peak amplitudes.
A new “Deficit(%)” control has been added to the “Advanced/General” tab of <i>X-ray
Spectrum Fit</i> to adjust for this deficit.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
for list-mode data that does not fill out the specified pixel range completely.
The actual bounds is detected and beam flux will be assumed to be spread evenly
only within these bounds.</p>

<h2><a name="_Toc222317551">New Features in 4.4:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
scattered beam subtraction options, previously in the<i> Fit Results </i>drop-list,
have now been moved to the Fluid Inclusion (3 layer) mode of the<i> Result
Properties</i> window. Now these corrections are made once, which modifies the
data, and stored as a property (see the section on “Fluid Inclusion Analysis”
in the Data Scenarios section of the manual).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Version
4.4 is the first version of GeoPIXE to use the license key approach, and the
FTP site. Hence, the main executable of GeoPIXE (geopixe.sav) needs to be used
with the new versions of the files “geopixe2.sav”, “image_dll.dll” and a valid
license key “license.sav”, sent to you independently. Check the
“ftp-read-me.txt” file for the location of files on the FTP site.</p>

<h2><a name="_Toc222317552">New Features in 4.3:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
second detector efficiency curve can now be overlaid in red on the detector
efficiency being edited in the <i>Edit Detector</i> window. The ratio of the
new detector efficiency to the overlay is also displayed in violet, scaled down
to 10.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Spectra
in <i>Spectrum Display</i> can be optionally displayed with points and errors
bars for data, using a new check-box called “Error bars” next to the Log/Lin
button.</p>

<h2><a name="_Toc222317553">New Features in 4.2:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
various colour/intensity scales in the main image window, introduced in version
4.0, have been extended to the <i>3 Element RGB Image</i> window. Any scale
settings for each element in the main image window are now reflected in the RGB
colour scales in the <i>RGB Image</i> window.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new <i>Import</i>
pop-up window is available to import spectra files into<i> Spectrum Display</i>.
This replaces the lengthy menus and enables the selection of PIXE versus SXRF
laboratories and the selection of various file formats from each.</p>

<h2><a name="_Toc222317554">New Features in 4.1:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>An
extra tab on the <i>Results Properties</i> window for thick targets enables the
calculation of target thickness from STIM transmission ion energy loss data.
This updates the thickness of the target in the yield model, and upon “Apply”
calculates the new yields based on this thickness and applies these to the
selected results in <i>Fit Results</i>. </p>

<h2><a name="_Toc222317555">New Features in 4.0:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>In
the main GeoPIXE <i>Image</i> window, all concentrations between the bottom and
top sliders are mapped onto the current colour map, using a linear scale by
default. Use the new small drop-list between the bottom and top sliders to
select between Linear (L), Log (G) and Sqrt (S) scales for the Z axis. The Sqrt
and Log scales have the effect of compressing dynamic range, which can be
useful for images with strong hot-spots and low-level traces.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The<i>
X-ray Spectrum Fit</i>  window has been re-vamped to place more subtle
parameters and controls on an “Advanced” tab panel. In addition, a number of
controls have been added to this panel to control background, tailing and
parameters specific to PIXE and SXRF.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>“Conc”
units can now be specified in “ppm (wt)”, “mmol/l” and “ng/cm<sup>2</sup>”, the
latter being appropriate for a layered sample such as a fluid inclusion.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Full
detector array support has been added for yield calculation, image projection
and spectrum fitting. Now the take-off angle variation across large arrays can
be catered for, as well as arrays with non-planar geometries (e.g.
hemi-spherical), round and square pads, and arbitrary tilt relative to the
detector-target axis.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
for the Maia series of detector system has been extended to support
full-spectral SXRF (or PIXE) imaging using up to 384 detector elements.</p>

<h2><a name="_Toc222317556">New Features in 3.9:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Ghost
features in images, corresponding to second displaced beam at a fixed offset
can be corrected using the “Process<span style='font-family:Wingdings'>à</span>Correct<span
style='font-family:Wingdings'>à</span>Ghost” menu. The menu offers relative
intensities of the ghost feature in 10% and 1% increments. Use these in
combination to correct ghost features; the operation is applied to all images.
Beforehand, use the “Distance” shape tool to drag out a vector giving the
offset to the ghost or echo features.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>GeoPIXE
can process the HDF format NSLS scan files now as a new device in <i>Sort EVT</i>
and the <i>Spectrum Display</i> Import menu.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Fixed a
bug related to <i>Fit Results</i> files (PFR) that contained fits that used
multi-layer filters. The file format had an error in it. The fix now permits
all old PFR files, which may contain the error, to be read and rectified. All
new PFR files have the correct format.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>If a
region is selected and highlighted based on element <i>Associations</i>, then
the exclude operation can now be used to remove pixels from the Association
highlighted area.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>To remove
pixels from the current <i>Associations</i> highlighted area, use the exclude
“-“ mode of region select shape. Select exclude, drag out a shape and use the “<span
style='font-family:Symbol'>S</span>” button to remove pixels within this region
from the current <i>Associations</i> selection. Note for this to work, no
include region should be set. To make sure, use the menu “Display<span
style='font-family:Wingdings'>à</span>Clear ALL Shapes” and then select the
exclude region. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The Image
Export options have been extended to permit export of whole images, or selected
regions, for selected elements as tab or comma delimited ASCII files, or as <i>X,Y,concentration</i>
files with multiple columns for multiple element image selection.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>An energy
cursor and energy entry field have been added to the <i>Edit Filters</i> and <i>Edit
Detectors</i> windows. Enter photon energy (keV), or drag a cursor on the plot,
to determine the transmission or efficiency at the cursor energy for filters
and detectors, respectively. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>If an
X-ray line is selected in the <i>X-ray Identification</i> window, the filter
and detector window cursors will be set to this value.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Loading
filter files that use explicit density for compound filter layers will now
display in the <i>Edit Filters</i> and <i>Edit Detectors</i> windows in
“microns” mode with this density set.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Mostly,
image data is made available to <i>Image RGB</i> via a notification from the
main <i>GeoPIXE Image</i> windows when new data are loaded. However, the new
“Compare Images” menu offers a way to load another data-set (e.g. to compare
PIGE with PIXE images); the new elements are added to the <i>Image RGB</i>
element drop-lists. Select any of the original elements (as in the associated <i>Image</i>
window) or the new “Compare” elements in the drop-lists.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Zero
pixel data can be removed using the “Process<span style='font-family:Wingdings'>à</span>Correct<span
style='font-family:Wingdings'>à</span>Zero pixels” menu of the main GeoPIXE <i>Image</i>
window. “Zero” pixels are defined as those that are surrounded by at least 6
non-zero pixels. It uses a threshold of 3% of the display maximum of the
currently displayed element to determine which pixels contain anomalous zero
data. GeoPIXE then replaces these zero pixels in all element images with the
average of surrounding non-zero pixel data.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Several
parameters that can be used to adjust the behaviour of background, tailing and
scatter peaks in the fit are now available on an “Advanced” tab on the <i>X-ray
Spectrum Fit</i> window. Many features that were only occasionally used (such
as CUTs background algorithm parameters) are also now on this Advanced panel.</p>

<h2><a name="_Toc222317557">New Features in 3.8:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>New
features have been added to accommodate the Maia-32 event-file format produced
by the CSIRO Blog server. In addition to this device being added to the device
list in <i>Sort EVT</i> and to the Import list in <i>Spectrum Display</i>,
data-rate throttling has been implemented. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Throttling
is a method to reduce data rates by selectively scaling down parts of the
spectrum to reduce total count rates while making little impact on image
quality and trace element analysis. Throttle files can be produced in two ways:
one from a source spectrum (in <i>Spectrum Display</i> Analyze<span
style='font-family:Wingdings'>à</span>Throttle menu) and one taking into
account image variation (in<i> Image Display </i>Analyze<span style='font-family:
Wingdings'>à</span>Throttle menu). See the help on these menus for details.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>For
Maia-32 EVT files, <i>Sort EVT</i> includes a file specification entry for a
pileup limits file, which specifies the range of valid time-over-threshold for
each detector pulse-height. The Import menu of <i>Spectrum Display</i> also has
options for sorting spectra with or without pileup removed by this approach.
The EVT button on the <i>Image Regions</i> window sorts out spectra with pileup
removed, if appropriate for the image data-set.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new
window (<i>Time Amplitude</i>) is available (in the <i>Spectrum Display</i>
“Windows” menu) to plot the Time-over-threshold time versus pulse-height
amplitude for Maia 32 events. Use the “File” menu to select EVT files to sort.
If an image is loaded into <i>Image Display</i>, and a region is selected and
the “<span style='font-family:Symbol'>S</span>” button is pressed, then the <i>Time
Amplitude</i> window will sort and display the Time-Amplitude points for all
events that fall within the selected region.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>If a
region is selected on an image while <i>Time Amplitude</i> is open, then only
the subset of Maia-32 events that fall within the region will be displayed in <i>Time
Amplitude</i>. It will sort through as many files as needed to display the
requested number of events.</p>

<h2><a name="_Toc222317558">New Features in 3.7:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Entry
of energy and A, B data into the Cal window text widgets is now a little
smarter, and do not require a &lt;return&gt; to be properly registered.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Images
can be corrected for missing scan lines, or portions of scan lines, in both the
horizontal and vertical. Look under Image Operations in the Help for tips.
Surround the missing line segment with a Box shape, and go to the “Process<span
style='font-family:Wingdings'>à</span>Correct<span style='font-family:Wingdings'>à</span>Missing
Rows” menu to replace the missing data with the average on either side.
Similarly, “missing columns” works for vertical missing data. Use
“Double-counted rows” to attenuate double-counted rows by two, and similarly
for columns. These operations are applied to all elemental images, and cannot
be undone; save the image file first.</p>

<h2><a name="_Toc222317559">New Features in 3.6:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
“Convert<span style='font-family:Wingdings'>à</span>APS MDA to LST” operation,
on the <i>Spectrum Display</i> File menu, can now use multiple file select to
process a sequence of MDA files. These are assumed to use the same assignment
for ion chamber PV, sensitivity and live-time correction.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Initial
support for Hasylab FOI full-spectral pixel data files has been added.</p>

<h2><a name="_Toc222317560">New Features in 3.5:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Several
functions that use regions now will use Association highlighted areas on
images, if no valid Region is selected (i.e. Shape tool on <i>Image</i> window
is set to “Distance” or no shape has been drawn). These include Correct Current
and Kill and Suppress Region.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>In the <i>Association</i>
window, a spline region can be cleared using a right mouse button click.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new
menu in Spectrum Display (“Display<span style='font-family:Wingdings'>à</span>Get
ALL Energy Cals”) can be used to load all energy calibrations for multiple
spectra corresponding to elements of an array from a selected spectrum file.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
has been added for GSE-CARS full-spectral pixel data files.</p>

<h2><a name="_Toc222317561">New Features in 3.4:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
now includes an improved elastic and inelastic scattering model for SXRF. The
intensities of these, and the length of the inelastic and multiple-scattering
tail, can be varies in the fit. However, at present there is not control or
variation on the electron momentum distribution for inelastic scattering. These
will appear later.</p>

<h2><a name="_Toc222317562">New Features in 3.3:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Image Regions</i> window has a new feature for sorting all detectors of an
array into merged spectra for regions. The spectra are mapped onto the energy
calibration of the first spectrum before being accumulated into single spectra.
The ADC drop-list now starts with “array” which means sort all array detector
enabled for the image in <i>Sort EVT</i> when the list-mode file was sorted
(assumes “Detector Array” type was selected in <i>Sort EVT</i>).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Detector
Setup</i> window has been updated (access from “Edit Detector” menu). Now the
solid-angle properly reflects detector tilt angle as well as detector
dimensions and distance.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Filter
Setup</i> window now has a new “Special” filter option for Bragg filters. These
are log-spiral X-ray lenses tuned to Bragg diffract a certain energy. The
centre, width, height (enhancement) and background (scattering) of this
transfer function can be specified. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>When
fitting a series of spectra, using the “Fit All” button on the X-ray Spectrum
Fit window, if only the first spectra has a Q value (e.g. entered into the Q
box in the fit window) then all spectra will assume the same charge/flux.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Sometimes
<i>Spectrum Select</i> was not being updated as spectrum properties were
changing. This has been rectified.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
for Tohoku Labo, NSLS MCA image pixel spectra and Sandia Primecore U48
list-mode formats has been added to GeoPIXE.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Association
highlights on images can now be exported as Transparent PNG images using a new
File<span style='font-family:Wingdings'>à</span>Export menu.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Results
of yield calculations can be exported for examination using the new “Export”
button on the <i>PIXE/SXRF Yield Calculation</i> window.</p>

<h2><a name="_Toc222317563">New Features in 3.2:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
simple scheme has been added to enable determination of the conversion from Ion
Chamber counts to flux or “charge” for APS generated data using a standard
foil. Quantification is then straightforward for unknown samples.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
Image Export options have been enhanced to control the format of Exported
output to the printer and various metafile formats. Also, a selected region of
an image can be selected for export by dragging a shape on the image and
checking the “Crop Image” option.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Export
of images to CSV file now has the option to export only a selected region of
the image. Use a shape and the new menu item for export of a region.</p>

<h2><a name="_Toc222317564">New Features in 3.1:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
scene has been set for XRF imaging and analysis for synchrotron X-ray
microprobe applications with the addition of XRF fundamental parameter
databases for Z up to 98, making use of recent compilations by Elam <i>et al</i>.,
2002, Ebel <i>et al</i>., 2002 and Campbell <i>et al.</i>, 2003. To select
photons, select “Photons” in the beam particle drop-list in the yield
calculation window (bring up with the “New” button in the <i>X-ray Spectrum Fit
window</i>) or set Z1 and A1 to zero. Beam energies are then in keV.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Detector
array handling has been improved, and a new section in the Scenarios chapter
has been added.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new button “Export” has been added to the <i>X-ray Spectrum Fit window</i> to
export the Dynamic Analysis matrix to a binary file (extension DMX) for
download into a data acquisition system for real-time generation of elemental
images.  </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
has been ported to Linux; the same XDR portable SAV file will run on both
Windows and Linux platforms. All binary files are in XDR format and can be used
on either platform. <i>Note that while this manual tends to refer to file
extensions in uppercase, they should all be lower case under Linux</i>.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>5)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
now assumes IDL version 6.0.</p>

<h2><a name="_Toc222317565">New Features in 3.0:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
now has support for detector arrays. The <i>Sort EVT</i> window can process all
detectors of an array simultaneously and project all data onto a common set of
elemental images using a Dynamic Analysis matrix. <i>Sort EVT</i> has a drop-list
to select the array option. Select a DA matrix as usual, and enable all ADCs
that are part of the array. The “Get” button can be used to load the energy
calibrations of all detectors from a spectrum SPEC file. Fit the spectra first
in <i>X-ray Spectrum Fit</i> to refine the calibrations using “Fit: All”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Many
device drivers have been moved into external Fortran code to improve the speed
of processing list-mode files. Some file formats show significant speed
increases with throughput up to 20 Mb/sec (on a 2GHz P4).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new
curvilinear traverse shape “Curve 8” has been added to the GeoPIXE<i> Image
Display</i> window. It provides a spline curve to tailor non-linear traverses
in order to project changing concentration data along non-linear paths across
images.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The “B”
button adjacent to the “EVT File:” button in the <i>Sort EVT</i> window brings
up the <i>Batch Sort</i> window for editing parameters and controlling batch
sorting of entire directory trees of list-mode files. It also enables a tree
directory structure to be generated and populated with list-mode and related
files. Note that this function handles single-file list-mode data, but can not
handle multiple-file list-mode data, as used at Lund and GSE-CARS, at this
time.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
for Sandia BD12 list-mode format, for use with the Rontec 12 element Si drift
detector array, has been added to GeoPIXE.</p>

<h2><a name="_Toc222317566">New Features in 2.9:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
now has Preferences selection (“Preferences” on the “File” menu of the main
GeoPIXE <i>Image Display</i> window). These set options for launching various
GeoPIXE windows on start-up, and parameters referring to XY stage ranges and
stepper resolution. Preferences stored to the file “GeoPIXE.prefs” become the
defaults for the next launch of GeoPIXE.</p>

<h2><a name="_Toc18816524"></a><a name="_Toc18817044"></a><a name="_Toc18817326"></a><a
name="_Toc18907861"></a><a name="_Toc18929293"></a><a name="_Toc18929479"></a><a
name="_Toc19013242"></a><a name="_Toc19015512"></a><a name="_Toc222317567">New
Features in 2.8:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Export
of image plots to structured drawing formats, such as CGM, EPS and WMF has been
improved, and now produce plots with concentration legend, labels, and axes in
microns (if image size was supplied).  The <i>Image Display</i> “File<span
style='font-family:Wingdings'>à</span>Export<span style='font-family:Wingdings'>à</span>Save
Images as CGM” and “File<span style='font-family:Wingdings'>à</span>Export<span
style='font-family:Wingdings'>à</span>Save Images as WMF” menus, as well as the
“File<span style='font-family:Wingdings'>à</span>Print” menu, pop-up a
requester to tailor the size and weight of characters, line thickness, the
placement of optional items, such as a distance bar, and the choice of output
format (CGM, WMF, EPS, Printer).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Export of
spectra plots to structured drawing formats, such as CGM, EPS and WMF has also
been improved. The <i>Spectrum Display</i> “File<span style='font-family:Wingdings'>à</span>Export<span
style='font-family:Wingdings'>à</span>CGM Plot” and “File<span
style='font-family:Wingdings'>à</span>Export<span style='font-family:Wingdings'>à</span>WMF
Plot” menus, as well as the “Print Plot” menu, pop-up a requester to tailor the
size and weight of characters, line thickness, etc. and the choice of output
format.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The way
that user written image processing plug-ins are treated has changed a little.
In particular, the format of the returned history record must contain the name
of the routine. Please check the code in “template_image_plugin.pro” for
details. Image processing plug-ins now appear in the <i>Image Operations</i>
list for easy access.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A bug
that effected the calculation and plotting of pileup spectrum overlay when
there was a large energy calibration offset has been fixed.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A bug in
OMDAQ produces an error offset in the energy calibration for spectra extracted
from LMF files. Use the enclosed OMDAQ E Offset plug-in to correct for this.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new
menu “Process<span style='font-family:Wingdings'>à</span> “Fold” can be used to
remove the toggle bit effect, which produces the effect of a double spectrum.
This ‘folds’ a spectrum back on top of itself to half the length in channels
adding contributions to channels as it goes.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>An
accurate pile-up spectrum can now be calculated using image pixel intensity
products. Use the “Display<span style='font-family:Wingdings'>à</span>Pileup<span
style='font-family:Wingdings'>à</span>from Images” menu in <i>Spectrum Display</i>. 
<i>X-ray Spectrum Fit</i> can now use these calculated image pileup spectra to
obtain more accurate fits to spectra corresponding to total spectra from PIXE
images with wide variation in major element spatial distribution..</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Images
can now be corrected for pile-up related effects, based on pixel-by-pixel
calculation of pile-up components. A new menu in <i>Image Display</i> called
“Process<span style='font-family:Wingdings'>à</span>Correct<span
style='font-family:Wingdings'>à</span>Image Pile-up” performs this task in
concert with the <i>Spectrum Display</i> window. See the expanded manual
sections for details.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Image
processing operations that were applied to element images in one image file can
now be applied selectively to element images in a new image file. This makes
digital filtering and smoothing of images in a batch run of many analyses much
quicker.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A
ten-step colour table has been added to the <i>Image Display</i> “Display<span
style='font-family:Wingdings'>à</span>Colours” menu, and the Export<span
style='font-family:Wingdings'>à</span>CGM options will now adjust the Z legend
tick marks to these colour transitions.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A new
output option allows the image shapes to be export as transparent PNG files.
See the “File<span style='font-family:Wingdings'>à</span>Export<span
style='font-family:Wingdings'>à</span>Current Shape as PNG” menu <i>in Image
Display</i>.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Support
has been added for reading Fastcom MPAWIN and MPA3 list-mode files and Sandia
EVT data-cube files. </p>

<h2><a name="_Toc18816525"></a><a name="_Toc18817045"></a><a name="_Toc18817327"></a><a
name="_Toc18907862"></a><a name="_Toc18929294"></a><a name="_Toc18929480"></a><a
name="_Toc19013243"></a><a name="_Toc19015513"></a><a name="_Toc222317568">New
Features in 2.7:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Edit Filters</i> and <i>Edit Detectors</i> windows now show plots of
transmission and intrinsic efficiency, respectively.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Both the
HTML save format in <i>Image Display</i> (menu “File<span style='font-family:
Wingdings'>à</span>Save All as HTML (PNG)”) and the Chimage format save
operation (menu “File<span style='font-family:Wingdings'>à</span>Save as
Chimage”) now use a pop-up to select elements. This pop-up also allows
selection lists to be saved and restored to enable the use of standard element
lists. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>X-ray
Identification</i> window (“Display<span style='font-family:Wingdings'>à</span>Identify
X-rays” menu, or the “?” button, from <i>Spectrum Display</i> window) now has
drop-lists to select X-ray filters and the detector in “Mark Element” mode. All
X-ray line relative intensities are now calculated assuming detector efficiency
and absorption through these filters. These lines are shown on the <i>Spectrum
Display</i> window as orange markers. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Sort
EVT</i> function now accumulates the total integrated charge for OM DAQ
list-mode file during sorting.  The charge field is updated AFTER the sort
completes, and the charge is written into the image header. A new requester
will pop-up to allow editing, or scaling the charge up or down by multiples of
10.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The “File<span
style='font-family:Wingdings'>à</span>Save ALL as HTML (PNG)” output menu
operation of the <i>Image Display</i> window now pops up a requester for the
entry of the desired elements to output.  These element selection lists can
also be saved and restored from this pop-up panel.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The
“Export” buttons on the <i>X-ray Spectrum Fit </i>and <i>Image Regions</i>
windows now bring up pop-up panels to select options for export, including
quantities to export and element selection.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Menus
under the <i>Image Display</i> “Window” menu can be used to bring up “unlinked”
versions of the <i>Image Display</i> or <i>Spectrum Display</i> windows. 
Normally, all windows are linked together and reflect one dataset under study. 
By opening <i>unlinked</i> windows, you can load quite independent images or
spectra without affecting the current images and spectra, or the current path. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Layer
II Setup</i> window now has a “Plot” button to bring up a plot window to
display various calculation results, such as PIXE yields, as a function of
depth or energy.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>S<i>ort
EVT</i>, as well as functions to read IMG spectra files or extract spectra from
EVT files in <i>Spectrum Display</i>, all now look for an MP file of the same
name. If one is found, relevant details, such as images sizes, energy
calibration and integrated charge are retrieved from the MP file. </p>

<h2><a name="_Toc18816526"></a><a name="_Toc18817046"></a><a name="_Toc18817328"></a><a
name="_Toc18907863"></a><a name="_Toc18929295"></a><a name="_Toc18929481"></a><a
name="_Toc19013244"></a><a name="_Toc19015514"></a><a name="_Toc222317569">New
Features in 2.6:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
can now process list-mode files generated using the Oxford Microbeams OM DAQ
data acquisition systems and software.  Select “OM DAQ<b> </b>Data Acquisition
for PC” on the input device drop-list in the <i>Sort EVT</i> window.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Loading
of all spectra, and import of spectra from files or extracted from list-mode
files, can now use multiple file selection.  Simply use multiple selection in
the file requester (using control or shift keys) to select multiple files
within a selected directory.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Spectra
(single or multiple) can now be appended to the spectra already in memory using
the “File<span style='font-family:Wingdings'>à</span>Import<span
style='font-family:Wingdings'>à</span>Append<span style='font-family:Wingdings'>à</span>
…” menus.  Use the “File<span style='font-family:Wingdings'>à</span>Import<span
style='font-family:Wingdings'>à</span>New<span style='font-family:Wingdings'>à</span>
…” menus to clear memory first.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>X-ray
Spectrum Fit</i> window now has a button to fit ALL spectra currently loaded
into GeoPIXE.  Coupled with the ability to load multiple files, this enables
simple batch processing of series of spectra from multi-spectra SPEC files, or
loaded from a series of single spectrum files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The Cal
window for energy calibration now has a button to set the calibration for all
spectra loaded (“All”) or just the currently displayed spectrum (“One”), and a
button to set the units to “keV”.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Improved
the intensity of the Ge K<sub><span style='font-family:Symbol'>b</span></sub>
escape peak. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Spectrum
Display</i> window now has a user plug-in facility.  Now you can write spectrum
processing and other user spectrum operations in IDL, such as custom fitting. 
These are loaded when GeoPIXE runs and appear on the “Process<span
style='font-family:Wingdings'>à</span>User Plug-ins” menu.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Spectra
import now available for ANSTO RPT format spectrum files.</p>

<h2><a name="_Toc18816527"></a><a name="_Toc18817047"></a><a name="_Toc18817329"></a><a
name="_Toc18907864"></a><a name="_Toc18929296"></a><a name="_Toc18929482"></a><a
name="_Toc19013245"></a><a name="_Toc19015515"></a><a name="_Toc222317570">New
Features in 2.5:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new window <i>Image RGB </i>window displays three element images as the Red,
Green and Blue components of a 24-bit colour image.  The intensity of each
element is set in the Image Display windows.  The results can be exported as
24-bit PNG or JPEG files.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Image
Display</i> window now has a user plug-in facility.  Now you can write image
processing and other user image operations in IDL.  These are loaded when
GeoPIXE runs and appear on the “Process<span style='font-family:Wingdings'>à</span>User
Plug-ins” menu.  As with other image operations, these add an information line
to the image history record.  The “Undo” menu (or button on the <i>Image
Operations</i> window) can be used to undo this user plug-in operation.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Image
processing operations have been added to the <i>Image Display</i> window
(“Process” menu) for edge enhancement (Roberts and Sobel filters), erosion and
dilation, and rotation and mirroring of images. Many of these are also in the <i>Image
Operations</i> window list for quick access.</p>

<h2><a name="_Toc18816528"></a><a name="_Toc18817048"></a><a name="_Toc18817330"></a><a
name="_Toc18907865"></a><a name="_Toc18929297"></a><a name="_Toc18929483"></a><a
name="_Toc19013246"></a><a name="_Toc19015516"></a><a name="_Toc222317571">New
Features in 2.4:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>A
new window <i>Association</i> is used to plot associations of two elements in
images.  In other words, each pixel in a set of elemental images represents a
data point in multi-element space. <i>Association</i> displays two-element
projections from this space.  This can show up discrete phases in a sample, for
example, which appear as discreet blobs that may be separated in some
two-element views.  </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>A spline
tool is available in the <i>Association</i> window to select arbitrary areas in
two-element space.  These selections can be used to highlight all pixels in the
element images that represent this area in two-element composition space.  
These pixel selections, plus the average concentrations within these
highlighted areas, are saved in the <i>Image Regions</i> window table.  As with
normal image region selections, the spectra from any ADCs within these selected
areas can be extracted.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>If a
normal image region is used, to select a spatial area within an image, then the
element associations shown in the <i>Association</i> window only show data from
within this spatial area of the image.  For example, this can be used to learn
about specific phases in an image, exclude a dominant phase, or to separate
subtle intergrowth compositions.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>An <i>Image
History</i> window is now available from the “Windows<span style='font-family:
Wingdings'>à</span>Image History” menu of the <i>Image Display</i> window.  It
shows all image processing operations that have been performed on each
elemental image.  This will show all history for all existing image files as
well.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'> The<i>
Image Table</i> window now has a button to update just the currently selected
region.  To make an adjustment to a region, select it by clicking on the row in
<i>Image Table</i>, and then click on the “Update: One” button.  This will
update the concentrations and store the new region shape and position in the
selected table row.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The <i>Image
Operations</i> window has been updated.  It now includes an “Undo Last” button
to undo the last image processing operation performed.  This also updates the <i>Image
History</i> window accordingly.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Line
profiles generated using the “Traverse” region now include an overlaid plot of
the detection limit (99% confidence) in each distance step, as a dashed curve.</p>

<h2><a name="_Toc18816529"></a><a name="_Toc18817049"></a><a name="_Toc18817331"></a><a
name="_Toc18907866"></a><a name="_Toc18929298"></a><a name="_Toc18929484"></a><a
name="_Toc19013247"></a><a name="_Toc19015517"></a><a name="_Toc222317572">New
Features in 2.3:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>Fit
Results</i> now has an “Export All” button to export all results and parameter
categories to the output ASCII .CSV table.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The
“Traverse” image region now has shear control.  The side handles, moved using
the left mouse button, usually control the width of the traverse region,
perpendicular to the projection axis.  Now you can shear this projection, so
that it’s not perpendicular.  Use the right mouse button to select these side
handles and slide parallel to the main axis to change the shear.  </p>

<h2><a name="_Toc18816530"></a><a name="_Toc18817050"></a><a name="_Toc18817332"></a><a
name="_Toc18907867"></a><a name="_Toc18929299"></a><a name="_Toc18929485"></a><a
name="_Toc19013248"></a><a name="_Toc19015518"></a><a name="_Toc222317573">New
Features in 2.2:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><i>Spectrum
Display</i> now has two ASCII spectrum file import options.  One reads spectra,
one from each column, into consecutive spectra.  The other reads ASCII spectra
files that contain channel energy as the first column (e.g. as produced by the
“File<span style='font-family:Wingdings'>à</span>Export<span style='font-family:
Wingdings'>à</span>CSV Table” menu) and one or more spectra channel counts as
the subsequent columns.  These files can be white space, comma or tab
delimited, or a combination of these.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>More
import options have been added for old format GeoPIXE  VAX binary spectra files
and for ASCII files.  The ASCII import option can read files with multiple
spectra as columns.  There are two menus.  One reads files where the first
column is channel energy.  The second reads all columns as spectra.  Both
assume that the first row contains column labels, and if energy mode is chosen,
it uses the label for the first column as energy units.  These functions can
handle column separation using white-space (spaces, tabs) or commas, or a
combinations of these.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>Spectrum
Display now has Windows Metafile export options.  Go to menu “File<span
style='font-family:Wingdings'>à</span>Export<span style='font-family:Wingdings'>à</span>WMF
Plot on Black” for output for a dark background, or “File<span
style='font-family:Wingdings'>à</span>Export<span style='font-family:Wingdings'>à</span>WMF
Plot on White” for output for a light background.  These files, like the CGM
ones, can be imported into PowerPoint as pictures.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The
detector efficiency function has generally followed the function of Cohen
(Nucl. Instr. Meth 178 (1980) 481), as corrected by Ryan et al. (C.G. Ryan,
D.R. Cousens, S.H. Sie and W.L. Griffin, &quot;Quantitative Analysis of PIXE
Spectra in Geoscience Applications&quot;, Nucl. Instr. Meth. B49 (1990),
271-276), which uses a multiplicative factor of 0.717.  GeoPIXE has used this
to be consistent with packages such as PIXAN.  A new option in the <i>Detector_Setup</i>
window makes this factor optional.  Use this to be consistent with other
packages that do not follow Cohen. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>The menus
for display of calculated pileup and Si and Ge escape spectra are now active in
<i>Spectrum Display</i>, under the Display menu.</p>

<h2><a name="_Toc18816531"></a><a name="_Toc18817051"></a><a name="_Toc18817333"></a><a
name="_Toc18907868"></a><a name="_Toc18929300"></a><a name="_Toc18929486"></a><a
name="_Toc19013249"></a><a name="_Toc19015519"></a><a name="_Toc222317574">New
Features in 2.1:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>There
is a new feature in the <i>Correct Yields</i> window for the correction of
artefacts in images caused by the spatial variation of X-ray absorption across
the image. At present it just assumes that the detector is to the right in the
images, and at a take-off angle of 45º.  Details of the process can be found in
(C.G. Ryan, E. van Achterbergh, G. Mark, C.J. Yeats, S.L. Drieberg, B.M.
McInnes, T.T. Win, G. Cripps and G.F. Suter, &quot;Quantitative, High
Sensitivity, High Resolution, Nuclear Microprobe Imaging of Fluids, Melts and
Minerals&quot;, Nucl. Instr. Meth. B188 (2002) 18-27.).</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
projection onto end-member phases now also produces an image corresponding to
the <i>remainder</i>, i.e. the proportion <u>not</u> assigned to the end-member
phases.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Support
for 4 list-mode formats is provided: Mpsys on Linux and Unix, Sparrow Kmax on
Macintosh, and XSYS on VAX/VMS.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>4)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Interactive
set-up windows for filter and detector definitions are now provided.  Go to the
Windows menus on the <i>Image Display</i> or <i>Spectrum Display</i> windows.</p>

<h2><a name="_Toc18816532"></a><a name="_Toc18817052"></a><a name="_Toc18817334"></a><a
name="_Toc18907869"></a><a name="_Toc18929301"></a><a name="_Toc18929487"></a><a
name="_Toc19013250"></a><a name="_Toc19015520"></a><a name="_Toc222317575">New
Features in 2.0:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>There
is a new <i>Cuts Setup</i> window for the interactive set-up of energy cuts on
spectra.  The window also displays background-subtracted peak-areas deduced
using cuts.  Cuts can be named for use in sorting list-mode data, for example
from non-PIXE ADC channels.</p>

<h2><a name="_Toc18816533"></a><a name="_Toc18817053"></a><a name="_Toc18817335"></a><a
name="_Toc18907870"></a><a name="_Toc18929302"></a><a name="_Toc18929488"></a><a
name="_Toc19013251"></a><a name="_Toc19015521"></a><a name="_Toc222317576">New
Features in 1.9:</a></h2>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>1)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>There
is a new feature for the correction of concentration due to the spatial
variation of PIXE yields caused by changing sample composition across an
image.  The new <i>Correct Yields</i> window allows for this correction, using
a new approximation for combining PIXE yields calculated for end-member <a
name="_Hlk83108755">components (see C.G. Ryan, &quot;Quantitative Trace Element
Imaging using PIXE and the Nuclear Microprobe&quot;, International Journal of
Imaging Systems and Technology [Special issue on Quantitative Imaging] 11
(2000) 219-230 and C.G. Ryan, E. van Achterbergh, C.J. Yeats, Tin Tin Win and
G. Cripps, “Quantitative PIXE trace element imaging of minerals using the new
CSIRO-GEMOC Nuclear Microprobe”, Nucl. Instr. Meth. B189 (2002) 400-407)</a>. </p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>2)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>The
<i>Correct Yields</i> window also provides projection of element images onto
images of end-member components.</p>

<p class=Numeric-List style='margin-left:60.4pt;text-indent:-17.85pt'>3)<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>GeoPIXE
can sort list-mode data with up to 8 ADCs (extended to 384 detector channels in
later versions).</p>

<p class=MsoNormal>&nbsp;</p>

</div>

</body>

</html>
